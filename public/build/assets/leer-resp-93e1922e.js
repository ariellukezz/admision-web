import{r as c,e as pe,f as d,o as n,c as u,d as m,a as t,w as a,b as r,t as I,s as v,g as i,k as me,j as ve,l as B,u as _,S as _e,F as O,D as J,E as fe,a6 as K,n as xe}from"./app-ce8068d7.js";import ye from"./ficha-df994964.js";import{S as ge}from"./SaveOutlined-c223f1ac.js";import{F as Q}from"./FormOutlined-ad71384f.js";import"./logotiny-c4b525af.js";import"./logoDAD-c76d0a0b.js";const he={class:"pl-4",style:{background:"white",width:"100%","min-height":"calc(100vh - 190px)","border-radius":"12px"}},be={class:"flex justify-between mt-2"},ke={style:{color:"#0000009d","margin-top":"-6px"}},Ie={key:0,class:"mt-3 mb-3",style:{"margin-left":"-5px"}},we={key:0},Ce=["onDblclick"],Ee={key:2,class:"flex",style:{"justify-content":"center"}},$e={key:0},Se={key:1},De={key:2},ze={key:1,class:"mt-3 mb-3",style:{"margin-left":"-5px"}},Ne={key:0},Ae={class:"flex justify-between mb-4"},Ue={class:"ant-upload-drag-icon"},Be=m("p",{class:"ant-upload-text",style:{width:"100%"}},"Haz clic o arrastra archivos a esta área para cargar",-1),Oe=m("p",{class:"ant-upload-hint"}," Soporte para carga única o múltiple. Prohibido subir datos de la empresa u otros archivos prohibidos. ",-1),Te=m("div",{style:{"margin-top":"0px"}}," Cargar respuestas ",-1),Fe=m("div",{style:{"margin-top":"0px"}}," Nueva respuesta ",-1),Le=m("div",{style:{"margin-top":"0px"}}," asdfas ",-1),He={__name:"leer-resp",props:["proceso"],setup(T){const W=window.location.origin,y=c("contenido"),w=c(),h=c([]),F=c(null),L=T,C=c(!1),E=c(1),Z=e=>{const o=e.file.status;o!=="uploading"&&console.log(e.file,h.value),o==="done"?(K.success(`${e.file.name} archivo(s) subido(s) exitosamente.`),S()):o==="error"&&K.error(`${e.file.name} falló al subir.`)},ee=()=>{h.value=null},b=c(!1),M=c(0),V=c(0),te=e=>{b.value=!0,M.value=e.clientY,V.value=e.clientX,e.preventDefault()},$=e=>{e==="1"&&(C.value=!0,b.value=!1)},ae=e=>{b.value=!1},j=c([]),q=c([]),g=c(""),S=async()=>{B.post("/get-archivos-res",{term:g.value,proceso:L.proceso}).then(e=>{j.value=e.data.datos.data}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},D=async()=>{B.post("/get-res",{term:g.value,proceso:L.proceso}).then(e=>{q.value=e.data.datos.data}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})};let R;pe(g,(e,o)=>{clearTimeout(R),R=setTimeout(()=>{D()},300)});const z=c(!1),oe=e=>{F.value=e,z.value=!0};S(),D();const se=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"Tipo",dataIndex:"tipo",align:"center",width:"100px"},{title:"Nombre",dataIndex:"nombre"},{title:"Area",dataIndex:"area"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Registros",dataIndex:"registros",align:"center"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"96px"}],le=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"N° lectura",dataIndex:"n_lectura",align:"center"},{title:"DNI",dataIndex:"dni",align:"center"},{title:"Aula",dataIndex:"aula",width:"60px",align:"center"},{title:"Tip",dataIndex:"tipo",width:"60px",align:"center"},{title:"Litho",dataIndex:"res_litho",align:"center"},{title:"Respuestas",dataIndex:"respuestas",align:"center"},{title:"Observaciones",dataIndex:"observaciones",align:"center"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"96px"}],P=e=>{B.get("eliminar-archivo/"+e.id).then(o=>{S(),D(),ne("error",o.data.titulo,o.data.mensaje)})},ne=(e,o,k)=>{xe[e]({message:o,description:k})};return(e,o)=>{const k=d("a-radio-button"),ie=d("a-radio-group"),H=d("a-input"),p=d("a-tag"),f=d("a-button"),X=d("a-popconfirm"),Y=d("a-table"),N=d("a-select-option"),re=d("a-select"),de=d("inbox-outlined"),ue=d("a-upload-dragger"),G=d("a-modal"),A=d("a-menu-item"),ce=d("a-menu");return n(),u("div",{style:{},onClick:ae,onContextmenu:ve(te,["prevent"])},[m("div",he,[m("div",be,[t(ie,{value:y.value,"onUpdate:value":o[0]||(o[0]=l=>y.value=l),style:{"margin-left":"-3px"}},{default:a(()=>[t(k,{value:"contenido",style:{"border-radius":"9px 0px 0px 9px"}},{default:a(()=>[r("Respuestas")]),_:1}),t(k,{value:"archivos",style:{"border-radius":"0px 9px 9px 0px"}},{default:a(()=>[r("Archivos")]),_:1})]),_:1},8,["value"]),r(" "+I(y.value)+" ",1),t(H,{value:g.value,"onUpdate:value":o[1]||(o[1]=l=>g.value=l),style:{"max-width":"260px","border-radius":"6px",height:"32px"},placeholder:"Buscar"},{prefix:a(()=>[m("span",ke,[t(_(_e))])]),_:1},8,["value"])]),y.value==="archivos"?(n(),u("div",Ie,[(n(),v(Y,{columns:se,"data-source":j.value,key:e.id,size:"small",pagination:!1,style:{scale:".7rem"}},{bodyCell:a(({column:l,index:U,record:s})=>[l.dataIndex==="nro"?(n(),u("span",we,I(U+1),1)):i("",!0),l.dataIndex==="nombre"?(n(),u("div",{key:1,style:{width:"100%",cursor:"pointer"},onDblclick:x=>e.customRow(s)},[m("span",null,I(s.nombre),1)],40,Ce)):i("",!0),l.dataIndex==="area"?(n(),u("div",Ee,[s.area===1?(n(),u("div",$e,[t(p,{color:"cyan"},{default:a(()=>[r("Biomedicas")]),_:1})])):i("",!0),s.area===2?(n(),u("div",Se,[t(p,{color:"orange"},{default:a(()=>[r("Ingenierías")]),_:1})])):i("",!0),s.area===3?(n(),u("div",De,[t(p,{color:"purple"},{default:a(()=>[r("Sociales")]),_:1})])):i("",!0)])):i("",!0),l.dataIndex==="acciones"?(n(),u(O,{key:3},[t(f,{type:"success",class:"mr-1",style:{color:"#476175"},onClick:x=>e.cambiarSexo(s.id_postulante,s.sexo),size:"small"},{icon:a(()=>[t(_(ge))]),_:2},1032,["onClick"]),t(f,{onClick:x=>e.abrirEditar(s),class:"mr-1",style:{color:"blue"},size:"small"},{icon:a(()=>[t(_(Q))]),_:2},1032,["onClick"]),t(X,{title:"¿Estas seguro de eliminar?",onConfirm:x=>P(s)},{default:a(()=>[t(f,{shape:"",size:"small",style:{color:"crimson"}},{icon:a(()=>[t(_(J))]),_:1})]),_:2},1032,["onConfirm"])],64)):i("",!0)]),_:1},8,["data-source"]))])):i("",!0),y.value==="contenido"?(n(),u("div",ze,[(n(),v(Y,{columns:le,"data-source":q.value,key:e.id,size:"small",pagination:!1,style:{scale:".7rem"}},{bodyCell:a(({column:l,index:U,record:s})=>[l.dataIndex==="nro"?(n(),u("span",Ne,I(U+1),1)):i("",!0),l.dataIndex==="observaciones"?(n(),u(O,{key:1},[s.dni===null&&s.ide_litho!==null?(n(),v(p,{key:0,color:"pink"},{default:a(()=>[r(" Sin DNI")]),_:1})):i("",!0),s.aula===""?(n(),v(p,{key:1,color:"purple"},{default:a(()=>[r(" Sin aula")]),_:1})):i("",!0),s.len_doc!==8&&s.ide_litho!==null&&s.dni!==null?(n(),v(p,{key:2,color:"green"},{default:a(()=>[r(" Dni erroneo")]),_:1})):i("",!0),s.vaula===0?(n(),v(p,{key:3,color:"blue"},{default:a(()=>[r(" Error de aula")]),_:1})):i("",!0),s.tipo===""&&s.ide_litho!==null?(n(),v(p,{key:4,color:"yellow"},{default:a(()=>[r(" Sin tipo")]),_:1})):i("",!0),s.c_tipo===0&&s.ide_litho!==null?(n(),v(p,{key:5,color:"navy"},{default:a(()=>[r(" Tipo diferente")]),_:1})):i("",!0),s.c_aula===0&&s.ide_litho!==null?(n(),v(p,{key:6,color:"brown"},{default:a(()=>[r(" Aula diferente")]),_:1})):i("",!0),s.ide_litho===null?(n(),v(p,{key:7,color:"crimson"},{default:a(()=>[r(" SIN IDE")]),_:1})):i("",!0)],64)):i("",!0),l.dataIndex==="acciones"?(n(),u(O,{key:2},[t(f,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",onClick:x=>oe(s.id)},{icon:a(()=>[t(_(fe))]),_:2},1032,["onClick"]),t(f,{onClick:x=>e.abrirEditar(s),class:"mr-1",style:{color:"blue"},size:"small"},{icon:a(()=>[t(_(Q))]),_:2},1032,["onClick"]),t(X,{title:"¿Estas seguro de eliminar?",onConfirm:x=>P(s)},{default:a(()=>[t(f,{shape:"",size:"small",style:{color:"crimson"}},{icon:a(()=>[t(_(J))]),_:1})]),_:2},1032,["onConfirm"])],64)):i("",!0)]),_:1},8,["data-source"]))])):i("",!0),t(G,{visible:C.value,"onUpdate:visible":o[5]||(o[5]=l=>C.value=l),title:"Cargar fichas de respuestas",onOk:ee,centered:!0,style:{"max-height":"calc(100vh - 100px)","overflow-x":"scroll",cursor:"pointer"}},{default:a(()=>[m("div",Ae,[t(re,{class:"mb-2",style:{width:"75%"},value:E.value,"onUpdate:value":o[2]||(o[2]=l=>E.value=l)},{default:a(()=>[t(N,{value:1},{default:a(()=>[r("Biomédicas")]),_:1}),t(N,{value:2},{default:a(()=>[r("Ingenierías")]),_:1}),t(N,{value:3},{default:a(()=>[r("Sociales")]),_:1})]),_:1},8,["value"]),t(H,{style:{width:"23%"},value:w.value,"onUpdate:value":o[3]||(o[3]=l=>w.value=l),placeholder:"Aula"},null,8,["value"])]),t(ue,{fileList:h.value,"onUpdate:fileList":o[4]||(o[4]=l=>h.value=l),name:"file",multiple:!0,action:_(W)+"/calificacion/carga-res/"+T.proceso+"/"+E.value+w.value,onChange:Z,onDrop:e.handleDrop,"list-type":"picture"},{default:a(()=>[m("p",Ue,[t(de)]),Be,Oe]),_:1},8,["fileList","action","onDrop"])]),_:1},8,["visible"])]),b.value?(n(),u("div",{key:0,style:me([{position:"absolute",border:"solid 1px #d9d9d943","padding-top":"0px","border-radius":"8px",overflow:"hidden"},{top:`${M.value}px`,left:`${V.value}px`}])},[t(ce,{size:"small",style:{"margin-top":"-4px","margin-bottom":"-4px"}},{default:a(()=>[t(A,{key:"1",class:"selec-menu",onClick:o[6]||(o[6]=l=>$("1"))},{default:a(()=>[Te]),_:1}),t(A,{key:"2",class:"selec-menu",onClick:o[7]||(o[7]=l=>$("2"))},{default:a(()=>[Fe]),_:1}),t(A,{key:"2",class:"selec-menu",onClick:o[8]||(o[8]=l=>$("2"))},{default:a(()=>[Le]),_:1})]),_:1})],4)):i("",!0),t(G,{visible:z.value,"onUpdate:visible":o[9]||(o[9]=l=>z.value=l),footer:!1,style:{width:"880px"}},{default:a(()=>[t(ye,{id_resp:F.value},null,8,["id_resp"])]),_:1},8,["visible"])],32)}}};export{He as default};
