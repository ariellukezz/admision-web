import{r as m,e as M,c as v,a as e,u as U,w as t,F as A,j as g,o as p,X as se,d as a,t as C,Q as T,k as z,x as ne,b as h,R as ie,f as y,n as de,g as r,p as ue,h as re,s as ce}from"./app-6f9118d3.js";import{A as pe}from"./LayoutDocente-4fe3d4d8.js";import _e from"./voucher-0f3dab02.js";import me from"./anteriores-132eee91.js";import{_ as ve}from"./_plugin-vue_export-helper-c27b6911.js";import{f as fe}from"./index-54b38402.js";import{C as ge}from"./CreditCardOutlined-8bdf0cac.js";import"./DropdownLink-38284b72.js";import"./logotiny-c4b525af.js";const i=I=>(ue("data-v-4bbbf15d"),I=I(),re(),I),he=i(()=>a("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),be={style:{height:"34px"}},ye={style:{"font-weight":"700",color:"black","font-size":".7rem"}},xe={style:{"margin-top":"-10px"}},we={style:{"font-size":".8rem","text-transform":"uppercase"}},ke={style:{height:"40px","margin-left":"-10px"}},Se={style:{"font-weight":"bold"}},Ee={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},je=i(()=>a("div",{class:"flex mb-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos personales")],-1)),Ie={key:0},De=i(()=>a("label",null,"Primer Apellido",-1)),Ue=i(()=>a("label",null,"Segundo Apellido",-1)),Ce={class:"flex"},Ne={style:{width:"calc(100% - 100px)"}},qe=i(()=>a("label",null,"Prenombres",-1)),Ae={class:"ml-3",style:{width:"100px"}},ze=i(()=>a("label",null,"Puesto",-1)),Pe=i(()=>a("label",null,"Tipo documento",-1)),Re=i(()=>a("label",null,"Sexo",-1)),Fe=i(()=>a("label",null,"Fecha de nacimiento",-1)),Oe={class:"mb-3"},Me=["src"],Te=i(()=>a("div",{class:"flex justify-center"}," H. Der.",-1)),Ve=["src"],Be=i(()=>a("div",{class:"flex justify-center"}," H. Izq.",-1)),Ke=["src"],Le={class:"flex justify-end mb-0"},Ye=i(()=>a("span",{style:{"font-weight":"bold"}}," Actualizar Datos ",-1)),$e={class:"flex justify-center",style:{"margin-top":"-15px"}},Ge={style:{padding:"0px 2px","font-size":"2.6rem","margin-top":"2px","font-weight":"bold"}},He=i(()=>a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso anterior",-1)),Qe=[He],We={key:1},Je=i(()=>a("div",{class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso")],-1)),Xe=i(()=>a("label",null,"Proceso",-1)),Ze=i(()=>a("label",null,"Modalidad",-1)),et=i(()=>a("label",null,"Programa",-1)),tt=i(()=>a("label",null,"Puntaje",-1)),at=i(()=>a("label",null,"Fecha ingreso",-1)),lt={key:2,class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},ot=i(()=>a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Segunda Carrera",-1)),st=[ot],nt=i(()=>a("div",{style:{"text-align":"center"}},[a("label",null,"INDICAR QUE USE EL CORREO INSTITUCIONAL DE SU ANTERIOR INGRESO")],-1)),it={class:"mb-2"},dt={class:"",style:{width:"100%",height:"380px"}},ut={key:0},rt={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},ct={key:0},pt=["src"],_t={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},mt={key:0},vt=["src"],ft=i(()=>a("div",null,null,-1)),gt={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},ht={__name:"imprimir",setup(I){const N=window.location.origin,w=m(null),d=m(null),P=m([]),f=m([]),V=m(),k=m(0),B=()=>{V.value=Math.floor(Math.random()*100)+1},D=m([]);m(!0);const R=m([]),K=async()=>{let o=await g.get("get-requisitos");R.value=o.data.datos},L=m(null),l=m({id:null,nro_doc:"",tipo_doc:null,nombres:null,sexo:null,fec_nacimiento:null,primer_apellido:"",segundo_apellido:"",proceso:"",modalidad:"",puntaje:"",programa:"",fecha:"",puesto:""}),Y=async()=>{let o=await g.get("get-ingresante-general/"+w.value);l.value.id=o.data.datos.id,l.value.nro_doc=o.data.datos.nro_doc,l.value.tipo_doc=o.data.datos.tipo_doc,l.value.sexo=o.data.datos.sexo,o.data.datos.fec_nacimiento&&(l.value.fec_nacimiento=ce(o.data.datos.fec_nacimiento)),l.value.nombres=o.data.datos.nombres,l.value.primer_apellido=o.data.datos.primer_apellido,l.value.segundo_apellido=o.data.datos.segundo_apellido,l.value.proceso=o.data.datos.proceso,l.value.modalidad=o.data.datos.modalidad,l.value.puntaje=o.data.datos.puntaje,l.value.programa=o.data.datos.programa,l.value.puesto=o.data.datos.puesto,o.data.datos.fecha&&(l.value.fecha=o.data.datos.fecha),F()},$=async()=>{let o=await g.post("actualizar-ingresante",{id:l.value.id,tipo_doc:l.value.tipo_doc,sexo:l.value.sexo,fec_nacimiento:fe(new Date(l.value.fec_nacimiento),"yyyy-MM-dd"),nombres:l.value.nombres,paterno:l.value.primer_apellido,materno:l.value.segundo_apellido});X(o.data.tipo,o.data.titulo,o.data.mensaje),Q()},G=async(o="",s=1)=>{let c=await g.post("get-postulantes?page="+s,{term:w.value});P.value=c.data.datos.data},H=async()=>{D.value=[];let o=await g.post("get-postulante-requisitos",{dni:d.value});o.data.estado===!0&&(D.value=JSON.parse(o.data.datos.requisitos))},Q=async()=>{B();let o=await g.post("get-postulante-dni",{dni:d.value});postulante.value.id=o.data.datos.id_postulante,postulante.value.dni_temp=o.data.datos.dni};M(w,(o,s)=>{o.length>=8&&G()}),M(d,(o,s)=>{H(),o.length>=8&&(Y(),F())});const W=async()=>{let o=await g.post("control-biometrico",{dni:d.value,n_carrera:k.value});J(o.data.datos)},J=o=>{var s=document.createElement("iframe");s.style.display="none",s.src=N+"/documentos/control-biometrico-general/"+o+".pdf",document.body.appendChild(s),s.contentWindow.focus(),s.contentWindow.print()},F=async()=>{try{if(l.value.dni!=null){const o=await g.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:l.value.nro_doc,nom_:l.value.nombres,app_:l.value.primer_apellido,apm_:l.value.segundo_apellido},{headers:{"Content-Type":"application/json"}});f.value=o.data,f.value[0]&&(k.value=1)}else{const o=await g.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:d.value,nom_:"SDSFASD",app_:"SDSFASD",apm_:"SDSFASD"},{headers:{"Content-Type":"application/json"}});f.value=o.data,f.value[0]&&(k.value=1)}}catch(o){console.error("Error:",o)}};K();const X=(o,s,c)=>{de[o]({message:s,description:c})};return(o,s)=>{const c=r("a-input"),Z=r("a-auto-complete"),u=r("a-col"),b=r("a-row"),ee=r("a-checkbox"),te=r("a-checkbox-group"),_=r("a-form-item"),x=r("a-select-option"),q=r("a-select"),ae=r("a-date-picker"),O=r("a-button"),S=r("a-card"),le=r("a-label"),E=r("a-tab-pane"),oe=r("a-tabs");return p(),v(A,null,[e(U(se),{title:"Revisión de documentos"}),e(pe,null,{default:t(()=>[a("div",null,[e(S,{style:{background:"white"},class:"mb-0 p-0"},{default:t(()=>[e(b,{gutter:16,class:"mb-3"},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:t(()=>[a("div",null,[he,e(Z,{value:d.value,"onUpdate:value":s[1]||(s[1]=n=>d.value=n),options:P.value,style:{width:"300px"},onSelect:o.onSelect,onSearch:o.onSearch},{suffix:t(()=>[e(U(ge))]),option:t(({value:n,label:j})=>[a("div",be,[a("div",null,[a("span",ye,C(n),1)]),a("div",xe,[a("span",we,C(j),1)])])]),default:t(()=>[e(c,{ref_key:"dniInput",ref:L,placeholder:"Buscar",value:w.value,"onUpdate:value":s[0]||(s[0]=n=>w.value=n),onKeypress:o.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24},{default:t(()=>[a("div",ke,[e(te,{value:D.value,"onUpdate:value":s[2]||(s[2]=n=>D.value=n)},{default:t(()=>[(p(!0),v(A,null,T(R.value,(n,j)=>(p(),z(ee,{key:n.value,value:n.value,class:ne([{"first-item":j===0},"checkbox-item"])},{default:t(()=>[a("span",Se,C(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1})]),_:1}),e(b,{gutter:16},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:t(()=>[a("div",Ee,[e(oe,{activeKey:o.activeKey,"onUpdate:activeKey":s[17]||(s[17]=n=>o.activeKey=n),type:"card",style:{}},{default:t(()=>[e(E,{key:"7",tab:"Datos",class:"pl-2 pr-2"},{default:t(()=>[je,l.value?(p(),v("div",Ie,[e(S,null,{default:t(()=>[e(b,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[De,e(c,{value:l.value.primer_apellido,"onUpdate:value":s[3]||(s[3]=n=>l.value.primer_apellido=n)},null,8,["value"])]),_:1}),e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ue,e(c,{value:l.value.segundo_apellido,"onUpdate:value":s[4]||(s[4]=n=>l.value.segundo_apellido=n)},null,8,["value"])]),_:1}),e(_,null,{default:t(()=>[a("div",Ce,[a("div",Ne,[qe,e(c,{value:l.value.nombres,"onUpdate:value":s[5]||(s[5]=n=>l.value.nombres=n)},null,8,["value"])]),a("div",Ae,[ze,e(c,{value:l.value.puesto,"onUpdate:value":s[6]||(s[6]=n=>l.value.puesto=n)},null,8,["value"])])])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Pe,a("div",null,[e(q,{ref:"tipodocumento",value:l.value.tipo_doc,"onUpdate:value":s[7]||(s[7]=n=>l.value.tipo_doc=n),style:{width:"100%"}},{default:t(()=>[e(x,{value:1},{default:t(()=>[h("DNI")]),_:1}),e(x,{value:2},{default:t(()=>[h("Carné Ext.")]),_:1})]),_:1},8,["value"])])]),_:1}),e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Re,a("div",null,[e(q,{ref:"sexoigresante",value:l.value.sexo,"onUpdate:value":s[8]||(s[8]=n=>l.value.sexo=n),style:{width:"100%"}},{default:t(()=>[e(x,{value:"1"},{default:t(()=>[h("MASCULINO")]),_:1}),e(x,{value:"2"},{default:t(()=>[h("FEMENINO")]),_:1})]),_:1},8,["value"])])]),_:1}),e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Fe,e(ae,{placeholder:"Selecciona tu fecha de nacimiento",style:{width:"100%"},value:l.value.fec_nacimiento,"onUpdate:value":s[9]||(s[9]=n=>l.value.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:2,xl:2},{default:t(()=>[a("div",Oe,[a("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+l.value.nro_doc+"x.jpg",height:"80"},null,8,Me),Te]),a("div",null,[a("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+l.value.nro_doc+".jpg",height:"80"},null,8,Ve),Be])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[a("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/inscripcion/"+l.value.nro_doc+".jpg",width:"250"},null,8,Ke)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:17},{default:t(()=>[a("div",Le,[e(O,{class:"btn-actualizar",onClick:s[10]||(s[10]=n=>$())},{default:t(()=>[Ye]),_:1})])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:8,xl:7},{default:t(()=>[a("div",$e,[a("span",Ge,"DNI "+C(l.value.nro_doc),1)])]),_:1})]),_:1})]),_:1}),f.value[0]?(p(),v("div",{key:0,class:"flex mb-3 mt-3",style:ie(f.value[0]?"align-items:center; justify-content: center; width: 100%; height: 40px; background: red; border-radius: 7px;":"align-items:center; justify-content: center; width: 100%; height: 40px; background: #cdcdcd4F; border-radius: 7px;")},Qe,4)):y("",!0),f.value[0]?(p(),v("div",We,[e(S,null,{default:t(()=>[(p(!0),v(A,null,T(f.value,(n,j)=>(p(),v("div",{key:j},[e(me,{item:n},null,8,["item"])]))),128))]),_:1})])):y("",!0),Je,e(S,null,{default:t(()=>[e(b,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Xe,e(c,{value:l.value.proceso,"onUpdate:value":s[11]||(s[11]=n=>l.value.proceso=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ze,e(c,{value:l.value.modalidad,"onUpdate:value":s[12]||(s[12]=n=>l.value.modalidad=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[et,e(c,{value:l.value.programa,"onUpdate:value":s[13]||(s[13]=n=>l.value.programa=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[tt,e(c,{value:l.value.puntaje,"onUpdate:value":s[14]||(s[14]=n=>l.value.puntaje=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(_,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[at,e(c,{value:l.value.fecha,"onUpdate:value":s[15]||(s[15]=n=>l.value.fecha=n)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),f.value[0]?(p(),v("div",lt,st)):y("",!0),e(S,{class:"mb-3",style:{"margin-bottom":"10px"}},{default:t(()=>[f.value[0]?(p(),z(b,{key:1,gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(_,null,{default:t(()=>[nt]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(_,null,{default:t(()=>[a("div",it,[e(le,null,{default:t(()=>[h("SEGUNDA CARRERA")]),_:1}),e(q,{ref:"select",value:k.value,"onUpdate:value":s[16]||(s[16]=n=>k.value=n),style:{width:"100%"}},{default:t(()=>[e(x,{value:1},{default:t(()=>[h("SI")]),_:1}),e(x,{value:0},{default:t(()=>[h("NO")]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1})]),_:1})):(p(),z(b,{key:0,gutter:16}))]),_:1})])):y("",!0)]),_:1}),e(E,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:t(()=>[a("div",dt,[d.value!==null&&d.value.length===8?(p(),v("div",ut,[e(_e,{dni:d.value},null,8,["dni"])])):y("",!0)])]),_:1}),e(E,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:t(()=>[a("div",null,[a("div",rt,[d.value!==null&&d.value.length===8?(p(),v("div",ct,[a("iframe",{src:U(N)+"/documentos/general2023-II/"+d.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,pt)])):y("",!0)])])]),_:1}),e(E,{key:"4",tab:"Ex vocacional"},{default:t(()=>[a("div",null,[a("div",_t,[d.value!==null&&d.value.length===8?(p(),v("div",mt,[a("iframe",{src:U(N)+"/documentos/cepre2023-II/"+d.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,vt)])):y("",!0)])])]),_:1}),e(E,{key:"6",tab:"D. Biométricos"},{default:t(()=>[ft]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),a("div",gt,[e(O,{type:"primary",onClick:s[18]||(s[18]=n=>W())},{default:t(()=>[h("Imprimir")]),_:1})])]),_:1})])]),_:1})],64)}}},Dt=ve(ht,[["__scopeId","data-v-4bbbf15d"]]);export{Dt as default};
