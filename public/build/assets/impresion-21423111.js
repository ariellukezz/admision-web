import{r as v,e as V,f,o as r,c as u,a as e,u as p,w as a,F as I,Z as _e,d,t as B,b as t,g as c,D as ve,M as W,E as F,k as Q,p as me,h as fe,G as ye,n as ge}from"./app-0c4c8883.js";import{A as he}from"./LayoutDocente-5f5bddcb.js";import{_ as be}from"./_plugin-vue_export-helper-c27b6911.js";import{f as ke}from"./index-0fb57a3f.js";import{F as X}from"./FormOutlined-ae370879.js";import"./DropdownLink-db547857.js";import"./logotiny-c4b525af.js";import"./TopMenu-48eaad48.js";const xe=A=>(me("data-v-2ff59803"),A=A(),fe(),A),Ie={style:{padding:"0px 15px"}},Ce={class:"flex justify-end"},we=xe(()=>d("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),Se={style:{height:"34px"}},Ee={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Pe={style:{"margin-top":"-10px"}},Ae={style:{"font-size":".8rem","text-transform":"uppercase"}},De={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},Me={class:"container-principal"},Ue={class:"container-postulante"},ze={class:"mr-3 container-imagen"},Ne=["src"],Ve=["src"],Be={class:"datos-postulante"},Fe={class:"mb-2"},je={class:"mb-2"},Oe={class:"mb-2"},Te={class:"flex"},Ke={class:"mr-3",style:{width:"100%"}},$e={style:{width:"100%"}},qe={style:{width:"200px"}},Le={class:"container-postulante mb-2"},Ye={style:{width:"100%"}},Ge={class:"container-postulante mb-2"},He={style:{width:"100%"}},Re={class:"container-postulante"},We={style:{width:"100%"}},Qe={class:"mb-2"},Xe={class:"mt-4 container-huellas"},Ze={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},Je=["src"],ea=["src"],aa={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},ta=["src"],oa=["src"],la={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},ia={style:{"margin-right":"5px"}},da={key:0},sa={key:1},na={key:0},ra={key:1},ua={class:"flex",style:{"align-items":"center"}},ca={key:0,style:{color:"red","margin-top":"-8px"}},pa={key:0},_a={key:1},va={key:1},ma={class:"flex",style:{"align-items":"center"}},fa={key:0,style:{color:"red","margin-top":"-8px"}},ya={key:0,type:"primary",ghost:""},ga={key:1,type:"danger",ghost:""},ha=["href"],ba={key:0,type:"primary",ghost:""},ka={key:1,type:"danger",ghost:""},xa={key:0,type:"primary",ghost:""},Ia={key:1,type:"danger",ghost:""},Ca={key:0,style:{width:"100%"}},wa=["src"],Sa={__name:"impresion",props:{baseUrl:String},setup(A){const C=window.location.origin,j=v(!1),S=v(""),x=v("1"),_=v(null),O=v(null),M=v(null),T=v([]),l=v({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",cod_programa:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),K=v([]),U=v([]),z=v([]),Z=()=>{console.log("onSelect",_)},J=o=>{console.log("handleKeyPress",o)},$=async(o="",n=1)=>{let y=await axios.post("get-postulantes?page="+n,{term:S.value});T.value=y.data.datos.data};v(null);const ee=async()=>{v();let o=await axios.get("get-postulante-dni/"+_.value);l.value.id=o.data.datos.id_postulante,l.value.nombres=o.data.datos.nombres,l.value.primer_apellido=o.data.datos.primer_apellido,l.value.segundo_apellido=o.data.datos.segundo_apellido,l.value.sexo=o.data.datos.sexo,l.value.fec_nacimiento=ye(o.data.datos.fec_nacimiento),l.value.colegio=o.data.datos.colegio,l.value.procedencia=o.data.datos.departamento+" / "+o.data.datos.provincia+" / "+o.data.datos.distrito,l.value.proceso=o.data.datos.proceso,l.value.modalidad=o.data.datos.modalidad,l.value.programa=o.data.datos.programa,l.value.cod_programa=o.data.datos.cod_programa,l.value.id_programa=o.data.datos.id_programa,l.value.id_proceso=o.data.datos.id_proceso,l.value.id_modalidad=o.data.datos.id_modalidad,l.value.dni_temp=o.data.datos.dni,j.value=ne(o.data.datos.id_postulante,l.value.id_proceso)},ae=async()=>{let o=await axios.get("get-apoderados-postulante/"+_.value);K.value=o.data.datos},q=async()=>{try{const o=await axios.get("api-pagos/"+_.value);U.value=o.data.data}catch(o){console.error("Error:",o)}},te=async()=>{let o=await axios.get("get-documentos-postulante/"+_.value);z.value=o.data.datos},oe=async()=>{let o=await axios.get("get-preinscripciones-postulante/"+_.value);O.value=o.data.datos},L=async()=>{let o=await axios.get("get-inscripciones-postulante/"+_.value);M.value=o.data.datos},Y=async()=>{await axios.post("inscribir",{postulante:l.value}),le(_.value),_.value="",S.value="",l.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};V(S,(o,n)=>{$()}),v(),V(_,(o,n)=>{L(),ee(),q()}),V(x,(o,n)=>{x.value==2&&ae(),x.value==3&&q(),x.value==4&&te(),x.value==5&&L(),x.value==6&&oe()});const le=o=>{var n=document.createElement("iframe");n.style.display="none",n.src=C+"/documentos/general2023-II/"+o+".pdf",document.body.appendChild(n),n.contentWindow.focus(),n.contentWindow.print()},ie=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],de=[{title:"N° Operación",dataIndex:"paymentTitle"},{title:"Fecha",dataIndex:"paymentDatetime",key:"fecha"},{title:"Hora",dataIndex:"paymentDatetime",key:"hora"},{title:"Concepto",dataIndex:"paymentTitle"},{title:"Monto",dataIndex:"paymentAmount",key:"monto"}],se=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"verificado"},{title:"Acciones",dataIndex:"acciones"}],ne=(o,n)=>!!M.value.find(D=>D.id_postulante===o&&D.id_proceso===n),re=(o,n,y)=>{ge[o]({message:n,description:y})},ue=async()=>{let o=await axios.post("actualizar-postulante",{id:l.value.id,nombres:l.value.nombres,primer_apellido:l.value.primer_apellido,segundo_apellido:l.value.segundo_apellido,fec_nacimiento:ke(new Date(l.value.fec_nacimiento),"yyyy-MM-dd"),sexo:l.value.sexo});o.data.estado===!0&&re(o.data.tipo,o.data.titulo,o.data.mensaje)},G=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return $(),(o,n)=>{const y=f("a-input"),D=f("a-auto-complete"),h=f("a-label"),ce=f("a-date-picker"),i=f("a-select-option"),N=f("a-select"),H=f("a-col"),k=f("a-button"),w=f("a-tab-pane"),b=f("a-tag"),R=f("a-divider"),E=f("a-table"),pe=f("a-tabs");return r(),u(I,null,[e(p(_e),{title:"Inscripciones-impresión"}),e(he,null,{default:a(()=>[d("div",null,[e(pe,{activeKey:x.value,"onUpdate:activeKey":n[12]||(n[12]=s=>x.value=s),type:"card"},{default:a(()=>[e(w,{key:"1",tab:"Inscripcion"},{default:a(()=>[d("div",Ie,[d("div",Ce,[d("div",null,[we,e(D,{value:_.value,"onUpdate:value":n[1]||(n[1]=s=>_.value=s),options:T.value,style:{width:"300px"},onSelect:Z,onSearch:o.onSearch},{option:a(({value:s,label:g})=>[d("div",Se,[d("div",null,[d("span",Ee,B(s),1)]),d("div",Pe,[d("span",Ae,B(g),1)])])]),default:a(()=>[e(y,{placeholder:"Buscar",value:S.value,"onUpdate:value":n[0]||(n[0]=s=>S.value=s),onKeypress:J},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),d("div",De,[d("div",Me,[e(H,{flex:"1 1"},{default:a(()=>[d("div",Ue,[d("div",ze,[l.value.primer_apellido!==""?(r(),u("img",{key:0,src:p(C)+"/fotos/inscripcion/"+l.value.dni_temp+".jpg"},null,8,Ne)):(r(),u("img",{key:1,src:p(C)+"/fotos/postulantex.jpg"},null,8,Ve))]),d("div",Be,[d("div",Fe,[e(h,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(y,{value:l.value.primer_apellido,"onUpdate:value":n[2]||(n[2]=s=>l.value.primer_apellido=s),placeholder:"Primer apellido"},null,8,["value"])]),d("div",je,[e(h,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(y,{value:l.value.segundo_apellido,"onUpdate:value":n[3]||(n[3]=s=>l.value.segundo_apellido=s),placeholder:"Segundo apellido"},null,8,["value"])]),d("div",Oe,[e(h,null,{default:a(()=>[t("Prenombres")]),_:1}),e(y,{value:l.value.nombres,"onUpdate:value":n[4]||(n[4]=s=>l.value.nombres=s),placeholder:"Prenombres"},null,8,["value"])]),d("div",Te,[d("div",Ke,[e(h,null,{default:a(()=>[t("Fecha Nac")]),_:1}),d("div",$e,[e(ce,{style:{width:"100%"},value:l.value.fec_nacimiento,"onUpdate:value":n[5]||(n[5]=s=>l.value.fec_nacimiento=s),format:"DD/MM/YYYY"},null,8,["value"])])]),d("div",qe,[e(h,null,{default:a(()=>[t("Sexo")]),_:1}),e(N,{ref:"select",value:l.value.sexo,"onUpdate:value":n[6]||(n[6]=s=>l.value.sexo=s),label:"label",style:{width:"100%"}},{default:a(()=>[e(i,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(i,{value:"2"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),d("div",null,[d("div",Le,[d("div",Ye,[e(h,null,{default:a(()=>[t("Colegio")]),_:1}),e(y,{value:l.value.colegio,"onUpdate:value":n[7]||(n[7]=s=>l.value.colegio=s),disabled:"",placeholder:"Colegio"},null,8,["value"])])]),d("div",Ge,[d("div",He,[e(h,null,{default:a(()=>[t("Procedencia")]),_:1}),e(y,{value:l.value.procedencia,"onUpdate:value":n[8]||(n[8]=s=>l.value.procedencia=s),disabled:"",placeholder:"Procedencia"},null,8,["value"])])]),d("div",Re,[d("div",We,[e(h,null,{default:a(()=>[t("Proceso")]),_:1}),e(y,{value:l.value.proceso,"onUpdate:value":n[9]||(n[9]=s=>l.value.proceso=s),disabled:"",placeholder:"Proceso"},null,8,["value"])])])])]),_:1}),e(H,{flex:"0 1 400px"},{default:a(()=>[d("div",null,[d("div",Qe,[e(h,null,{default:a(()=>[t("Modalidad")]),_:1}),e(N,{ref:"select",value:l.value.modalidad,"onUpdate:value":n[10]||(n[10]=s=>l.value.modalidad=s),style:{width:"100%"},disabled:""},{default:a(()=>[e(i,{value:7},{default:a(()=>[t("PERSONAS CON DISCAPACIDAD")]),_:1}),e(i,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(i,{value:9},{default:a(()=>[t("CEPREUNA")]),_:1})]),_:1},8,["value"])]),d("div",null,[e(h,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(N,{ref:"select",value:l.value.programa,"onUpdate:value":n[11]||(n[11]=s=>l.value.programa=s),style:{width:"100%"},disabled:!0},{default:a(()=>[e(i,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(i,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(i,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(i,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(i,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(i,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(i,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(i,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(i,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(i,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(i,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(i,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(i,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(i,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(i,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(i,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(i,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(i,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(i,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(i,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(i,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(i,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(i,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(i,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(i,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(i,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(i,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(i,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(i,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(i,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(i,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(i,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(i,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(i,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(i,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(i,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(i,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(i,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(i,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(i,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(i,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(i,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),d("div",Xe,[d("div",Ze,[l.value.primer_apellido!==""?(r(),u("img",{key:0,src:p(C)+"/fotos/huella/"+l.value.dni_temp+".jpg"},null,8,Je)):(r(),u("img",{key:1,src:p(C)+"/huellas/huella.jpg"},null,8,ea))]),d("div",aa,[l.value.primer_apellido!==""?(r(),u("img",{key:0,src:p(C)+"/fotos/huella/"+l.value.dni_temp+"x.jpg"},null,8,ta)):(r(),u("img",{key:1,src:p(C)+"/huellas/huella.jpg"},null,8,oa))])])]),_:1})])]),d("div",la,[d("div",ia,[e(k,{type:"",onClick:ue},{default:a(()=>[t("Actualizar Datos")]),_:1})]),d("div",null,[j.value==!1?(r(),u("div",da,[e(k,{type:"primary",onClick:Y},{default:a(()=>[t("Inscribir")]),_:1})])):(r(),u("div",sa,[e(k,{type:"primary",disabled:"",onClick:Y},{default:a(()=>[t("Inscribir")]),_:1})]))])])])]),_:1}),e(w,{key:"2",tab:"Apoderados"},{default:a(()=>[e(E,{dataSource:K.value,columns:ie},{bodyCell:a(({column:s,index:g,record:m})=>[s.dataIndex==="parentesco"?(r(),u(I,{key:0},[m.parentesco=="Padre"?(r(),u("div",na,[e(b,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):c("",!0),m.parentesco=="Madre"?(r(),u("div",ra,[e(b,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):c("",!0)],64)):c("",!0),s.dataIndex==="acciones"?(r(),u(I,{key:1},[e(k,{type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[g]),size:"small"},{icon:a(()=>[e(p(X))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),e(k,{type:"danger",disabled:"",onClick:P=>o.eliminar(o.filiales[g]),shape:"",size:"small"},{icon:a(()=>[e(p(ve))]),_:2},1032,["onClick"])],64)):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"3",style:{}},{tab:a(()=>[d("div",ua,[U.value.length===0&&l.value.dni_temp!==""?(r(),u("div",ca,[d("span",null,[e(p(W))])])):c("",!0),t(" vouchers ")])]),default:a(()=>[e(E,{dataSource:U.value,columns:de},{bodyCell:a(({column:s,index:g,record:m})=>[s.dataIndex==="codigo"?(r(),u(I,{key:0},[m.codigo==26?(r(),u("div",pa,[e(b,{color:"green"},{default:a(()=>[t(" Derechos de admisión ")]),_:1})])):c("",!0),m.codigo==39?(r(),u("div",_a,[e(b,{color:"pink"},{default:a(()=>[t(" Examen médico ")]),_:1})])):c("",!0)],64)):c("",!0),s.dataIndex==="monto"?(r(),u("div",va,[d("span",null,"S/ "+B(m.monto.toFixed(2)),1)])):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"4"},{tab:a(()=>[d("div",ma,[z.value.length<3&&l.value.dni_temp!==""?(r(),u("div",fa,[d("span",null,[e(p(W))])])):c("",!0),t(" Documentos ")])]),default:a(()=>[e(E,{dataSource:z.value,columns:se,size:"small"},{bodyCell:a(({column:s,index:g,record:m})=>[s.dataIndex==="verificado"?(r(),u(I,{key:0},[m.verificado==1?(r(),u("div",ya,[e(b,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(r(),u("div",ga,[e(b,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):c("",!0),s.dataIndex==="acciones"?(r(),u(I,{key:1},[e(k,{type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[g]),size:"small"},{icon:a(()=>[e(p(X))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),d("a",{href:"../../"+m.url,target:"_blank"},[e(k,{type:"primary",onClick:P=>o.eliminar(o.filiales[g]),shape:"",size:"small"},{icon:a(()=>[e(p(F))]),_:2},1032,["onClick"])],8,ha)],64)):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"5",tab:"Inscripciones"},{default:a(()=>[e(E,{dataSource:M.value,columns:G,size:"small"},{bodyCell:a(({column:s,index:g,record:m})=>[s.dataIndex==="estado"?(r(),u(I,{key:0},[m.estado==1?(r(),u("div",ba,[e(b,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(r(),u("div",ka,[e(b,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):c("",!0),s.dataIndex==="acciones"?(r(),Q(k,{key:1,type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[g]),size:"small"},{icon:a(()=>[e(p(F))]),_:2},1032,["onClick"])):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"6",tab:"Pre inscripciones"},{default:a(()=>[e(E,{dataSource:O.value,columns:G,size:"small"},{bodyCell:a(({column:s,index:g,record:m})=>[s.dataIndex==="estado"?(r(),u(I,{key:0},[m.estado==1?(r(),u("div",xa,[e(b,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(r(),u("div",Ia,[e(b,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):c("",!0),s.dataIndex==="acciones"?(r(),Q(k,{key:1,type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[g]),size:"small"},{icon:a(()=>[e(p(F))]),_:2},1032,["onClick"])):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"7",tab:"Constancia"},{default:a(()=>[_.value?(r(),u("div",Ca,[d("iframe",{src:"https://inscripciones.admision.unap.edu.pe/documentos/general2023-II/"+_.value+".pdf",width:"100%",style:{height:"calc(100vh - 140px)"},scrolling:"yes",frameborder:"1"},null,8,wa)])):c("",!0)]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},Va=be(Sa,[["__scopeId","data-v-2ff59803"]]);export{Va as default};
