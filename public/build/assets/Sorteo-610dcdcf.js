import{r as m,x as pe,e as j,f as c,B as fe,o as _,c as I,a as e,u as A,w as t,F as z,l as k,Z as ve,d as n,C as F,b as a,S as K,t as C,s as y,g as N,E as me,D as Ie,n as ge,p as xe,h as Ae}from"./app-8e62d123.js";import{A as ye}from"./AuthenticatedLayout-443e8aa4.js";import{_ as be}from"./_plugin-vue_export-helper-c27b6911.js";import{S as Ee}from"./SaveOutlined-b80cd071.js";import{F as Ne}from"./FormOutlined-3889bfb2.js";import"./DropdownLink-e632b2ee.js";import"./logotiny-c4b525af.js";/* empty css                                                                            */import"./TeamOutlined-735dc808.js";const u=w=>(xe("data-v-e7eb78c7"),w=w(),Ae(),w),he={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Ce={style:{width:"320px",background:"#476175",height:"500px",position:"reactive","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"}},we=u(()=>n("div",{style:{width:"320px",background:"white",height:"340px",position:"absolute",top:"160px","border-radius":"20px 20px 10px 10px"}},null,-1)),Oe=u(()=>n("div",{style:{padding:"8px",width:"200px",overflow:"hidden",background:"white",height:"200px",position:"absolute",left:"66px",top:"60px","border-radius":"50%",border:"s solid #9d9d9d"}},[n("img",{src:"https://i.pinimg.com/236x/6f/fb/06/6ffb06eaeaace0d90a0596fac6c6377d.jpg",style:{width:"200px","border-radius":"50%"},"height:":"200px",class:"img-fluid",alt:""})],-1)),Se={style:{padding:"8px",height:"245px",width:"320px",position:"absolute",top:"255px"}},Re=u(()=>n("div",{class:"flex justify-center mt-3"},[n("span",{style:{"font-family":"'Audiowide', sans-serif","font-size":"1.5rem",color:"#476175"}}," ARIEL LUQUE ")],-1)),Ue=u(()=>n("div",{class:"flex justify-center mt-3"},[n("span",{style:{"font-family":"'Audiowide', sans-serif","font-size":"1.0rem","text-align":"center",color:"#476175"}}," VIGILANTE SUPLENTE ")],-1)),De={class:"flex justify-center mt-3",style:{"font-size":"0.8",color:"gray"}},ke={align:"left"},Te=u(()=>n("td",null,":",-1)),Ge=u(()=>n("td",null,"70757838",-1)),Me={align:"left"},Le=u(()=>n("td",null,":",-1)),je=u(()=>n("td",null,"Facultad de mecánica",-1)),ze={align:"left"},Fe=u(()=>n("td",null,":",-1)),Ve=u(()=>n("td",null,"Contratado",-1)),Be={style:{width:"100%",height:"100%",display:"flex",align:"center","justify-content":"center","align-items":"center"}},Ye={class:"flex justify-between",style:{position:"relative",width:"100%"}},qe={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},He={class:"mr-3"},Pe={class:"flex justify-between",style:{position:"relative"}},$e={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Ke={style:{width:"100%","margin-top":"-5px"}},Qe={style:{"font-weight":"bold","font-size":"1.2rem"}},Ze={class:"flex justify-end",style:{}},Je=u(()=>n("label",null,"Estado",-1)),Xe=u(()=>n("label",null,"Sexo",-1)),We=u(()=>n("label",null,"Tipo Doc",-1)),et={key:0},tt=u(()=>n("span",{style:{color:"red"}},"*",-1)),lt={key:1},at=u(()=>n("label",null,"Codigo",-1)),ot=u(()=>n("label",null,[a("Nombres "),n("span",{style:{color:"red"}},"*")],-1)),nt=u(()=>n("label",null,[a("Ap. Paterno "),n("span",{style:{color:"red"}},"*")],-1)),st=u(()=>n("label",null,"Ap. Materno",-1)),dt=u(()=>n("label",null,[a("Condición "),n("span",{style:{color:"red"}},"*")],-1)),it=u(()=>n("label",null,[a("Escuela "),n("span",{style:{color:"red"}},"*")],-1)),ut=u(()=>n("label",null,"Dirección",-1)),ct=u(()=>n("label",null,"Fec. Nacimiento",-1)),rt=u(()=>n("label",null,"Observaciones",-1)),_t={class:"flex justify-end"},pt={style:{"font-size":"1rem","font-weight":"bold"}},ft={key:1,style:{"font-size":"0.95rem"}},vt=u(()=>n("span",{style:{color:"blue"}},"M",-1)),mt=u(()=>n("span",{style:{color:"red"}},"F",-1)),It={__name:"Sorteo",setup(w){const b=m(!1),V=m("1"),T=m([]),B=m(null),O=m(10),E=m(""),S=m(1),Y=m(),l=pe({id:null,tipo_doc:1,nro_doc:"",codigo:"",nombres:"",paterno:"",materno:"",condicion:"",escuela:null,sexo:1,direccion:"",fec_nac:"",observacion:"",estado:!0}),q=i=>{l.nro_doc=i.target.value.replace(/\D/g,"")},Q=async()=>{try{const i=await Y.value.validateFields(),o=await k.post("save-docente",l);o.status===202?console.log(o.data.errors):(g(),G("success",o.data.titulo,o.data.mensaje),b.value=!1,R())}catch(i){console.error(i)}},g=async()=>{let i=await k.post("get-docentes?page="+S.value,{term:E.value,paginashoja:O.value});T.value=i.data.datos.data,B.value=i.data.datos.total},Z=i=>{k.post("eliminar-docente",{id:i.id}).then(o=>{g(),G("warning",o.data.titulo,o.data.mensaje)})};m({id:null,codigo:"",id_posulante:"",id_programa:"",id_modalidad:"",estado:!0,observacion:""});const J=(i,o)=>{let r={id_postulante:i,sexo:o};k.post("actualizar-sexo-docente",r).then(p=>{g(),R(),G("success",p.data.titulo,p.data.mensaje)})},G=(i,o,r)=>{ge[i]({message:o,description:r})},X=()=>{R(),b.value=!0},W=()=>{b.value=!1,R()},H=i=>{l.id=i.id,l.tipo_doc=1,l.nro_doc=i.dni,l.codigo=i.codigo,l.nombres=i.nombres,l.paterno=i.paterno,l.materno=i.materno,l.condicion=i.condicion,l.escuela=i.escuela,l.sexo=parseInt(i.sexo),l.direccion=i.direccion,l.fec_nac=i.fec_nac,l.observacion=i.observacion,i.estado===1?l.estado=!0:l.estado=!1,b.value=!0},R=()=>{l.id=null,l.tipo_doc=1,l.nro_doc=null,l.codigo=null,l.nombres=null,l.paterno=null,l.materno=null,l.condicion=null,l.escuela=null,l.sexo=1,l.direccion=null,l.fec_nac=null,l.observacion=null,l.estado=!0};j(S,(i,o)=>{g()}),j(E,(i,o)=>{g()}),j(O,(i,o)=>{g()});const ee=[{title:"DNI",dataIndex:"dni",align:"center",width:"90px"},{title:"Codigo",dataIndex:"codigo"},{title:"Docente",dataIndex:"postulante"},{title:"Sexo",dataIndex:"sexo",align:"center"},{title:"Escuela",dataIndex:"escuela_name"},{title:"Condición",dataIndex:"tipo_empleo",align:"center"},{title:"Estado",dataIndex:"estado",align:"center"},{title:"Acciones",dataIndex:"acciones",width:"160px",align:"center"}];return g(),(i,o)=>{const r=c("a-col"),p=c("a-input"),U=c("a-row"),x=c("a-button"),te=c("row"),le=c("a-switch"),P=c("a-divider"),$=c("a-radio"),ae=c("a-radio-group"),d=c("a-select-option"),D=c("a-select"),v=c("a-form-item"),oe=c("a-date-picker"),ne=c("a-textarea"),se=c("a-form"),de=c("a-tab-pane"),ie=c("a-tabs"),ue=c("a-modal"),M=c("a-tag"),ce=c("a-popconfirm"),re=c("a-table"),_e=c("a-pagination"),L=fe("align");return _(),I(z,null,[e(A(ve),{title:"Sorteo"}),e(ye,null,{default:t(()=>[n("div",he,[e(U,{class:"flex",gutter:16,style:{height:"500px"}},{default:t(()=>[e(r,{xs:24,sm:12,md:12,lg:12,style:{display:"flex"},class:"pb-3"},{default:t(()=>[n("div",Ce,[we,Oe,n("div",Se,[Re,Ue,n("div",De,[n("table",null,[n("tr",null,[F((_(),I("td",ke,[a("DNI")])),[[L,i.top]]),Te,Ge]),n("tr",null,[F((_(),I("td",Me,[a("Proc.")])),[[L,i.top]]),Le,je]),n("tr",null,[F((_(),I("td",ze,[a("Cond.")])),[[L,i.top]]),Fe,Ve])])])])])]),_:1}),e(r,{xs:24,sm:12,md:12,lg:12,style:{background:"#ff000000"}},{default:t(()=>[n("div",Be,[n("div",Ye,[e(p,{type:"text",placeholder:"Buscar",value:E.value,"onUpdate:value":o[0]||(o[0]=s=>E.value=s),style:{width:"100%","padding-left":"30px"}},null,8,["value"]),n("div",qe,[e(A(K))])])])]),_:1})]),_:1}),e(te,{class:"flex justify-between mb-4"},{default:t(()=>[n("div",He,[e(x,{style:{background:"#476175",color:"white"},onClick:X},{default:t(()=>[a("Nuevo")]),_:1})]),n("div",Pe,[e(p,{type:"text",placeholder:"Buscar",value:E.value,"onUpdate:value":o[1]||(o[1]=s=>E.value=s),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),n("div",$e,[e(A(K))])])]),_:1}),e(ue,{visible:b.value,"onUpdate:visible":o[18]||(o[18]=s=>b.value=s),style:{"margin-top":"-40px",width:"100%",display:"flex","justify-content":"center"},footer:!1},{default:t(()=>[n("div",Ke,[n("h1",Qe,C(l.id===null?"Nuevo docente":"Editar docente"),1)]),e(ie,{activeKey:V.value,"onUpdate:activeKey":o[17]||(o[17]=s=>V.value=s),type:"card",size:"small"},{default:t(()=>[e(de,{key:"1",tab:"Datos del Docente"},{default:t(()=>[e(U,{style:{"max-width":"1000px",display:"flex","justify-content":"center"}},{default:t(()=>[e(r,{span:24},{default:t(()=>[e(se,{ref_key:"formDatos",ref:Y,name:"form",model:l,rules:i.formRules},{default:t(()=>[e(U,{gutter:16},{default:t(()=>[e(r,{xs:24,sm:12,md:24,lg:24},{default:t(()=>[n("div",Ze,[n("div",null,[Je,n("div",null,[e(le,{checked:l.estado,"onUpdate:checked":o[2]||(o[2]=s=>l.estado=s)},null,8,["checked"])])]),e(P,{type:"vertical",style:{height:"60px"}}),n("div",null,[Xe,n("div",null,[e(ae,{value:l.sexo,"onUpdate:value":o[3]||(o[3]=s=>l.sexo=s),name:"radioGroup"},{default:t(()=>[e($,{value:1},{default:t(()=>[a("M")]),_:1}),e($,{value:2},{default:t(()=>[a("F")]),_:1})]),_:1},8,["value"])])]),e(P,{type:"vertical",style:{height:"60px"}}),n("div",null,[We,e(v,{name:"tipo_doc",rules:[{required:!0,message:"Escoja el tipo",trigger:"change"}]},{default:t(()=>[n("div",null,[e(D,{value:l.tipo_doc,"onUpdate:value":o[4]||(o[4]=s=>l.tipo_doc=s),style:{width:"120px"}},{default:t(()=>[e(d,{value:1},{default:t(()=>[a("DNI")]),_:1}),e(d,{value:2},{default:t(()=>[a("Carnet. Ext")]),_:1})]),_:1},8,["value"])])]),_:1})])])]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[l.tipo_doc===1?(_(),I("label",et,[a("DNI "),tt])):(_(),I("label",lt,"N° CARNET EXT.")),e(v,{name:"nro_doc",rules:[{required:!0,message:"Ingrese el N° de documento"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:t(()=>[l.tipo_doc===1?(_(),y(p,{key:0,value:l.nro_doc,"onUpdate:value":o[5]||(o[5]=s=>l.nro_doc=s),onInput:q,maxlength:8},null,8,["value"])):(_(),y(p,{key:1,value:l.nro_doc,"onUpdate:value":o[6]||(o[6]=s=>l.nro_doc=s),onInput:q,maxlength:12},null,8,["value"]))]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[at,e(v,null,{default:t(()=>[e(p,{value:l.codigo,"onUpdate:value":o[7]||(o[7]=s=>l.codigo=s)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[ot,e(v,{name:"nombres",rules:[{required:!0,message:"Ingrese los nombres"}]},{default:t(()=>[e(p,{value:l.nombres,"onUpdate:value":o[8]||(o[8]=s=>l.nombres=s)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[nt,e(v,{name:"paterno",rules:[{required:!0,message:"Ingrese el primer apellido"}]},{default:t(()=>[e(p,{value:l.paterno,"onUpdate:value":o[9]||(o[9]=s=>l.paterno=s)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[st,e(v,null,{default:t(()=>[e(p,{value:l.materno,"onUpdate:value":o[10]||(o[10]=s=>l.materno=s)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[dt,e(v,{name:"condicion",rules:[{required:!0,message:"Ingrese la condición del docente"}]},{default:t(()=>[e(D,{value:l.condicion,"onUpdate:value":o[11]||(o[11]=s=>l.condicion=s),style:{width:"100%"}},{default:t(()=>[e(d,{value:1},{default:t(()=>[a("NOMBRADO")]),_:1}),e(d,{value:2},{default:t(()=>[a("CONTRATADO")]),_:1}),e(d,{value:3},{default:t(()=>[a("CAS")]),_:1}),e(d,{value:4},{default:t(()=>[a("LOCACIÓN")]),_:1}),e(d,{value:5},{default:t(()=>[a("R. H.")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[it,e(v,{name:"escuela",rules:[{required:!0,message:"Seleccione la escuela"}]},{default:t(()=>[e(D,{value:l.escuela,"onUpdate:value":o[12]||(o[12]=s=>l.escuela=s),placeholder:"Seleccionar escuela"},{default:t(()=>[e(d,{value:1},{default:t(()=>[a("INGENIERIA AGRONOMICA")]),_:1}),e(d,{value:2},{default:t(()=>[a("INGENIERIA AGROINDUSTRIAL")]),_:1}),e(d,{value:3},{default:t(()=>[a("INGENIERIA TOPOGRAFICA Y AGRIMENSURA")]),_:1}),e(d,{value:4},{default:t(()=>[a("MEDICINA VETERINARIA Y ZOOTECNIA")]),_:1}),e(d,{value:5},{default:t(()=>[a("INGENIERIA ECONOMICA")]),_:1}),e(d,{value:6},{default:t(()=>[a("CIENCIAS CONTABLES")]),_:1}),e(d,{value:7},{default:t(()=>[a("ADMINISTRACION")]),_:1}),e(d,{value:8},{default:t(()=>[a("TRABAJO SOCIAL")]),_:1}),e(d,{value:9},{default:t(()=>[a("ENFERMERIA")]),_:1}),e(d,{value:10},{default:t(()=>[a("INGENIERIA DE MINAS")]),_:1}),e(d,{value:11},{default:t(()=>[a("HUMANIDADES")]),_:1}),e(d,{value:12},{default:t(()=>[a("SOCIOLOGIA")]),_:1}),e(d,{value:13},{default:t(()=>[a("TURISMO")]),_:1}),e(d,{value:14},{default:t(()=>[a("ANTROPOLOGIA")]),_:1}),e(d,{value:15},{default:t(()=>[a("CIENCIAS DE LA COMUNICACION SOCIAL")]),_:1}),e(d,{value:16},{default:t(()=>[a("ARTE")]),_:1}),e(d,{value:17},{default:t(()=>[a("BIOLOGIA")]),_:1}),e(d,{value:18},{default:t(()=>[a("EDUCACION SECUNDARIA")]),_:1}),e(d,{value:19},{default:t(()=>[a("EDUCACION PRIMARIA")]),_:1}),e(d,{value:20},{default:t(()=>[a("EDUCACION INICIAL")]),_:1}),e(d,{value:21},{default:t(()=>[a("EDUCACION FISICA")]),_:1}),e(d,{value:22},{default:t(()=>[a("INGENIERIA ESTADISTICA E INFORMATICA")]),_:1}),e(d,{value:23},{default:t(()=>[a("DERECHO")]),_:1}),e(d,{value:24},{default:t(()=>[a("INGENIERIA QUIMICA")]),_:1}),e(d,{value:25},{default:t(()=>[a("ODONTOLOGIA")]),_:1}),e(d,{value:26},{default:t(()=>[a("NUTRICION HUMANA")]),_:1}),e(d,{value:27},{default:t(()=>[a("INGENIERIA GEOLOGICA")]),_:1}),e(d,{value:28},{default:t(()=>[a("INGENIERIA METALURGICA")]),_:1}),e(d,{value:29},{default:t(()=>[a("INGENIERIA CIVIL")]),_:1}),e(d,{value:30},{default:t(()=>[a("ARQUITECTURA Y URBANISMO")]),_:1}),e(d,{value:31},{default:t(()=>[a("CIENCIAS FISICO MATEMATICAS")]),_:1}),e(d,{value:32},{default:t(()=>[a("INGENIERIA AGRICOLA")]),_:1}),e(d,{value:33},{default:t(()=>[a("MEDICINA HUMANA")]),_:1}),e(d,{value:34},{default:t(()=>[a("INGENIERIA MECANICA ELECTRICA")]),_:1}),e(d,{value:35},{default:t(()=>[a("INGENIERIA ELECTRONICA")]),_:1}),e(d,{value:36},{default:t(()=>[a("INGENIERIA DE SISTEMAS")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:16,lg:18},{default:t(()=>[ut,e(v,null,{default:t(()=>[e(p,{value:l.direccion,"onUpdate:value":o[13]||(o[13]=s=>l.direccion=s)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:6},{default:t(()=>[ct,e(v,null,{default:t(()=>[e(oe,{style:{width:"100%"},placeholder:"Seleccionar fec. nacimiento",value:l.fec_nac,"onUpdate:value":o[14]||(o[14]=s=>l.fec_nac=s),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:24,lg:24},{default:t(()=>[rt,e(v,null,{default:t(()=>[e(ne,{value:l.observacion,"onUpdate:value":o[15]||(o[15]=s=>l.observacion=s)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(r,{span:24},{default:t(()=>[n("div",_t,[e(x,{class:"mr-4",onClick:o[16]||(o[16]=s=>W())},{default:t(()=>[a(" Cancelar ")]),_:1}),e(x,{type:"primary",onClick:Q},{default:t(()=>[a("Guardar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["visible"]),e(re,{columns:ee,"data-source":T.value,pagination:!1,size:"small"},{bodyCell:t(({column:s,index:gt,record:f})=>[s.dataIndex==="dni"?(_(),y(M,{key:0,color:"#476175",style:{"padding-top":"3px"}},{default:t(()=>[n("span",pt,C(f.dni),1)]),_:2},1024)):N("",!0),s.dataIndex==="postulante"?(_(),I("span",ft,C(f.paterno)+" "+C(f.materno)+", "+C(f.nombres),1)):N("",!0),s.dataIndex==="sexo"?(_(),y(D,{key:2,ref:"select",value:f.sexo,"onUpdate:value":h=>f.sexo=h,placeholder:"Seleccionar",style:{width:"60px"}},{default:t(()=>[e(d,{value:"1"},{default:t(()=>[vt]),_:1}),e(d,{value:"2"},{default:t(()=>[mt]),_:1})]),_:2},1032,["value","onUpdate:value"])):N("",!0),s.dataIndex==="estado"?(_(),I(z,{key:3},[f.estado===1?(_(),y(M,{key:0,color:"cyan"},{default:t(()=>[a("Habilitado")]),_:1})):(_(),y(M,{key:1,color:"purple"},{default:t(()=>[a("Desabilitado")]),_:1}))],64)):N("",!0),s.dataIndex==="acciones"?(_(),I(z,{key:4},[e(x,{class:"mr-1",onClick:h=>H(f),style:{color:"#006d89"},size:"small"},{icon:t(()=>[e(A(me))]),_:2},1032,["onClick"]),e(x,{type:"success",class:"mr-1",style:{color:"#409866"},onClick:h=>J(f.id,f.sexo),size:"small"},{icon:t(()=>[e(A(Ee))]),_:2},1032,["onClick"]),e(x,{class:"mr-1",onClick:h=>H(f),style:{color:"blue"},size:"small"},{icon:t(()=>[e(A(Ne))]),_:2},1032,["onClick"]),T.value.length?(_(),y(ce,{key:0,title:"¿Seguro de eliminar?","ok-text":"Si","cancel-text":"No",onConfirm:h=>Z(f)},{default:t(()=>[e(x,{shape:"",size:"small",style:{color:"crimson"}},{icon:t(()=>[e(A(Ie))]),_:1})]),_:2},1032,["onConfirm"])):N("",!0)],64)):N("",!0)]),_:1},8,["data-source"]),e(_e,{current:S.value,"onUpdate:current":o[19]||(o[19]=s=>S.value=s),total:B.value,pageSize:O.value,"onUpdate:pageSize":o[20]||(o[20]=s=>O.value=s),"show-less-items":""},null,8,["current","total","pageSize"])])]),_:1})],64)}}},Ot=be(It,[["__scopeId","data-v-e7eb78c7"]]);export{Ot as default};
