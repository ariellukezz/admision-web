import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import{o as u,E as _,w as a,O as y,a as e,d as n,c as g,b as c,f as z,T as w,U as F,I,k,l as A,m as D,q as N}from"./app-56d1ec9a.js";const U={props:["id_postulante","tipex","actualiza"],data(){return{form:{id:null,tipo_apoderado:1,dni:null,nombres:null,paterno:null,materno:null,actualizar:this.actualiza,proceso:4}}},mounted(){this.getApoderado()},methods:{async getApoderado(){const t=await axios.post("get-apoderado",{id_postulante:this.id_postulante,tipo:this.tipex});t[0]||(this.form.id=t.data.datos[0].id,this.form.tipo_apoderado=t.data.datos[0].tipo_apoderado,this.form.dni=t.data.datos[0].nro_documento,this.form.nombres=t.data.datos[0].nombres,this.form.paterno=t.data.datos[0].paterno,this.form.materno=t.data.datos[0].materno)},async saveApoderado(){if(this.dni===null){this.$refs.myDni.focus(),console.log("VACIIO");return}let t=65;this.tipo_apoderado===3&&(t=80);try{const o=await axios.post("save-postulante-apoderado",{id:this.form.id,tipo_apoderado:this.form.tipo_apoderado,dni:this.form.dni,nombres:this.form.nombres,paterno:this.form.paterno,materno:this.form.materno,id_postulante:this.id_postulante,actualizar:this.actualiza,proceso:4,name:"Registro de datos del padre o tutor",nro:4,avance:t});return this.actualiza==="si"?1:0}catch{}},async saveApoderadoMadre(){try{const t=await axios.post("save-postulante-apoderado",{id:this.form.id,tipo_apoderado:this.tipex,dni:this.form.dni,nombres:this.form.nombres,paterno:this.form.paterno,materno:this.form.materno,id_postulante:this.id_postulante,actualizar:this.actualiza,proceso:4,name:"Registro de datos de la madre",nro:5,avance:80});return this.actualiza==="si"?1:0}catch{}}}},V={style:{"margin-bottom":"25px","margin-top":"10px"}},q={key:0,style:{"font-size":"1.1rem"}},B={key:1,style:{"font-size":"1.1rem"}};function C(t,o,m,E,r,P){const p=w,v=F,l=I,i=k,d=A,f=D,x=N,h=y;return u(),_(h,{style:{"padding-top":"-5px","padding-bottom":"0px"},class:"cardInicio"},{default:a(()=>[e(x,{ref:"form",model:r.form,name:"formapoderado",onFinish:t.onFinish,onFinishFailed:t.onFinishFailed},{default:a(()=>[n("div",null,[n("div",V,[m.tipex===1?(u(),g("h1",q," Datos del padre")):(u(),g("h1",B," Datos de la madre"))]),m.tipex===1?(u(),_(v,{key:0,value:r.form.tipo_apoderado,"onUpdate:value":o[0]||(o[0]=s=>r.form.tipo_apoderado=s),class:"flex justify-end",style:{display:"flex",width:"yellow"},name:"radioGroup"},{default:a(()=>[e(p,{value:1},{default:a(()=>o[5]||(o[5]=[c("Padre")])),_:1}),e(p,{value:3},{default:a(()=>o[6]||(o[6]=[c("Tutor")])),_:1})]),_:1},8,["value"])):z("",!0),e(f,{gutter:[16,0],class:"form-row"},{default:a(()=>[e(d,{span:24,md:16,lg:12,xl:12,xxl:6},{default:a(()=>[e(i,{name:"dni",rules:[{required:!0,message:"Ingresa el DNI",trigger:"change"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:a(()=>[o[7]||(o[7]=n("div",null,[n("label",null,"NÂ° Documento")],-1)),e(l,{ref:"myDni",value:r.form.dni,"onUpdate:value":o[1]||(o[1]=s=>r.form.dni=s),maxlength:12,placeholder:""},null,8,["value"])]),_:1})]),_:1}),e(d,{span:24,md:16,lg:12,xl:12,xxl:6},{default:a(()=>[e(i,{name:"nombres",rules:[{required:!0,message:"Ingresa los nombres",trigger:"blur"}]},{default:a(()=>[o[8]||(o[8]=n("div",null,[n("label",null,"Pre nombres:")],-1)),e(l,{value:r.form.nombres,"onUpdate:value":o[2]||(o[2]=s=>r.form.nombres=s)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:24,md:24,lg:24,xl:24,xxl:24},{default:a(()=>[e(i,{name:"paterno",rules:[{required:!0,message:"Ingresa el primer apellido",trigger:"blur"}]},{default:a(()=>[o[9]||(o[9]=n("div",null,[n("label",null,"Primer apellido:")],-1)),e(l,{value:r.form.paterno,"onUpdate:value":o[3]||(o[3]=s=>r.form.paterno=s)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(f,{gutter:[16,0],class:"form-row"},{default:a(()=>[e(d,{span:24,md:24,lg:24,xl:24,xxl:24},{default:a(()=>[e(i,null,{default:a(()=>[o[10]||(o[10]=n("div",null,[n("label",null,"Segundo Apellido:")],-1)),e(l,{value:r.form.materno,"onUpdate:value":o[4]||(o[4]=s=>r.form.materno=s)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1})}const O=b(U,[["render",C]]);export{O as default};
