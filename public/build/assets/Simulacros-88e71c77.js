import{r as n,e as K,f as i,o as u,s as H,w as l,l as y,c as p,a as t,d as s,b as S,u as v,S as _e,E as fe,g as d,t as J,D as ye,y as P,n as ge}from"./app-7ba8241d.js";import{A as be}from"./LayoutSimulacro-d6a9168c.js";import{F as xe}from"./FormOutlined-b7782166.js";import"./DropdownLink-36be3fe2.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";const ke={key:0},we={class:"mb-2 flex justify-between"},Ce={key:1},Se={style:{"font-weight":"bold","font-size":"0.9rem"}},he={key:2,class:"flex"},De={key:3,class:"flex",style:{"justify-content":"center"}},Ue={key:0},Ie={key:1},ze={key:4,class:"flex",style:{"justify-content":"space-between"}},Ee={class:"flex justify-end"},Ve={class:"flex justify-between"},Ne=s("div",null,[s("label",null,"Nombre: ")],-1),Ke=s("div",null,[s("label",null,"Departamento: ")],-1),Pe=s("div",null,[s("label",null,"Provincia:")],-1),je=s("div",null,[s("label",null,"Distrito:")],-1),Oe={class:"flex justify-end"},Ze={__name:"Simulacros",setup(Ae){const j=n(0),Q=()=>{x.value=!0},h=n("2023"),g=n(null),R=n(null),D=n(!0),W=async()=>{let o=await y.post("get-simulacros?page="+w.value,{term:k.value,paginasize:C.value});M.value=o.data.datos.data,Z.value=o.data.datos.total},X=async()=>{let o=await y.post("save-simulacro",{nombre:g.value,estado:D.value,ubigeo:f.value+b.value+I.value,anio:h.value});Y(o.data.tipo,o.data.titulo,o.data.mensaje),ee()},Y=(o,e,r)=>{ge[o]({message:e,description:r})},ee=(o,e,r)=>{g.value=null,R.value=null,f.value=null,b.value=null,I.value=null,x.value=null},te=[{title:"Nombre",dataIndex:"nombre",key:"name",align:"left"},{title:"Fecha",dataIndex:"fecha",key:"date"},{title:"Estado",dataIndex:"estado",key:"verificado",align:"center"},{title:"operation",dataIndex:"operation",width:"50px"}],O=n([]),A=n(null),U=n(""),f=n(""),B=n([]),$=n(null),F=n(""),b=n(null),G=n([]),L=n(null),T=n(""),I=n("");n([]);const ae=(o,e)=>{f.value=e.key,se()},oe=(o,e)=>{b.value=e.key,ie()},le=(o,e)=>{I.value=e.key},M=n([]),x=n(!1);n("");const k=n(""),Z=n(0),w=n(1),C=n(2);K(k,(o,e)=>{getCertificados()}),K(w,(o,e)=>{getCertificados()}),K(C,(o,e)=>{getCertificados()});const ne=async()=>{const o=await y.post("/get-departamentos-codigo?page=",{term:U.value});O.value=o.data.datos.data},se=async()=>{const o=await y.post("/get-provincias-codigo?page=",{departamento:f.value});B.value=o.data.datos},ie=async()=>{const o=await y.post("/get-distritos-codigo?page=",{departamento:f.value,provincia:b.value});G.value=o.data.datos};return W(),ne(),(o,e)=>{const r=i("a-button"),m=i("a-input"),q=i("a-tag"),ue=i("a-table"),de=i("a-pagination"),re=i("a-card"),_=i("a-form-item"),ce=i("a-switch"),z=i("a-tooltip"),E=i("a-auto-complete"),V=i("a-col"),pe=i("a-row"),ve=i("a-form"),me=i("a-modal");return u(),H(be,null,{default:l(()=>[j.value===0?(u(),p("div",ke,[t(re,{style:{background:"white"},class:"m-0 p-0"},{default:l(()=>[s("div",we,[s("div",null,[t(r,{type:"primary",onClick:Q},{default:l(()=>[S("Nuevo")]),_:1})]),t(m,{placeholder:"Buscar",value:k.value,"onUpdate:value":e[0]||(e[0]=a=>k.value=a),style:{"max-width":"300px"}},{suffix:l(()=>[t(v(_e))]),_:1},8,["value"])]),s("div",null,[t(ue,{size:"small",dataSource:M.value,columns:te,pagination:!1},{bodyCell:l(({column:a,text:Be,record:c})=>[a.dataIndex==="ver"?(u(),H(v(fe),{key:0,onClick:N=>o.abrirmodal(c),class:"custom-icon"},null,8,["onClick"])):d("",!0),a.dataIndex==="cod"?(u(),p("div",Ce,[s("span",Se,J(c.cod),1)])):d("",!0),a.dataIndex==="nombre"?(u(),p("div",he,[s("span",{onClick:e[1]||(e[1]=N=>j.value=1),style:{cursor:"pointer","text-transform":"uppercase","font-size":".9rem"}},J(c.nombre),1)])):d("",!0),a.dataIndex==="estado"?(u(),p("div",De,[c.estado==1?(u(),p("div",Ue,[t(q,{color:"green"},{default:l(()=>[S("VIGENTE")]),_:1})])):d("",!0),c.estado==3?(u(),p("div",Ie,[t(q,{color:"blue"},{default:l(()=>[S("FINALIZADO")]),_:1})])):d("",!0)])):d("",!0),a.dataIndex==="operation"?(u(),p("div",ze,[t(r,{type:"primary",onClick:N=>o.abrirEditar(c.id),size:"small"},{icon:l(()=>[t(v(xe))]),_:2},1032,["onClick"]),t(r,{type:"danger",onClick:N=>o.eliminar(c.id),shape:"",size:"small"},{icon:l(()=>[t(v(ye))]),_:2},1032,["onClick"])])):d("",!0)]),_:1},8,["dataSource"]),s("div",Ee,[t(de,{current:w.value,"onUpdate:current":e[2]||(e[2]=a=>w.value=a),pageSize:C.value,"onUpdate:pageSize":e[3]||(e[3]=a=>C.value=a),total:Z.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})])):d("",!0),t(me,{visible:x.value,"onUpdate:visible":e[14]||(e[14]=a=>x.value=a),title:"Nuevo simulacro",ok:!1,style:{"margin-top":"-70px"},footer:!1},{default:l(()=>[t(ve,{model:o.formState,"label-col":o.labelCol,"wrapper-col":o.wrapperCol},{default:l(()=>[s("div",Ve,[t(_,{label:"AÃ±o"},{default:l(()=>[t(m,{value:h.value,"onUpdate:value":e[4]||(e[4]=a=>h.value=a),style:{width:"80px","margin-right":"20px"}},null,8,["value"])]),_:1}),t(_,{label:"Estado"},{default:l(()=>[t(ce,{checked:D.value,"onUpdate:checked":e[5]||(e[5]=a=>D.value=a)},null,8,["checked"])]),_:1})]),t(_,null,{default:l(()=>[Ne,t(m,{value:g.value,"onUpdate:value":e[6]||(e[6]=a=>g.value=a)},null,8,["value"])]),_:1}),t(pe,{gutter:[16,0],class:"form-row"},{default:l(()=>[t(V,{span:24,md:24,lg:24,xl:24,xxl:24},{default:l(()=>[t(_,null,{default:l(()=>[Ke,t(E,{value:A.value,"onUpdate:value":e[8]||(e[8]=a=>A.value=a),options:O.value,onSelect:ae},{default:l(()=>[t(m,{placeholder:"Departamento",value:U.value,"onUpdate:value":e[7]||(e[7]=a=>U.value=a),onKeypress:o.handleKeyPress},{suffix:l(()=>[t(z,{title:"Extra information"},{default:l(()=>[t(v(P))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1}),t(V,{span:24,md:24,lg:24,xl:24,xxl:24},{default:l(()=>[t(_,null,{default:l(()=>[Pe,t(E,{value:$.value,"onUpdate:value":e[10]||(e[10]=a=>$.value=a),options:B.value,onSelect:oe},{default:l(()=>[t(m,{placeholder:"Provincia",value:F.value,"onUpdate:value":e[9]||(e[9]=a=>F.value=a),onKeypress:o.handleKeyPress},{suffix:l(()=>[t(z,{title:"Extra information"},{default:l(()=>[t(v(P))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1}),t(V,{span:24,md:24,lg:24,xl:24,xxl:24},{default:l(()=>[t(_,null,{default:l(()=>[je,t(E,{value:L.value,"onUpdate:value":e[12]||(e[12]=a=>L.value=a),options:G.value,onSelect:le},{default:l(()=>[t(m,{placeholder:"Provincia",value:T.value,"onUpdate:value":e[11]||(e[11]=a=>T.value=a),onKeypress:o.handleKeyPress},{suffix:l(()=>[t(z,{title:"Extra information"},{default:l(()=>[t(v(P))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1})]),_:1}),s("div",Oe,[t(r,{type:"primary",onClick:e[13]||(e[13]=a=>X())},{default:l(()=>[S("Guardar")]),_:1})])]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["visible"])]),_:1})}}};export{Ze as default};
