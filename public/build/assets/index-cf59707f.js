import{r as t,i as S,c as m,d as o,j as _,f as C,k as V,v as D,a as h,l as k,w as r,g,o as i,b as c}from"./app-a86895a3.js";const E={class:"camera-container"},N={class:"camera-view"},A={class:"zoom-control"},B=o("label",{for:"zoomSlider"},"Zoom:",-1),M={class:"controls"},U={key:0,class:"captured-photo"},W=["src"],F={class:"actions"},j={__name:"index",setup(I){const d=t(1),u=t(null),y=t({}),x=t(!1),f=t(""),n=t(null),p=t(null),b=t(""),w=t("");S(()=>{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{n.value.srcObject=e,n.value.play()}).catch(e=>{console.error("Error al acceder a la cÃ¡mara: ",e)})});function z(){const e=n.value,l=e.videoWidth/e.videoHeight,s=e.clientHeight,a=s*l;p.value.style.width=`${a}px`,p.value.style.height=`${s}px`,p.value.style.left=`${(e.clientWidth-a)/2}px`,y.value={position:"absolute",top:"0",left:`${(e.clientWidth-a)/2}px`,width:`${a}px`,height:`${s}px`,border:"1px dashed blue"}}function $(){const e=n.value,l=d.value;e.style.transform=`scale(${l})`}return(e,l)=>{const s=g("a-input"),a=g("a-button");return i(),m("div",E,[o("div",N,[o("div",{class:"camera-wrapper",style:_(w.value)},[o("video",{ref_key:"videoElement",ref:n,autoplay:"",style:_(b.value),onLoadedmetadata:z},null,36),x.value?(i(),m("div",{key:0,ref:"cropArea",class:"crop-area",style:_(y.value)},null,4)):C("",!0)],4),o("div",A,[B,V(o("input",{type:"range",id:"zoomSlider","onUpdate:modelValue":l[0]||(l[0]=v=>d.value=v),min:"1",max:"2",step:"0.1",onInput:$},null,544),[[D,d.value]])])]),o("div",M,[h(s,{value:f.value,"onUpdate:value":l[1]||(l[1]=v=>f.value=v),class:"dni-input",placeholder:"Ingrese DNI"},null,8,["value"]),u.value?(i(),k(a,{key:1,type:"primary",onClick:e.cancelCapture},{default:r(()=>[c("Cancelar Captura")]),_:1},8,["onClick"])):(i(),k(a,{key:0,type:"primary",onClick:e.capturePhoto},{default:r(()=>[c("Capturar Foto")]),_:1},8,["onClick"]))]),u.value?(i(),m("div",U,[o("img",{src:u.value,alt:"Foto Capturada"},null,8,W),o("div",F,[h(a,{type:"primary",onClick:e.saveCroppedPhoto},{default:r(()=>[c("Guardar Foto")]),_:1},8,["onClick"]),h(a,{onClick:e.cancelCapture},{default:r(()=>[c("Cancelar")]),_:1},8,["onClick"])])])):C("",!0)])}}};export{j as default};
