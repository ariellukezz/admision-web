import{a as e,A as Y,r as b,e as V,q as ee,f as c,o as r,c as g,u as k,w as n,d as m,F as D,l as L,Z as ae,b as d,S as te,t as y,g as f,s as S,E as oe,v as ne,n as le}from"./app-b7be59dc.js";import{A as se}from"./AuthenticatedLayout-baaffbe5.js";import{P as ie}from"./PrinterOutlined-942514f5.js";import"./DropdownLink-9fa4cd59.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";/* empty css                                                                            */import"./TeamOutlined-6b653df5.js";var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const re=de;function U(_){for(var u=1;u<arguments.length;u++){var s=arguments[u]!=null?Object(arguments[u]):{},p=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(s).filter(function(h){return Object.getOwnPropertyDescriptor(s,h).enumerable}))),p.forEach(function(h){ue(_,h,s[h])})}return _}function ue(_,u,s){return u in _?Object.defineProperty(_,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):_[u]=s,_}var N=function(u,s){var p=U({},u,s.attrs);return e(Y,U({},p,{icon:re}),null)};N.displayName="SyncOutlined";N.inheritAttrs=!1;const ce=N;const me={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},pe={class:"mr-3"},ve={class:"flex"},fe={class:"mr-3"},_e={class:"flex justify-between",style:{position:"relative"}},ge={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},ye={style:{}},be={key:0},he={style:{"font-size":".9rem"}},Ce={key:1},ke={style:{"font-size":".9rem"}},xe={key:2},we={style:{"font-size":".9rem"}},Ie={key:3,class:"flex",style:{"justify-content":"center"}},Oe={key:4,class:"flex",style:{"justify-content":"center"}},Se={key:0},Ae={key:1},Ee={class:"flex",style:{"justify-content":"flex-end"}},Le={__name:"Lista",setup(_){const u=window.location.origin,s=b(""),p=b(1),h=b(null),x=b(!1);b("");const I=b([]),o=b({id:null,codigo:"",nombre:"",nivel_academico:"CARRERA PROFESIONAL",tipo_autorizacion:"RECONOCIDO POR LIC.",id_facultad:1,estado:!0,area:"BIOMEDICAS"}),A=()=>{x.value=!0};let z;V(s,(t,a)=>{clearTimeout(z),z=setTimeout(()=>{O()},500)}),V(p,(t,a)=>{O()});const B=t=>{var a=document.createElement("iframe");a.style.display="none",a.src=u+t,document.body.appendChild(a),a.contentWindow.focus(),a.contentWindow.print()},M=t=>{x.value=!0,o.value.id=t.id,o.value.codigo=t.codigo,o.value.nombre=t.nombre,o.value.nivel_academico=t.nivel_academico,o.value.tipo_autorizacion=t.tipo_autorizacion,o.value.id_facultad=t.id_fac,t.estado==1?o.value.estado=!0:o.value.estado=!1,o.value.area=t.area},O=async(t="")=>{let a=await L.post("get-control-posterior?page="+p.value,{term:s.value});I.value=a.data.datos.data,h.value=a.data.datos.total},T=()=>{let t={id:o.value.id,codigo:o.value.codigo,nombre:o.value.nombre,nivel_academico:o.value.nivel_academico,tipo_autorizacion:o.value.tipo_autorizacion,estado:o.value.estado,id_facultad:o.value.id_facultad,area:o.value.area};L.post("save-programa",t).then(a=>{O(),X("success",a.data.titulo,a.data.mensaje),x.value=!1,o.value.codigo=null,o.value.id=null,o.value.nombre=""})},$=[{title:"Cod",dataIndex:"codigo_ingreso",width:"60px",align:"center",responsive:["md"]},{title:"N° Doc",dataIndex:"nro_doc",width:"80px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombre"},{title:"Programa",dataIndex:"programa"},{title:"Modalidad",dataIndex:"modalidad",align:"center",width:"130px",responsive:["md"]},{title:"Puntaje",dataIndex:"puntaje_total",align:"center",width:"80px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],P=b([]),G=t=>{console.log("selectedRowKeys changed: ",t),P.value=t};ee(()=>({selectedRowKeys:k(P),onChange:G,hideDefaultSelections:!0}));const X=(t,a,v)=>{le[t]({message:a,description:v})};return O(),(t,a)=>{const v=c("a-button"),E=c("a-input"),W=c("row"),C=c("a-tag"),q=c("a-table"),Z=c("a-pagination"),w=c("a-form-item"),R=c("a-select"),F=c("a-select-option"),H=c("a-switch"),J=c("a-form"),K=c("a-modal");return r(),g(D,null,[e(k(ae),{title:"Control biométrico"}),e(se,null,{default:n(()=>[m("div",me,[e(W,{class:"flex justify-between mb-4"},{default:n(()=>[m("div",pe,[e(v,{type:"error",style:{"border-radius":"5px",color:"white",background:"cornflowerblue",border:"none"},onClick:A},{default:n(()=>[d("FILTRAR")]),_:1})]),m("div",ve,[m("div",fe,[e(v,{type:"error",style:{"border-radius":"5px",color:"white",background:"crimson",border:"none"},onClick:A},{default:n(()=>[d("PDF")]),_:1}),e(v,{class:"ml-2",type:"primary",style:{border:"none","border-radius":"5px",background:"green"},onClick:A},{default:n(()=>[d("XLSX")]),_:1})]),m("div",_e,[e(E,{type:"text",placeholder:"Buscar",value:s.value,"onUpdate:value":a[0]||(a[0]=l=>s.value=l),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),m("div",ge,[e(k(te))])])])]),_:1}),m("div",ye,[e(q,{columns:$,"data-source":I.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:n(({column:l,index:j,record:i})=>[l.dataIndex==="codigo"?(r(),g("div",be,[m("span",he,y(i.codigo),1)])):f("",!0),l.dataIndex==="nro_doc"?(r(),g("div",Ce,[m("span",ke,y(i.nro_doc),1)])):f("",!0),l.dataIndex==="nombre"?(r(),g("div",xe,[m("span",we,y(i.primer_apellido)+" "+y(i.segundo_apellido)+", "+y(i.nombres),1)])):f("",!0),l.dataIndex==="modalidad"?(r(),g("div",Ie,[i.modalidad=="EXAMEN GENERAL"?(r(),S(C,{key:0,style:{"font-size":".8rem"},color:"blue"},{default:n(()=>[d(y(i.modalidad),1)]),_:2},1024)):f("",!0),i.modalidad=="CONADIS"?(r(),S(C,{key:1,style:{"font-size":".8rem"},color:"orange"},{default:n(()=>[d(y(i.modalidad),1)]),_:2},1024)):f("",!0),i.modalidad=="CEPREUNA"?(r(),S(C,{key:2,style:{"font-size":".8rem"},color:"purple"},{default:n(()=>[d(y(i.modalidad),1)]),_:2},1024)):(r(),S(C,{key:3,style:{"font-size":".8rem"},color:"pink"},{default:n(()=>[d(y(i.modalidad),1)]),_:2},1024))])):f("",!0),l.dataIndex==="estado"?(r(),g("div",Oe,[I.value[j].estado==1?(r(),g("div",Se,[e(C,{color:"green"},{default:n(()=>[d("Si")]),_:1})])):f("",!0),I.value[j].estado==0?(r(),g("div",Ae,[e(C,{color:"red"},{default:n(()=>[d("No")]),_:1})])):f("",!0)])):f("",!0),l.dataIndex==="acciones"?(r(),g(D,{key:5},[e(v,{type:"",onClick:Q=>B(i.url),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:n(()=>[e(k(ie))]),_:2},1032,["onClick"]),e(v,{type:"",onClick:Q=>M(i),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:n(()=>[e(k(ce))]),_:2},1032,["onClick"]),e(v,{class:"",style:{"border-radius":"4px",background:"none",color:"cornflowerblue"},shape:"",size:"small"},{icon:n(()=>[e(k(oe))]),_:1})],64)):f("",!0)]),_:1},8,["data-source","scroll"])]),m("div",Ee,[e(Z,{current:p.value,"onUpdate:current":a[1]||(a[1]=l=>p.value=l),simple:"","page-size":"50",total:h.value},null,8,["current","total"])])])]),_:1}),m("div",null,[e(K,{visible:x.value,"onUpdate:visible":a[8]||(a[8]=l=>x.value=l),title:o.value.id==null?"Nuevo Programa":"Editar Programa",style:{"margin-top":"-40px"}},{footer:n(()=>[e(v,{style:{"margin-left":"10px"},onClick:t.resetForm},{default:n(()=>[d("Cancelar")]),_:1},8,["onClick"]),e(v,{type:"primary",onClick:a[7]||(a[7]=l=>T())},{default:n(()=>[d("Guardar")]),_:1})]),default:n(()=>[e(J,ne({ref:"formRef",name:"custom-validation",model:t.formState,rules:t.rules},t.layout,{onFinish:t.handleFinish,onValidate:t.handleValidate,onFinishFailed:t.handleFinishFailed}),{default:n(()=>[e(w,{"has-feedback":"",label:"Codigo",name:"codigo"},{default:n(()=>[e(E,{type:"text",value:o.value.codigo,"onUpdate:value":a[2]||(a[2]=l=>o.value.codigo=l),autocomplete:"off"},null,8,["value"])]),_:1}),e(w,{"has-feedback":"",label:"Nombre",name:"nombre"},{default:n(()=>[e(E,{type:"text",value:o.value.nombre,"onUpdate:value":a[3]||(a[3]=l=>o.value.nombre=l),autocomplete:"off"},null,8,["value"])]),_:1}),e(w,{"has-feedback":"",label:"Facultad",name:"facultad"},{default:n(()=>[e(R,{options:t.facultades,ref:"Tipo",style:{width:"100%"},onFocus:t.focus,onChange:t.handleChange,value:o.value.id_facultad,"onUpdate:value":a[4]||(a[4]=l=>o.value.id_facultad=l)},null,8,["options","onFocus","onChange","value"])]),_:1}),e(w,{"has-feedback":"",label:"Area",name:"area"},{default:n(()=>[e(R,{style:{width:"100%"},onFocus:t.focus,onChange:t.handleChange,value:o.value.area,"onUpdate:value":a[5]||(a[5]=l=>o.value.area=l)},{default:n(()=>[e(F,{value:"BIOMÉDICAS"},{default:n(()=>[d(" BIOMEDICAS ")]),_:1}),e(F,{value:"INGENIERÍAS"},{default:n(()=>[d(" INGENIERÍAS ")]),_:1}),e(F,{value:"SOCIALES"},{default:n(()=>[d(" SOCIALES ")]),_:1})]),_:1},8,["onFocus","onChange","value"])]),_:1}),e(w,{"has-feedback":"",label:"Vigente",name:"estado"},{default:n(()=>[e(H,{checked:o.value.estado,"onUpdate:checked":a[6]||(a[6]=l=>o.value.estado=l)},null,8,["checked"])]),_:1})]),_:1},16,["model","rules","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible","title"])])],64)}}};export{Le as default};
