import{r as v,J as W,e as D,D as X,o as d,c as _,a as o,u as k,w as n,F as j,y as C,Z as Y,d as l,b as r,t as p,f as u,E as O,n as ee,B as oe,I as te,_ as ne,h as le,i as ae,k as se,l as re,m as ie,j as de,p as ue,q as pe,M as me}from"./app-d615f4ff.js";import{_ as _e}from"./AuthenticatedLayout-7d11cb42.js";import{S as ve}from"./SearchOutlined-2a3d5edb.js";import{E as ge}from"./EyeOutlined-626f9b80.js";import{F as ce}from"./FormOutlined-47c056d1.js";import{D as fe}from"./DeleteOutlined-29e05531.js";import"./logotiny-c4b525af.js";import"./Header-d78d2df3.js";import"./AntdIcon-92f5221f.js";import"./DownOutlined-f402f4da.js";/* empty css                                                            */const be={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},ye={class:"mr-3"},xe={class:"flex justify-between",style:{position:"relative"}},ke={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Ie={style:{}},we={key:0},Ce={style:{"font-size":".9rem"}},Fe={key:1},De={style:{"font-size":".9rem"}},Oe={key:2},ze={style:{"font-size":".9rem"}},Ne={key:3},Ue={style:{"font-size":".9rem"}},Ve={key:4,class:"flex",style:{"justify-content":"center"}},he={key:5,class:"flex",style:{"justify-content":"center"}},Ee={key:0},Me={key:1},je={class:"flex",style:{"justify-content":"flex-end"}},He={__name:"index",setup(Ae){const I=v(""),w=v(1),z=v(null);v("PUNO");const N=v([]),b=v(!1),A=v(""),U=v([]),V=v(),t=W({id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null}),B=()=>{b.value=!0,t.id=null,t.dni=null,t.nombres=null,t.paterno=null,t.materno=null,t.motivo=null,t.id_proceso=null};D(I,(s,e)=>{y()}),D(A,(s,e)=>{getDepartamentos()}),D(w,(s,e)=>{y()});const P=s=>{b.value=!0,t.id=s.id,t.dni=s.dni,t.nombres=s.nombres,t.paterno=s.paterno,t.materno=s.materno,t.motivo=s.motivo,t.id_proceso=s.id_proceso},S=async()=>{let s=await C.get("get-select-procesos");N.value=s.data.datos},y=async(s="")=>{let e=await C.post("get-observados-lista?page="+w.value,{term:I.value});U.value=e.data.datos.data,z.value=e.data.datos.total},q=async()=>{await V.value.validateFields(),C.post("save-observado",t).then(s=>{y(),t.value={id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null},h(s.data.tipo,s.data.titulo,""),t.id=null,t.dni=null,t.nombres=null,t.paterno=null,t.materno=null,t.motivo=null,t.id_proceso=null,b.value=!1})},$=s=>{C.get("eliminar-programa/"+s.id).then(e=>{y(),h("warning","PROGRAMA ELIMINADO",e.data.mensaje)})},G=[{title:"Cod",dataIndex:"dni",width:"100px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombres"},{title:"Motivo",dataIndex:"motivo",align:"center",responsive:["md"]},{title:"Proceso",dataIndex:"id_proceso",align:"center",width:"150px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],h=(s,e,g)=>{ee[s]({message:e,description:g})},R=s=>{console.log("Detalle:",s)};return S(),y(),(s,e)=>{const g=oe,f=te,L=X("row"),x=ne,J=le,T=ae,m=se,c=re,F=ie,Z=de,H=ue,K=pe,Q=me;return d(),_(j,null,[o(k(Y),{title:"Observados"}),o(_e,null,{default:n(()=>[l("div",be,[o(L,{class:"flex justify-between mb-4"},{default:n(()=>[l("div",ye,[o(g,{type:"primary",style:{"border-radius":"5px",background:"#476175",border:"none"},onClick:B},{default:n(()=>e[11]||(e[11]=[r("Agregar")])),_:1})]),l("div",xe,[o(f,{type:"text",placeholder:"Buscar",value:I.value,"onUpdate:value":e[0]||(e[0]=a=>I.value=a),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),l("div",ke,[o(k(ve))])])]),_:1}),l("div",Ie,[o(J,{columns:G,"data-source":U.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:n(({column:a,index:E,record:i})=>[a.dataIndex==="dni"?(d(),_("div",we,[l("span",Ce,p(i.dni),1)])):u("",!0),a.dataIndex==="nombres"?(d(),_("div",Fe,[l("span",De,p(i.paterno)+" "+p(i.materno)+" "+p(i.nombres),1)])):u("",!0),a.dataIndex==="motivo"?(d(),_("div",Oe,[l("span",ze,p(i.motivo),1)])):u("",!0),a.dataIndex==="id_proceso"?(d(),_("div",Ne,[l("span",Ue,p(i.nombre_proceso),1)])):u("",!0),a.dataIndex==="area"?(d(),_("div",Ve,[i.area=="BIOMÉDICAS"?(d(),O(x,{key:0,style:{"font-size":".8rem"},color:"cyan"},{default:n(()=>[r(p(i.area),1)]),_:2},1024)):u("",!0),i.area=="SOCIALES"?(d(),O(x,{key:1,style:{"font-size":".8rem"},color:"purple"},{default:n(()=>[r(p(i.area),1)]),_:2},1024)):u("",!0),i.area=="INGENIERÍAS"?(d(),O(x,{key:2,style:{"font-size":".8rem"},color:"blue"},{default:n(()=>[r(p(i.area),1)]),_:2},1024)):u("",!0)])):u("",!0),a.dataIndex==="estado"?(d(),_("div",he,[i.estado==1?(d(),_("div",Ee,[o(x,{color:"green"},{default:n(()=>e[12]||(e[12]=[r("Si")])),_:1})])):u("",!0),i.estado==0?(d(),_("div",Me,[o(x,{color:"red"},{default:n(()=>e[13]||(e[13]=[r("No")])),_:1})])):u("",!0)])):u("",!0),a.dataIndex==="acciones"?(d(),_(j,{key:6},[o(g,{disabled:"",type:"",onClick:M=>R(i),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:n(()=>[o(k(ge))]),_:2},1032,["onClick"]),o(g,{type:"",onClick:M=>P(i),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:n(()=>[o(k(ce))]),_:2},1032,["onClick"]),o(g,{class:"",onClick:M=>$(i),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:n(()=>[o(k(fe))]),_:2},1032,["onClick"])],64)):u("",!0)]),_:1},8,["data-source"])]),l("div",je,[o(T,{current:w.value,"onUpdate:current":e[1]||(e[1]=a=>w.value=a),simple:"","page-size":"50",total:z.value},null,8,["current","total"])])]),l("div",null,[o(Q,{visible:b.value,"onUpdate:visible":e[10]||(e[10]=a=>b.value=a),style:{"margin-top":"-40px"}},{footer:n(()=>[o(g,{style:{"margin-left":"10px"},onClick:s.resetForm},{default:n(()=>e[22]||(e[22]=[r("Cancelar")])),_:1},8,["onClick"]),o(g,{type:"primary",onClick:e[9]||(e[9]=a=>q())},{default:n(()=>e[23]||(e[23]=[r("Guardar")])),_:1})]),default:n(()=>[o(K,{ref_key:"formObservados",ref:V,model:t,name:"observado",onFinish:s.onFinish,onFinishFailed:s.onFinishFailed},{default:n(()=>[l("div",null,[e[21]||(e[21]=l("div",{style:{"margin-bottom":"16px","margin-top":"0px"}},[l("h1",{style:{"font-size":"1.2rem"}},"Observados")],-1)),o(F,{gutter:[16,0],class:"form-row mb-0"},{default:n(()=>[o(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[o(m,null,{default:n(()=>[e[14]||(e[14]=l("div",null,[l("label",null,[r("DNI ("),l("span",{style:{color:"red"}},"*"),r(")")])],-1)),o(m,{name:"dni",rules:[{required:!0,message:"Ingresa el DNI",trigger:"change"}]},{default:n(()=>[o(f,{value:t.dni,"onUpdate:value":e[2]||(e[2]=a=>t.dni=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[o(m,null,{default:n(()=>[e[15]||(e[15]=l("div",null,[l("label",null,[r("Nombres ("),l("span",{style:{color:"red"}},"*"),r(")")])],-1)),o(m,{name:"nombres",rules:[{required:!0,message:"Ingresa los nombres",trigger:"change"}]},{default:n(()=>[o(f,{value:t.nombres,"onUpdate:value":e[3]||(e[3]=a=>t.nombres=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),o(F,{gutter:[16,0],class:"form-row mb-0"},{default:n(()=>[o(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[o(m,null,{default:n(()=>[e[16]||(e[16]=l("div",null,[l("label",null,[r("Paterno ("),l("span",{style:{color:"red"}},"*"),r(")")])],-1)),o(m,{name:"paterno",rules:[{required:!0,message:"Ingresa el apellido paterno",trigger:"change"}]},{default:n(()=>[o(f,{value:t.paterno,"onUpdate:value":e[4]||(e[4]=a=>t.paterno=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[e[17]||(e[17]=l("div",null,[l("label",null,[r("Materno ("),l("span",{style:{color:"red"}},"*"),r(")")])],-1)),o(m,{name:"materno",rules:[{required:!0,message:"Ingresa el apellido materno",trigger:"change"}]},{default:n(()=>[o(f,{value:t.materno,"onUpdate:value":e[5]||(e[5]=a=>t.materno=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o(F,{gutter:[16,0],class:"form-row",style:{"margin-top":"-20px"}},{default:n(()=>[o(c,{span:24,md:12,lg:12,xl:8,xxl:8},{default:n(()=>[o(m,{name:"motivo",rules:[{required:!0,message:"Ingresa un motivo",trigger:"change"}]},{default:n(()=>[e[18]||(e[18]=l("div",null,[l("label",null,[r("Motivo ("),l("span",{style:{color:"red"}},"*"),r(")")])],-1)),o(f,{value:t.motivo,"onUpdate:value":e[6]||(e[6]=a=>t.motivo=a)},null,8,["value"])]),_:1})]),_:1}),o(c,{span:24,md:12,lg:12,xl:16,xxl:16},{default:n(()=>[o(m,{name:"id_proceso",rules:[{required:!0,message:"Ingresa el ID de proceso",trigger:"change"}]},{default:n(()=>[e[19]||(e[19]=l("div",{class:"flex justify-between"},[l("label",null,[r("Proceso ("),l("span",{style:{color:"red"}},"*"),r(")")])],-1)),o(Z,{value:t.id_proceso,"onUpdate:value":e[7]||(e[7]=a=>t.id_proceso=a),options:N.value,style:{width:"100%"},onChange:s.handleChange},{option:n(({label:a,value:E})=>[l("span",null,p(a)+" (ID: "+p(E)+")",1)]),_:1},8,["value","options","onChange"])]),_:1})]),_:1}),o(c,{span:24,md:24,lg:24,xl:24,xxl:24},{default:n(()=>[o(m,{name:"observacion"},{default:n(()=>[e[20]||(e[20]=l("div",null,[l("label",null,"Observación:")],-1)),o(H,{value:t.observacion,"onUpdate:value":e[8]||(e[8]=a=>t.observacion=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1},8,["visible"])])]),_:1})],64)}}};export{He as default};
