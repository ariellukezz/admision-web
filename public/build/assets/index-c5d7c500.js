import{r as n,e as O,o as a,c as i,d as s,a as l,u as C,F as x,s as M,v as z,x as S,w as r,f as j,y as $,z as T,M as U,t as N,b as f,A,B as G,I as X}from"./app-76fa21fc.js";import{H as Y,F as J}from"./HomeOutlined-5d210346.js";import"./AntdIcon-b1a687d1.js";const K={class:"ml-3 flex mb-2 mt-5"},P={class:"flex"},Q={style:{"margin-top":"-4px"}},R=["onClick"],W={class:"flex",style:{height:"20px","align-items":"center"}},Z={class:"carpetas-select px-1"},ee=["onDblclick"],te={style:{background:"#476175",height:"36px","margin-left":"-24px","margin-right":"-24px","margin-top":"-24px"}},se={class:"flex justify-between ml-3 mr-1",style:{height:"36px","align-items":"center"}},oe={class:"flex",style:{height:"100px","align-items":"center"}},ne={style:{width:"100%"},class:""},le={style:{margin:"-24px","margin-top":"-5px"},class:"px-6 pb-3 flex justify-end"},ue={__name:"index",setup(re){const d=n([{id:1,nombre:"home"}]);n([]);const E=n(null),g=n([]),c=n(1),u=n(!1),p=n(""),v=async()=>{try{const t=await $.get("/raiz/ver-contenido-carpeta/"+c.value);g.value=t.data.carpetas,E.value=t.data.carpeta}catch(t){t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)}},V=async()=>{try{const t=await $.post("/carpetas/crear-carpeta",{nombre:p.value,carpeta_padre_id:c.value});v(),u.value=!1}catch(t){t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)}},_=async t=>{const e=d.value.indexOf(t);e!==-1?d.value.splice(e+1,d.value.length-e):d.value.push(t),c.value=t.id};O(c,(t,e)=>{v()});const B=t=>{console.log("Clic derecho detectado",t)},H=()=>{u.value=!1};v();const m=n(!1),y=n(0),b=n(0),q=t=>{m.value=!0,y.value=t.clientY,b.value=t.clientX,t.preventDefault()},w=t=>{t==="1"?(u.value=!0,m.value=!1):console.log("2")};return(t,e)=>{const h=A,D=T,k=G,F=X,I=U;return a(),i(x,null,[s("div",K,[s("div",P,[s("div",Q,[l(C(Y))]),(a(!0),i(x,null,M(d.value,o=>(a(),i("div",{key:o.id,onClick:L=>_(o)},[s("div",W,[s("div",Z,N(o.nombre),1),e[7]||(e[7]=f(" / "))])],8,R))),128))])]),s("div",{class:"flex",onContextmenu:e[0]||(e[0]=z(o=>B(),["prevent"]))},[(a(!0),i(x,null,M(g.value,o=>(a(),i("div",{class:"carpetas-select",key:o.id,onDblclick:L=>_(o)},[e[8]||(e[8]=s("div",null,[s("svg",{width:"80px",height:"60px",viewBox:"0 0 32 32","enable-background":"new 0 0 32 32",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[s("g",null,[s("path",{d:"M27,9v5c0,0.55-0.45,1-1,1H6.74L2.96,27.29C2.83,27.72,2.43,28,2,28c-0.05,0-0.1,0-0.15-0.01    C1.36,27.92,1,27.5,1,27V5c0-0.55,0.45-1,1-1h7c0.31,0,0.61,0.15,0.8,0.4L12.5,8H26C26.55,8,27,8.45,27,9z",fill:"#476175"})]),s("g",null,[s("path",{d:"M30.96,14.29l-4,13C26.83,27.71,26.44,28,26,28H2c-0.32,0-0.62-0.15-0.8-0.41    c-0.19-0.25-0.25-0.58-0.16-0.88l4-13C5.17,13.29,5.56,13,6,13h24c0.32,0,0.62,0.15,0.8,0.41C30.99,13.66,31.05,13.99,30.96,14.29    z",fill:"#4761ac"})])])],-1)),s("div",null,N(o.nombre),1)],40,ee))),128))],32),s("div",{onContextmenu:z(q,["prevent"]),style:{height:"600px","background-color":"#eee",position:"relative"}},[e[11]||(e[11]=s("p",null,"Haz clic derecho dentro de este div para mostrar el menú contextual.",-1)),m.value?(a(),i("div",{key:0,style:S([{position:"absolute"},{top:`${y.value-115}px`,left:`${b.value+10}px`}])},[l(D,{size:"small"},{default:r(()=>[l(h,{key:"1",class:"selec-menu",onClick:e[1]||(e[1]=o=>w("1"))},{default:r(()=>e[9]||(e[9]=[s("div",{style:{"margin-top":"0px"}}," Nueva Carpeta ",-1)])),_:1}),l(h,{key:"2",class:"selec-menu",onClick:e[2]||(e[2]=o=>w("2"))},{default:r(()=>e[10]||(e[10]=[s("div",{style:{"margin-top":"0px"}}," Subir archivo ",-1)])),_:1})]),_:1})],4)):j("",!0)],32),l(I,{visible:u.value,"onUpdate:visible":e[6]||(e[6]=o=>u.value=o),closable:!1,style:{"max-width":"320px"},footer:!1},{default:r(()=>[s("div",te,[s("div",se,[e[13]||(e[13]=s("div",null,[s("span",{style:{"font-weight":"bold",color:"white","font-size":"1rem"}},"Nueva carpeta")],-1)),s("div",null,[s("span",null,[l(k,{onClick:e[3]||(e[3]=o=>H()),style:{background:"none",border:"none",color:"white","font-size":"1rem"}},{default:r(()=>e[12]||(e[12]=[f("x")])),_:1})])])])]),s("div",oe,[s("div",ne,[l(F,{value:p.value,"onUpdate:value":e[4]||(e[4]=o=>p.value=o),style:{width:"100%"},placeholder:"Nombre carpeta"},{prefix:r(()=>[l(C(J))]),_:1},8,["value"])])]),s("div",null,[s("div",le,[l(k,{onClick:e[5]||(e[5]=o=>V()),style:{background:"#476175",border:"none",color:"white",width:"100px","border-radius":"4px"}},{default:r(()=>e[14]||(e[14]=[f(" Guardar ")])),_:1})])])]),_:1},8,["visible"])],64)}}};export{ue as default};
