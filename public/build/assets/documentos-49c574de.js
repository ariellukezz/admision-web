import{r as c,e as U,c as r,a as o,u as p,w as a,F as N,q as y,o as d,X as J,d as e,t as k,b as C,Q,l as X,y as $,f as _,g as i,p as G,h as H}from"./app-596f50c0.js";import{A as M}from"./LayoutDocente-e6d8fbb9.js";import W from"./voucher-b295df99.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{C as Z}from"./CreditCardOutlined-218b956c.js";import"./DropdownLink-86de643f.js";import"./logotiny-c4b525af.js";const A=h=>(G("data-v-e80ae17f"),h=h(),H(),h),ee=A(()=>e("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),te={style:{height:"34px"}},oe={style:{"font-weight":"700",color:"black","font-size":".7rem"}},ae={style:{"margin-top":"-10px"}},se={style:{"font-size":".8rem","text-transform":"uppercase"}},le={style:{height:"240px"}},ne=A(()=>e("h1",{style:{"font-weight":"bold"}},"Requisitos",-1)),ie={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},de={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},ue={key:0},ce=["src"],re={class:"",style:{width:"100%",height:"380px"}},pe={key:0},ve={style:{height:"380px"}},_e={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},he={key:0},me=["src"],fe={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},ye={key:0},ge=["src"],be={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},xe={key:0},we=["src"],ke={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},Ce={__name:"documentos",setup(h){const m=window.location.origin,f=c(null),t=c(null),I=c([]),u=c([]),E=[{label:"Solicitud",value:1},{label:"Vouchers",value:2},{label:"Certificado",value:3},{label:"Ex vocacional",value:4},{label:"C. Cepreuna",value:5}],g=c(!1),R=l=>{g.value=l.target.checked,u.value=l.target.checked?E.map(s=>s.value):[]},S=c([]),z=async()=>{let l=await y.get("get-requisitos");S.value=l.data.datos},V=c(null),L=async()=>{V.value.focus(),await y.post("save-requisito",{dni:t.value,requisitos:u.value}),t.value=null,u.value=[]},P=async(l="",s=1)=>{let b=await y.post("get-postulantes?page="+s,{term:f.value});I.value=b.data.datos.data},q=async()=>{u.value=[];let l=await y.post("get-postulante-requisitos",{dni:t.value});l.data.estado===!0&&(u.value=JSON.parse(l.data.datos.requisitos))};return q(),U(f,(l,s)=>{P()}),U(t,(l,s)=>{q()}),z(),(l,s)=>{const b=i("a-input"),j=i("a-auto-complete"),x=i("a-col"),K=i("a-row"),B=i("a-checkbox"),F=i("a-checkbox-group"),v=i("a-tab-pane"),O=i("a-tabs"),T=i("a-button"),D=i("a-card");return d(),r(N,null,[o(p(J),{title:"RevisiÃ³n de documentos"}),o(M,null,{default:a(()=>[e("div",null,[o(D,{style:{background:"white",height:"calc(100vh - 90px)",overflow:"hidden"},class:"mb-0 p-0"},{default:a(()=>[o(K,{gutter:16,class:"mb-3"},{default:a(()=>[o(x,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:a(()=>[e("div",null,[ee,o(j,{value:t.value,"onUpdate:value":s[1]||(s[1]=n=>t.value=n),options:I.value,style:{width:"300px"},onSelect:l.onSelect,onSearch:l.onSearch},{suffix:a(()=>[o(p(Z))]),option:a(({value:n,label:w})=>[e("div",te,[e("div",null,[e("span",oe,k(n),1)]),e("div",ae,[e("span",se,k(w),1)])])]),default:a(()=>[o(b,{ref_key:"dniInput",ref:V,placeholder:"Buscar",value:f.value,"onUpdate:value":s[0]||(s[0]=n=>f.value=n),onKeypress:l.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),o(K,{gutter:16},{default:a(()=>[o(x,{span:24,sm:24,md:8,lg:6},{default:a(()=>[e("div",le,[ne,o(B,{checked:g.value,"onUpdate:checked":s[2]||(s[2]=n=>g.value=n),class:"first-item",onChange:R},{default:a(()=>[C("Todo")]),_:1},8,["checked"]),o(F,{value:u.value,"onUpdate:value":s[3]||(s[3]=n=>u.value=n),class:"checkbox-group-vertical"},{default:a(()=>[(d(!0),r(N,null,Q(S.value,(n,w)=>(d(),X(B,{key:n.value,value:n.value,class:$([{"first-item":w===0},"checkbox-item"])},{default:a(()=>[C(k(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1}),o(x,{span:24,sm:24,md:16,lg:18,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:a(()=>[e("div",ie,[o(O,{activeKey:l.activeKey,"onUpdate:activeKey":s[4]||(s[4]=n=>l.activeKey=n),type:"card",style:{}},{default:a(()=>[o(v,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:a(()=>[e("div",null,[e("div",de,[t.value!==null&&t.value.length===8?(d(),r("div",ue,[e("iframe",{src:p(m)+"/documentos/cepre2023-II/"+t.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,ce)])):_("",!0)])])]),_:1}),o(v,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:a(()=>[e("div",re,[t.value!==null&&t.value.length===8?(d(),r("div",pe,[o(W,{dni:t.value},null,8,["dni"])])):_("",!0)])]),_:1}),o(v,{key:"3",tab:"Certificado"},{default:a(()=>[e("div",ve,[e("div",_e,[t.value!==null&&t.value.length===8?(d(),r("div",he,[e("iframe",{src:p(m)+"/documentos/cepre2023-II/"+t.value+"/certificado-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,me)])):_("",!0)])])]),_:1}),o(v,{key:"4",tab:"Ex vocacional"},{default:a(()=>[e("div",null,[e("div",fe,[t.value!==null&&t.value.length===8?(d(),r("div",ye,[e("iframe",{src:p(m)+"/documentos/cepre2023-II/"+t.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,ge)])):_("",!0)])])]),_:1}),o(v,{key:"5",tab:"Cert Cepre"},{default:a(()=>[e("div",null,[e("div",be,[t.value!==null&&t.value.length===8?(d(),r("div",xe,[e("iframe",{src:p(m)+"/documentos/cepre2023-II/"+t.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,we)])):_("",!0)])])]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),e("div",ke,[o(T,{type:"primary",onClick:s[5]||(s[5]=n=>L())},{default:a(()=>[C("Enviar")]),_:1})])]),_:1})])]),_:1})],64)}}},Ne=Y(Ce,[["__scopeId","data-v-e80ae17f"]]);export{Ne as default};
