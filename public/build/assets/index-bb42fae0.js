import{_ as ka}from"./logotiny-c4b525af.js";import{_ as Ma}from"./logoDAD-c76d0a0b.js";import{_ as Ba}from"./_plugin-vue_export-helper-c27b6911.js";import{f as D,o as y,s as L,w as b,a as h,d as s,t as R,L as Fa,p as Oa,h as $a,r as e,x as g,e as p,q as Ta,c as W,u as za,g as Ua,F as Y,Z as qa,b as aa,i as Ha,I as ea}from"./app-ac99223e.js";import Ka from"./certificado-e9ec7db9.js";const k=_=>(Oa("data-v-b9ea431b"),_=_(),$a(),_),Xa={class:"headPre"},Za=k(()=>s("div",{class:"flex justify-between mb-2 logo-container"},[s("div",{class:"logoPre"},[s("img",{src:ka,class:"logo-img"}),s("div",{class:"x"},[s("div",{class:"container-pre"},[s("span",{class:"puntajex"},"DIRECCIÓN DE")]),s("h1",{class:"logoPreAD"},"ADMISIÓN")]),s("img",{src:Ma,class:"logo-img"})])],-1)),Ga={class:"flex justify-center title-proceso-container"},Ja={class:"title-proceso text-center"},Qa=k(()=>s("div",{class:"flex justify-center titulo-pre"},[s("div",null,[s("div",{class:"flex justify-center",style:{height:"40px"}},[s("hr",{class:"line-pre mr-2"}),s("span",{style:{"font-size":"1.4rem"}},"Resultados"),s("hr",{class:"line-pre ml-2"})])])],-1)),Wa=k(()=>s("div",{style:{background:"#267ec5ea",height:"3px",width:"100%"}},null,-1)),Ya={class:"container"},ae={__name:"LayoutPuntaje",props:["nombre"],setup(_){return(M,i)=>{const w=D("a-layout-content"),P=D("a-layout");return y(),L(P,{style:{"min-height":"100vh"}},{default:b(()=>[h(P,null,{default:b(()=>[s("div",Xa,[Za,s("div",Ga,[s("span",Ja,"EXAMEN "+R(_.nombre),1)]),Qa]),Wa,h(w,{class:"content flex justify-center"},{default:b(()=>[s("div",Ya,[Fa(M.$slots,"default",{},void 0,!0)])]),_:3})]),_:3})]),_:3})}}},ee=Ba(ae,[["__scopeId","data-v-b9ea431b"]]),oe={class:"container"},le={__name:"index",props:["procceso_seleccionado"],emits:["ejecutarFuncionHijo"],setup(_,{emit:M}){const i=_,w=e([]);(async()=>{let a=await axios.get("/get-puntajes-maximos-proceso/"+i.procceso_seleccionado.id);a.data.estado==!0&&(w.value=a.data.datos)})();const m=e(!0);e(!1);const oa=e(""),ta=e(!1);e(!0),e(!1),e(!1);const j=e("1"),sa=e(0);e(0),e(2);const u=e(0);e("");const da=e(),d=g({dni:"",codigo_secreto:""});e();const o=g({id:null,tipo_doc:1,primerapellido:"",segundo_apellido:"",nombres:"",estado_civil:null,sexo:null,correo:"",celular:"",fec_nacimiento:"",ubigeo:"",ubigeo_residencia:""});e();const n=g({pais:"",dep:null,prov:null,dist:null,direccion:""});e();const v=g({id_colegio:null,egreso:null,pais:125,dep:null,prov:null,dist:null,colegio:""});e();const l=g({id:null,tipo_apoderado:1,dni:null,nombres:null,paterno:null,materno:null});e();const r=g({tipo_apoderado:2,dni:null,nombres:null,paterno:null,materno:null});e();const E=g({modalidad:null,programa:null,tipo_certificado:null,codigo_medico:null,codigo_certificado:null}),ia=e([]),na=e([]),B=e(""),F=e(""),S=e(""),O=e("");p(B,(a,t)=>{U()}),p(F,(a,t)=>{q()});const la=e([]),ra=e([]),ca=e(""),pa=e(""),$=e(null),ua=e(null);p(ca,(a,t)=>{wa()}),p(pa,(a,t)=>{Ca()}),e([]),e([]),e(""),e("");const T=e(""),_a=e("");e([]),p(()=>l.dni,(a,t)=>{a.length==8&&H(1)}),p(()=>r.dni,(a,t)=>{a.length==8&&H(2)}),p(()=>E.tipo_certificado,(a,t)=>{a==="CERTIFICADO AMARILLO"&&(j.value="1"),a==="CERTIFICADO BLANCO"&&(j.value="2"),a==="CONSTANCIA DE ESTUDIOS"&&(j.value="3"),ta.value=!0}),p(()=>d.dni,(a,t)=>{a&&a.length==8&&(ya(),J&&(J.value=[]),c.value=[],f.value=[])}),e(!1);const ga=e([]),ma=async()=>{let a=await axios.get("/get-select-modalidad-proceso/"+i.procceso_seleccionado.id);ga.value=a.data.datos};p(()=>E.modalidad,(a,t)=>{fa()});const va=e([]),fa=async()=>{let a=await axios.post("/get-select-programas-proceso",{id_modalidad:E.modalidad,id_proceso:i.procceso_seleccionado.id});va.value=a.data.datos},C=e(0),ba=()=>{const a="70ab1cd1b9b452982370381fd0be605c85ddc8795aed972afca143fee05fde43";axios.get(`https://apiperu.dev/api/dni/${d.dni}`,{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}).then(t=>{const x=t.data;o.primerapellido=x.data.apellido_paterno,o.segundo_apellido=x.data.apellido_materno,o.nombres=x.data.nombres}).catch(t=>{console.error(t)}),ha()},xa=async()=>{u.value==0&&await da.value.validateFields();let a=await axios.post("/get-postulante-datos-personales",{nro_doc:d.dni,ubigeo:d.ubigeo});a.data.datos&&a.data.datos.length>0?(o.id=a.data.datos[0].id,o.primerapellido=a.data.datos[0].primer_apellido,o.segundo_apellido=a.data.datos[0].segundo_apellido,o.nombres=a.data.datos[0].nombres,o.estado_civil=a.data.datos[0].estado_civil,o.sexo=a.data.datos[0].sexo,o.correo=a.data.datos[0].correo,o.celular=a.data.datos[0].celular,a.data.datos[0].fec_nacimiento&&(o.fec_nacimiento=ea(a.data.datos[0].fec_nacimiento)),o.ubigeo=a.data.datos[0].ubigeo,n.direccion=a.data.datos[0].direccion,S.value=a.data.datos[0].dep,n.dep=a.data.datos[0].departamento,$.value=a.data.datos[0].prov,n.prov=a.data.datos[0].provincia,T.value=a.data.datos[0].dist,n.dist=a.data.datos[0].distrito,n.pais=a.data.datos[0].id_pais,o.ubigeo_residencia=a.data.datos[0].ubigeo_residencia,o.ubigeo=a.data.datos[0].ubigeo,n.direccion=a.data.datos[0].direccion,u.value=1):(ba(),u.value=1)},I=async()=>{let a=await axios.post("/get-postulante-datos-personales2",{nro_doc:d.dni});a.data.datos.length>0&&(o.id=a.data.datos[0].id,o.tipo_doc=a.data.datos[0].tipo_doc,o.primerapellido=a.data.datos[0].primer_apellido,o.segundo_apellido=a.data.datos[0].segundo_apellido,o.nombres=a.data.datos[0].nombres,o.estado_civil=a.data.datos[0].estado_civil,o.sexo=a.data.datos[0].sexo,o.correo=a.data.datos[0].correo,o.celular=a.data.datos[0].celular,a.data.datos[0].fec_nacimiento&&(o.fec_nacimiento=ea(a.data.datos[0].fec_nacimiento)),d.ubigeo=a.data.datos[0].ubigeo,n.direccion=a.data.datos[0].direccion,S.value=a.data.datos[0].dep,n.dep=a.data.datos[0].departamento,$.value=a.data.datos[0].prov,n.prov=a.data.datos[0].provincia,T.value=a.data.datos[0].dist,n.pais=a.data.datos[0].id_pais,n.dist=a.data.datos[0].distrito,o.ubigeo_residencia=a.data.datos[0].ubigeo_residencia,o.ubigeo=a.data.datos[0].ubigeo,n.direccion=a.data.datos[0].direccion)},z=e(null),ya=async()=>{z.value=null;let a=await axios.get("/get-paso-registrado/"+i.procceso_seleccionado.id+"/"+d.dni);a.data.estado==!0?(z.value=a.data.datos,await I(),a.data.datos.nro==6?Va():u.value=a.data.datos.nro):(X.value=!0,m.value=!0,Pa())},ha=async()=>{await axios.post("/save-postulante-dni",{tipo_doc:o.tipo_doc,nro_doc:d.dni,ubigeo_nacimiento:d.ubigeo,paterno:o.primerapellido,materno:o.segundo_apellido,nombres:o.nombres}),I()};p(u,(a,t)=>{u===2&&(xa(),U()),a===3&&(q(),Ia()),a===4&&Aa(),a===5&&o.id&&Da(),a===6&&ma()});const U=async()=>{let a=await axios.post("/get-departamentos-codigo?page=",{term:B.value});ia.value=a.data.datos.data},q=async()=>{let a=await axios.post("/get-departamentos-codigo?page=",{term:F.value});na.value=a.data.datos.data},wa=async a=>{let t=await axios.post("/get-provincias-codigo?page=",{departamento:S.value});la.value=t.data.datos},Ca=async a=>{let t=await axios.post("/get-provincias-codigo?page=",{departamento:O.value});ra.value=t.data.datos},H=async a=>{if(a==1){let t=await axios.post("/get-apoderado-dni",{dni:l.dni});t.data.estado===!0?(l.dni=t.data.datos.dni,l.nombres=t.data.datos.nombres,l.paterno=t.data.datos.paterno,l.materno=t.data.datos.materno):getpadreApi()}else{let t=await axios.post("/get-apoderado-dni",{dni:r.dni});t.data.estado===!0?(r.dni=t.data.datos.dni,r.nombres=t.data.datos.nombres,r.paterno=t.data.datos.paterno,r.materno=t.data.datos.materno):getmadreApi()}},Ia=async()=>{const a=await axios.post("/get-ubigeo-colegio",{id_postulante:o.id});console.log(":::",a.data),a.data&&(v.egreso=a.data[0].egreso,v.id_colegio=a.data[0].value,oa.value=a.data[0].label,v.dep=a.data[0].departamento,O.value=a.data[0].dep,v.prov=a.data[0].provincia,ua.value=a.data[0].prov,v.dist=a.data[0].distrito,_a.value=a.data[0].dist)},Aa=async()=>{const a=await axios.post("/get-apoderado",{id_postulante:o.id,tipo:1});a.data.datos.length!==0&&(l.id=a.data.datos[0].id,l.tipo_apoderado=a.data.datos[0].tipo_apoderado,l.dni=a.data.datos[0].nro_documento,l.nombres=a.data.datos[0].nombres,l.paterno=a.data.datos[0].paterno,l.materno=a.data.datos[0].materno)},Da=async()=>{const a=await axios.post("/get-apoderado",{id_postulante:o.id,tipo:2});a.data.datos.length!==0&&(r.id=a.data.datos[0].id,r.dni=a.data.datos[0].nro_documento,r.nombres=a.data.datos[0].nombres,r.paterno=a.data.datos[0].paterno,r.materno=a.data.datos[0].materno)};e(null),e(null),e(null),e(0),e(null),e(null);const K=e(null),A=e(!1);e(null),e([]);const Pa=async()=>{C.value=0;try{let a=await axios.get("/get-sancionado/"+d.dni+"/"+i.procceso_seleccionado.id);if(K.value=a.data.datos,K.value!=null){c.value=[],m.value=!1,A.value=!0,f.value=[];return}else Na()}catch(a){console.error("Error al obtener datos de sancionado",a)}},c=e(null),ja=async()=>{c.value=[];try{let a=await axios.get("/get-participante-cepre/"+d.dni);if(a.data.estado===!0)c.value=a.data.datos,o.tipo_doc=1,o.nombres=c.value.nombres,o.primerapellido=c.value.paterno,o.segundo_apellido=c.value.materno,o.sexo=c.value.sexo,o.ubigeo_residencia=c.value.codigo_distrito,v.egreso=c.value.anio_egreso,C.value=1,Z(),I();else{m.value=!1,A.value=!0;return}}catch(a){console.error("Error al obtener datos del participante",a)}},Ea=e(null),Sa=async()=>{let a=await axios.get("/generar-captcha");Ea.value=a.data.captcha},N=e(0),Na=async()=>{N.value=0;try{(await axios.get("/participa-proceso/"+i.procceso_seleccionado.id+"/"+d.dni)).data.estado===!0?(N.value=1,X.value=!1,m.value=!1,u.value=7):i.procceso_seleccionado.id_modalidad_proceso==2?(await ja(),C.value=1):(Z(),I(),C.value=1)}catch(a){console.error("Error al obtener datos del participante",a)}},Va=async()=>{N.value=0;try{(await axios.get("/participa-proceso/"+i.procceso_seleccionado.id+"/"+d.dni)).data.estado===!0?u.value=7:u.value=6}catch(a){console.error("Error al obtener datos del participante",a)}};Sa();const X=e(!1),V=e(null),f=e([]),Z=async()=>{V.value=null;const a=await axios.get("/get-data-prisma/"+d.dni);a.data.estado===!0&&(V.value=a.data.datos),La()},La=async()=>{try{const a=await axios.post("/get-carreras-previas",{participante:V.value,formState:d.dni});if(a.data.mensaje==="No tiene carreras previas"){const t=a.data.anteriores;f.value=[],m.value=t.loading,A.value=t.modalSancionado,G.value=t.confirmacion}else m.value=!1,f.value=a.data.anteriores,A.value=!1,G.value=!1}catch(a){console.error("Error fetching data: ",a)}},G=e(null),J=Ta(()=>{if(f.value)return f.value.filter(a=>a.selected)});return e({}),(a,t)=>{const x=D("a-col"),Ra=D("a-row");return y(),W(Y,null,[h(za(qa),{title:"Resultados"}),sa.value===0?(y(),L(ee,{key:0,nombre:i.procceso_seleccionado.nombre},{default:b(()=>[aa(R(i.procceso_seleccionado.id)+" ",1),s("div",oe,[h(Ra,{gutter:[16,0],class:"form-row mb-0"},{default:b(()=>[(y(!0),W(Y,null,Ha(w.value,Q=>(y(),L(x,{key:Q,span:24,md:24,lg:12,xl:8,xxl:8},{default:b(()=>[aa(R(Q),1)]),_:2},1024))),128))]),_:1})]),h(Ka,{id_proceso:i.procceso_seleccionado.id,dni:"70757838"},null,8,["id_proceso"])]),_:1},8,["nombre"])):Ua("",!0)],64)}}};export{le as default};
