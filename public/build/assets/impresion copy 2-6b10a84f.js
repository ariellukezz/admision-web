import{r as y,e as U,f as m,o as c,c as r,a as e,u as _,w as a,F as I,Z as re,d as t,b as o,t as N,g,E as V,s as H,D as ue,p as pe,h as _e,I as ve,n as me}from"./app-9aa07da6.js";import{A as fe}from"./LayoutDocente-3ddc3650.js";import ge from"./voucherBN-a6ccf654.js";import{_ as ye}from"./_plugin-vue_export-helper-c27b6911.js";import{f as he}from"./index-84c4d53e.js";import{F as W}from"./FormOutlined-867f3a96.js";import"./DropdownLink-9666fe1d.js";import"./logotiny-c4b525af.js";import"./TopMenu-a005c84d.js";const u=S=>(pe("data-v-cbf98051"),S=S(),_e(),S),be={style:{}},ke={style:{padding:"0px 15px",background:"white","border-radius":"10px","margin-top":"-10px"}},xe={class:"flex justify-end pt-6",style:{background:"white"}},Ie=u(()=>t("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),we={style:{height:"34px"}},Ce={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Se={style:{"margin-top":"-10px"}},Ee={style:{"font-size":".8rem","text-transform":"uppercase"}},Pe=u(()=>t("div",{class:"mb-4",style:{"margin-top":"0px"}},[t("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Comprobantes de pago ")],-1)),Ae={class:"mb-6"},Me=u(()=>t("div",{class:"mb-4",style:{"margin-top":"0px"}},[t("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Documentos ")],-1)),De={class:"mb-6"},ze={key:0,type:"primary",ghost:""},Ue={key:1,type:"danger",ghost:""},Ne=["href"],Ve=u(()=>t("div",{class:"mb-4",style:{"margin-top":"0px"}},[t("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Preinscripción ")],-1)),Be={class:"mb-6"},je={key:0,type:"primary",ghost:""},Fe={key:1,type:"danger",ghost:""},Te=u(()=>t("div",{class:"mb-4",style:{"margin-top":"0px"}},[t("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Inscripciones ")],-1)),Oe={class:"mb-6"},$e={key:0,type:"primary",ghost:""},qe={key:1,type:"danger",ghost:""},Le={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},Ye={class:"container-principal"},Ke={class:"container-postulante"},Re={class:"mr-3 container-imagen"},Ge=["src"],He=["src"],We={class:"datos-postulante"},Qe={class:"mb-2"},Xe=u(()=>t("label",null,"Primer apellido",-1)),Ze={class:"mb-2"},Je=u(()=>t("label",null,"Segundo apellido",-1)),ea={class:"mb-2"},aa=u(()=>t("label",null,"Prenombres",-1)),ta={class:"flex"},oa={class:"mr-3",style:{width:"100%"}},la=u(()=>t("label",null,"Fecha Nac",-1)),ia={style:{width:"100%"}},sa={style:{width:"200px"}},da=u(()=>t("label",null,"Sexo",-1)),na={class:"container-postulante mb-2"},ca={style:{width:"100%"}},ra=u(()=>t("label",null,"Colegio",-1)),ua={class:"container-postulante mb-2"},pa={style:{width:"100%"}},_a=u(()=>t("label",null,"Procedencia",-1)),va={class:"container-postulante"},ma={style:{width:"100%"}},fa=u(()=>t("label",null,"Proceso",-1)),ga={class:"mb-2"},ya=u(()=>t("label",null,"Modalidad",-1)),ha=u(()=>t("label",null,"Programa de estudios",-1)),ba={class:"mt-4 container-huellas"},ka={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},xa=["src"],Ia=["src"],wa={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Ca=["src"],Sa=["src"],Ea={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},Pa={style:{"margin-right":"5px"}},Aa={key:0},Ma={key:1},Da={key:0},za={key:1},Ua={key:0,style:{width:"100%"}},Na=["src"],Va={__name:"impresion copy 2",props:{baseUrl:String},setup(S){const k=window.location.origin,B=y(!1),w=y(""),E=y("1"),p=y(null),j=y(null),M=y(null),F=y([]),i=y({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",cod_programa:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),T=y([]),O=y([]),Q=()=>{console.log("onSelect",p)},$=async(l="",d=1)=>{let v=await axios.post("get-postulantes?page="+d,{term:w.value});F.value=v.data.datos.data},X=async()=>{let l=await axios.get("get-postulante-dni/"+p.value);i.value.id=l.data.datos.id_postulante,i.value.nombres=l.data.datos.nombres,i.value.primer_apellido=l.data.datos.primer_apellido,i.value.segundo_apellido=l.data.datos.segundo_apellido,i.value.sexo=l.data.datos.sexo,i.value.fec_nacimiento=ve(l.data.datos.fec_nacimiento),i.value.colegio=l.data.datos.colegio,i.value.procedencia=l.data.datos.departamento+" / "+l.data.datos.provincia+" / "+l.data.datos.distrito,i.value.proceso=l.data.datos.proceso,i.value.modalidad=l.data.datos.modalidad,i.value.programa=l.data.datos.programa,i.value.cod_programa=l.data.datos.cod_programa,i.value.id_programa=l.data.datos.id_programa,i.value.id_proceso=l.data.datos.id_proceso,i.value.id_modalidad=l.data.datos.id_modalidad,i.value.dni_temp=l.data.datos.dni,B.value=oe(l.data.datos.id_postulante,i.value.id_proceso)},Z=async()=>{let l=await axios.get("get-apoderados-postulante/"+p.value);T.value=l.data.datos},J=async()=>{let l=await axios.get("get-documentos-postulante/"+p.value);O.value=l.data.datos},ee=async()=>{let l=await axios.get("get-preinscripciones-postulante/"+p.value);j.value=l.data.datos},ae=async()=>{let l=await axios.get("get-inscripciones-postulante/"+p.value);M.value=l.data.datos},q=async()=>{await axios.post("inscribir",{postulante:i.value}),te(p.value),p.value="",w.value="",i.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};let L;U(w,(l,d)=>{clearTimeout(L),L=setTimeout(()=>{$()},500)});let Y;U(p,(l,d)=>{clearTimeout(Y),Y=setTimeout(()=>{ee(),ae(),X(),J()},500)}),U(E,(l,d)=>{E.value==2&&Z()});const te=l=>{var d=document.createElement("iframe");d.style.display="none",d.src=k+"/documentos/7/inscripciones/constancias/"+l+".pdf",document.body.appendChild(d),d.contentWindow.focus(),d.contentWindow.print()},oe=(l,d)=>!!M.value.find(P=>P.id_postulante===l&&P.id_proceso===d),le=(l,d,v)=>{me[l]({message:d,description:v})},ie=async()=>{let l=await axios.post("actualizar-postulante",{id:i.value.id,nombres:i.value.nombres,primer_apellido:i.value.primer_apellido,segundo_apellido:i.value.segundo_apellido,fec_nacimiento:he(new Date(i.value.fec_nacimiento),"yyyy-MM-dd"),sexo:i.value.sexo});l.data.estado===!0&&le(l.data.tipo,l.data.titulo,l.data.mensaje)},se=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],de=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"verificado"},{title:"Acciones",dataIndex:"acciones"}],K=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return $(),(l,d)=>{const v=m("a-input"),P=m("a-auto-complete"),x=m("a-tag"),h=m("a-button"),R=m("a-divider"),A=m("a-table"),ne=m("a-date-picker"),s=m("a-select-option"),D=m("a-select"),G=m("a-col"),z=m("a-tab-pane"),ce=m("a-tabs");return c(),r(I,null,[e(_(re),{title:"Inscripciones-impresión"}),e(fe,null,{default:a(()=>[t("div",be,[e(ce,{activeKey:E.value,"onUpdate:activeKey":d[12]||(d[12]=n=>E.value=n),type:"card"},{default:a(()=>[o(N(p.value)+" ",1),e(z,{key:"1",tab:"Inscripcion"},{default:a(()=>[t("div",ke,[t("div",xe,[t("div",null,[Ie,e(P,{value:p.value,"onUpdate:value":d[1]||(d[1]=n=>p.value=n),options:F.value,style:{width:"300px"},onSelect:Q,onSearch:l.onSearch},{option:a(({value:n,label:f})=>[t("div",we,[t("div",null,[t("span",Ce,N(n),1)]),t("div",Se,[t("span",Ee,N(f),1)])])]),default:a(()=>[e(v,{placeholder:"Buscar",value:w.value,"onUpdate:value":d[0]||(d[0]=n=>w.value=n)},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),Pe,t("div",Ae,[t("div",null,[e(ge,{dni:w.value},null,8,["dni"])])]),Me,t("div",De,[t("div",null,[e(A,{dataSource:O.value,columns:de,size:"small",pagination:!1},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="verificado"?(c(),r(I,{key:0},[b.verificado==1?(c(),r("div",ze,[e(x,{color:"green"},{default:a(()=>[o(" verificado ")]),_:1})])):(c(),r("div",Ue,[e(x,{color:"pink"},{default:a(()=>[o(" No verificado ")]),_:1})]))],64)):g("",!0),n.dataIndex==="acciones"?(c(),r(I,{key:1},[e(h,{type:"primary",disabled:"",onClick:C=>l.abrirEditar(l.filiales[f]),size:"small"},{icon:a(()=>[e(_(W))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),t("a",{href:"../../"+b.url,target:"_blank"},[e(h,{type:"primary",onClick:C=>l.eliminar(l.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(_(V))]),_:2},1032,["onClick"])],8,Ne)],64)):g("",!0)]),_:1},8,["dataSource"])])]),Ve,t("div",Be,[t("div",null,[e(A,{dataSource:j.value,columns:K,size:"small",pagination:!1},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="estado"?(c(),r(I,{key:0},[b.estado==1?(c(),r("div",je,[e(x,{color:"green"},{default:a(()=>[o(" Disponible ")]),_:1})])):(c(),r("div",Fe,[e(x,{color:"pink"},{default:a(()=>[o(" Bloqueado ")]),_:1})]))],64)):g("",!0),n.dataIndex==="acciones"?(c(),H(h,{key:1,type:"primary",disabled:"",onClick:C=>l.abrirEditar(l.filiales[f]),size:"small"},{icon:a(()=>[e(_(V))]),_:2},1032,["onClick"])):g("",!0)]),_:1},8,["dataSource"])])]),Te,t("div",Oe,[t("div",null,[e(A,{dataSource:M.value,columns:K,size:"small",pagination:!1},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="estado"?(c(),r(I,{key:0},[b.estado==1?(c(),r("div",$e,[e(x,{color:"green"},{default:a(()=>[o(" Disponible ")]),_:1})])):(c(),r("div",qe,[e(x,{color:"pink"},{default:a(()=>[o(" Bloqueado ")]),_:1})]))],64)):g("",!0),n.dataIndex==="acciones"?(c(),H(h,{key:1,type:"primary",disabled:"",onClick:C=>l.abrirEditar(l.filiales[f]),size:"small"},{icon:a(()=>[e(_(V))]),_:2},1032,["onClick"])):g("",!0)]),_:1},8,["dataSource"])])]),t("div",Le,[t("div",Ye,[e(G,{flex:"1 1"},{default:a(()=>[t("div",Ke,[t("div",Re,[i.value.primer_apellido!==""?(c(),r("img",{key:0,src:_(k)+"/documentos/7/inscripciones/fotos/"+i.value.dni_temp+".jpg"},null,8,Ge)):(c(),r("img",{key:1,src:_(k)+"/fotos/postulantex.jpg"},null,8,He))]),t("div",We,[t("div",Qe,[Xe,e(v,{value:i.value.primer_apellido,"onUpdate:value":d[2]||(d[2]=n=>i.value.primer_apellido=n),placeholder:"Primer apellido"},null,8,["value"])]),t("div",Ze,[Je,e(v,{value:i.value.segundo_apellido,"onUpdate:value":d[3]||(d[3]=n=>i.value.segundo_apellido=n),placeholder:"Segundo apellido"},null,8,["value"])]),t("div",ea,[aa,e(v,{value:i.value.nombres,"onUpdate:value":d[4]||(d[4]=n=>i.value.nombres=n),placeholder:"Prenombres"},null,8,["value"])]),t("div",ta,[t("div",oa,[la,t("div",ia,[e(ne,{style:{width:"100%"},value:i.value.fec_nacimiento,"onUpdate:value":d[5]||(d[5]=n=>i.value.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])])]),t("div",sa,[da,e(D,{ref:"select",value:i.value.sexo,"onUpdate:value":d[6]||(d[6]=n=>i.value.sexo=n),label:"label",style:{width:"100%"}},{default:a(()=>[e(s,{value:"1"},{default:a(()=>[o("Masculino")]),_:1}),e(s,{value:"2"},{default:a(()=>[o("Femenino")]),_:1})]),_:1},8,["value"])])])])]),t("div",null,[t("div",na,[t("div",ca,[ra,e(v,{value:i.value.colegio,"onUpdate:value":d[7]||(d[7]=n=>i.value.colegio=n),disabled:"",placeholder:"Colegio"},null,8,["value"])])]),t("div",ua,[t("div",pa,[_a,e(v,{value:i.value.procedencia,"onUpdate:value":d[8]||(d[8]=n=>i.value.procedencia=n),disabled:"",placeholder:"Procedencia"},null,8,["value"])])]),t("div",va,[t("div",ma,[fa,e(v,{value:i.value.proceso,"onUpdate:value":d[9]||(d[9]=n=>i.value.proceso=n),disabled:"",placeholder:"Proceso"},null,8,["value"])])])])]),_:1}),e(G,{flex:"0 1 400px"},{default:a(()=>[t("div",null,[t("div",ga,[ya,e(D,{ref:"select",value:i.value.modalidad,"onUpdate:value":d[10]||(d[10]=n=>i.value.modalidad=n),style:{width:"100%"},disabled:""},{default:a(()=>[e(s,{value:7},{default:a(()=>[o("PERSONAS CON DISCAPACIDAD")]),_:1}),e(s,{value:8},{default:a(()=>[o("EXAMEN GENERAL")]),_:1}),e(s,{value:9},{default:a(()=>[o("CEPREUNA")]),_:1})]),_:1},8,["value"])]),t("div",null,[ha,e(D,{ref:"select",value:i.value.programa,"onUpdate:value":d[11]||(d[11]=n=>i.value.programa=n),style:{width:"100%"},disabled:!0},{default:a(()=>[e(s,{value:1},{default:a(()=>[o("Administración")]),_:1}),e(s,{value:2},{default:a(()=>[o("Antropología")]),_:1}),e(s,{value:3},{default:a(()=>[o("Arquitectura y Urbanismo")]),_:1}),e(s,{value:4},{default:a(()=>[o("Arte: Artes plásticas")]),_:1}),e(s,{value:5},{default:a(()=>[o("Arte: Danza")]),_:1}),e(s,{value:6},{default:a(()=>[o("Arte: Musica")]),_:1}),e(s,{value:7},{default:a(()=>[o("Biología: Ecología")]),_:1}),e(s,{value:8},{default:a(()=>[o("Biología: Microbiología y laboratorio clínico")]),_:1}),e(s,{value:9},{default:a(()=>[o("Biología: Pesquería")]),_:1}),e(s,{value:1},{default:a(()=>[o("Ciencias contables")]),_:1}),e(s,{value:2},{default:a(()=>[o("Ciencias de la comunicación")]),_:1}),e(s,{value:3},{default:a(()=>[o("Ciencias físisco matemáticas: Física")]),_:1}),e(s,{value:4},{default:a(()=>[o("Ciencias físisco matemáticas: Matemática")]),_:1}),e(s,{value:5},{default:a(()=>[o("Derecho")]),_:1}),e(s,{value:6},{default:a(()=>[o("Educación física")]),_:1}),e(s,{value:7},{default:a(()=>[o("Educación Inicial")]),_:1}),e(s,{value:8},{default:a(()=>[o("Educación primaria")]),_:1}),e(s,{value:9},{default:a(()=>[o("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(s,{value:9},{default:a(()=>[o("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(s,{value:9},{default:a(()=>[o("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(s,{value:9},{default:a(()=>[o("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(s,{value:1},{default:a(()=>[o("Enfermería")]),_:1}),e(s,{value:2},{default:a(()=>[o("Ingeniería Agrícola")]),_:1}),e(s,{value:3},{default:a(()=>[o("Ingeniería Agroindustrial")]),_:1}),e(s,{value:4},{default:a(()=>[o("Ingeniería Civil")]),_:1}),e(s,{value:5},{default:a(()=>[o("Ingeniería de Minas")]),_:1}),e(s,{value:6},{default:a(()=>[o("Ingeniería de Sistemas")]),_:1}),e(s,{value:7},{default:a(()=>[o("Ingeniería Económica")]),_:1}),e(s,{value:8},{default:a(()=>[o("Ingeniería Electrónica")]),_:1}),e(s,{value:9},{default:a(()=>[o("Ingeniería Estadística e informática")]),_:1}),e(s,{value:1},{default:a(()=>[o("Ingeniería Geológica")]),_:1}),e(s,{value:2},{default:a(()=>[o("Ingeniería Mecánica eléctrica")]),_:1}),e(s,{value:3},{default:a(()=>[o("Ingeniería Metalúrgica")]),_:1}),e(s,{value:4},{default:a(()=>[o("Ingeniería Química")]),_:1}),e(s,{value:5},{default:a(()=>[o("Ingeniería Topográfica y Agrimensura")]),_:1}),e(s,{value:6},{default:a(()=>[o("Medicina Humana")]),_:1}),e(s,{value:7},{default:a(()=>[o("Medicina Veterinaria y zootecnia")]),_:1}),e(s,{value:8},{default:a(()=>[o("Nutrición Humana")]),_:1}),e(s,{value:9},{default:a(()=>[o("Odontología")]),_:1}),e(s,{value:1},{default:a(()=>[o("Sociología")]),_:1}),e(s,{value:2},{default:a(()=>[o("Trabajo Social")]),_:1}),e(s,{value:3},{default:a(()=>[o("Turismo")]),_:1})]),_:1},8,["value"])])]),t("div",ba,[t("div",ka,[i.value.primer_apellido!==""?(c(),r("img",{key:0,src:_(k)+"/documentos/7/inscripciones/huellas/"+i.value.dni_temp+".jpg"},null,8,xa)):(c(),r("img",{key:1,src:_(k)+"/huellas/huella.jpg"},null,8,Ia))]),t("div",wa,[i.value.primer_apellido!==""?(c(),r("img",{key:0,src:_(k)+"/documentos/7/inscripciones/huellas/"+i.value.dni_temp+"x.jpg"},null,8,Ca)):(c(),r("img",{key:1,src:_(k)+"/huellas/huella.jpg"},null,8,Sa))])])]),_:1})])]),t("div",Ea,[t("div",Pa,[e(h,{type:"",onClick:ie},{default:a(()=>[o("Actualizar Datos")]),_:1})]),t("div",null,[B.value==!1?(c(),r("div",Aa,[e(h,{type:"primary",onClick:q},{default:a(()=>[o("Inscribir")]),_:1})])):(c(),r("div",Ma,[e(h,{type:"primary",disabled:"",onClick:q},{default:a(()=>[o("Inscribir")]),_:1})]))])])])]),_:1}),e(z,{key:"2",tab:"Apoderados"},{default:a(()=>[e(A,{dataSource:T.value,columns:se},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="parentesco"?(c(),r(I,{key:0},[b.parentesco=="Padre"?(c(),r("div",Da,[e(x,{color:"blue"},{default:a(()=>[o("Padre")]),_:1})])):g("",!0),b.parentesco=="Madre"?(c(),r("div",za,[e(x,{color:"pink"},{default:a(()=>[o("Madre")]),_:1})])):g("",!0)],64)):g("",!0),n.dataIndex==="acciones"?(c(),r(I,{key:1},[e(h,{type:"primary",disabled:"",onClick:C=>l.abrirEditar(l.filiales[f]),size:"small"},{icon:a(()=>[e(_(W))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),e(h,{type:"danger",disabled:"",onClick:C=>l.eliminar(l.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(_(ue))]),_:2},1032,["onClick"])],64)):g("",!0)]),_:1},8,["dataSource"])]),_:1}),e(z,{key:"7",tab:"Constancia"},{default:a(()=>[p.value?(c(),r("div",Ua,[t("iframe",{src:_(k)+"/documentos/7/inscripciones/constancias/"+p.value+".pdf",width:"100%",style:{height:"calc(100vh - 140px)"},scrolling:"yes",frameborder:"1"},null,8,Na)])):g("",!0)]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},Ka=ye(Va,[["__scopeId","data-v-cbf98051"]]);export{Ka as default};
