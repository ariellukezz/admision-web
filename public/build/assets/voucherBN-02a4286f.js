import{r as m,e as E,f as v,o as a,c as s,a as l,w as i,d as p,b as r,F as k,s as N,t as b,g as d,l as u,n as G}from"./app-f9572601.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const L={class:"flex pr-6",style:{width:"100%","justify-content":"end","margin-top":"-30px","margin-bottom":"16px"}},U={key:0},q={key:0},H={key:0},J={key:1},K={key:1},Q={class:"pt-5",style:{width:"100%"}},W={key:0},X={key:0},Y={key:0},Z={key:1},ee={key:1},te={__name:"voucherBN",props:["dni","proceso"],setup(j){const f=m(!1),O=m([]),_=j,h=m([]),V=async()=>{let e=await u.post("get-pagos-banco",{dni:_.dni});O.value=e.data.datos},B=m([]),$=async()=>{let e=await u.get("/get-pago-caja/"+_.dni);B.value=e.data},A=m([]),F=async()=>{let e=await u.get("/get-pago-BN/"+_.dni);A.value=e.data},x=async e=>{let n={dni:_.dni,operacion:e.paymentTitle,fecha:e.paymentDatetime,monto:e.paymentAmount};if(e.estado)e.estado==1?(await u.get("/eliminar-pago/"+n.dni+"/"+n.operacion),e.estado=0,y()):e.estado=1;else{e.estado=1;let o=await u.post("/insertar-pago",{pag:n});y(),S(o.data.type,o.data.titulo,o.data.mensaje)}},I=async e=>{let n={dni:_.dni,operacion:e.paymentId,fecha:e.date,monto:e.amount};if(e.estado)e.estado==1?(await u.get("/eliminar-pago/"+n.dni+"/"+n.operacion),e.estado=0,y()):e.estado=1;else{e.estado=1;let o=await u.post("/insertar-pago",{pag:n});y(),S(o.data.type,o.data.titulo,o.data.mensaje)}},y=async e=>{let n=await u.get("/get-pagos-dni/"+_.dni);h.value=n.data.data};E(()=>{V(),$(),F(),y()});const T=[{title:"N° Operación",dataIndex:"operacion"},{title:"Nombres",dataIndex:"nombres"},{title:"Fecha",dataIndex:"fecha"},{title:"Concepto",dataIndex:"concepto"},{title:"Monto",dataIndex:"monto"}],D=[{title:"N° Operación",dataIndex:"paymentId"},{title:"Nombres",dataIndex:"client"},{title:"Fecha",dataIndex:"date"},{title:"Concepto",dataIndex:"description"},{title:"Monto",dataIndex:"amount"},{title:"",dataIndex:"opcion",align:"center"}],P=[{title:"N° Operación",dataIndex:"paymentTitle"},{title:"Fecha",dataIndex:"paymentDatetime"},{title:"Concepto",dataIndex:"concepto"},{title:"Monto",dataIndex:"paymentAmount",align:"center"},{title:"",dataIndex:"opcion",align:"center"}];m([{paymentId:"2177229",document:"000000070080972",code:"000000000000000",client:"TICONA PONGO TANIA ROSARIO DEL",universityId:"000000000000000",description:"00000028",amount:"21.00",date:"2024-02-27 14:20",status:"0"}]);const S=(e,n,o)=>{G[e]({message:n,description:o})};return(e,n)=>{const o=v("a-button"),C=v("a-tag"),w=v("a-table"),z=v("a-modal"),M=v("a-row");return a(),s("div",null,[l(M,{gutter:16,class:"mb-3"},{default:i(()=>[p("div",L,[l(o,{onClick:n[0]||(n[0]=c=>f.value=!0),style:{background:"#133466",border:"none",color:"white"}},{default:i(()=>[r("Agregar Pagos")]),_:1})]),l(w,{dataSource:h.value,columns:T,pagination:!1,size:"small",style:{width:"100%"}},{bodyCell:i(({column:c,record:t})=>[c.dataIndex==="proceso"?(a(),s(k,{key:0},[t.id_modalidad_proceso===3?(a(),N(C,{key:0,color:"pink"},{default:i(()=>[r(b(t.proceso),1)]),_:2},1024)):d("",!0),t.id_modalidad_proceso===2?(a(),N(C,{key:1,color:"orange"},{default:i(()=>[r(b(t.proceso),1)]),_:2},1024)):d("",!0),t.id_modalidad_proceso===1?(a(),N(C,{key:2,color:"blue"},{default:i(()=>[r(b(t.proceso),1)]),_:2},1024)):d("",!0)],64)):d("",!0)]),_:1},8,["dataSource"]),h.value?(a(),s("div",U,[p("div",null,b(),1)])):d("",!0),l(z,{visible:f.value,"onUpdate:visible":n[1]||(n[1]=c=>f.value=c),width:"900px"},{default:i(()=>[p("div",null,[l(w,{dataSource:A.value,columns:D,pagination:!1,size:"small",style:{width:"100%"}},{bodyCell:i(({column:c,record:t})=>[c.dataIndex==="opcion"?(a(),s(k,{key:0},[c.dataIndex==="opcion"?(a(),s(k,{key:0},[t.estado?(a(),s("div",q,[t.estado===0?(a(),s("div",H,[l(o,{onClick:g=>I(t),style:{background:"#133466",border:"none",color:"white"}},{default:i(()=>[r(" seleccionar ")]),_:2},1032,["onClick"])])):d("",!0),t.estado===1?(a(),s("div",J,[l(o,{onClick:g=>I(t),style:{background:"crimson","border-radius":"5px",border:"none",color:"white"}},{default:i(()=>[r(" seleccionado ")]),_:2},1032,["onClick"])])):d("",!0)])):(a(),s("div",K,[p("div",null,[l(o,{onClick:g=>I(t),style:{background:"#133466",border:"none",color:"white"}},{default:i(()=>[r(" seleccionar ")]),_:2},1032,["onClick"])])]))],64)):d("",!0)],64)):d("",!0)]),_:1},8,["dataSource"])]),p("div",Q,[l(w,{dataSource:B.value,columns:P,pagination:!1,size:"small",style:{width:"100%"}},{bodyCell:i(({column:c,record:t})=>[c.dataIndex==="paymentAmount"?(a(),s("div",W,[p("strong",null,"S/ "+b(t.paymentAmount),1)])):d("",!0),c.dataIndex==="opcion"?(a(),s(k,{key:1},[t.estado?(a(),s("div",X,[t.estado===0?(a(),s("div",Y,[l(o,{onClick:g=>x(t),style:{background:"#133466",border:"none",color:"white"}},{default:i(()=>[r(" seleccionar ")]),_:2},1032,["onClick"])])):d("",!0),t.estado===1?(a(),s("div",Z,[l(o,{onClick:g=>x(t),style:{background:"crimson","border-radius":"5px",border:"none",color:"white"}},{default:i(()=>[r(" seleccionado ")]),_:2},1032,["onClick"])])):d("",!0)])):(a(),s("div",ee,[p("div",null,[l(o,{onClick:g=>x(t),style:{background:"#133466",border:"none",color:"white"}},{default:i(()=>[r(" seleccionar ")]),_:2},1032,["onClick"])])]))],64)):d("",!0)]),_:1},8,["dataSource"])])]),_:1},8,["visible"])]),_:1})])}}},ne=R(te,[["__scopeId","data-v-b30ca457"]]);export{ne as default};
