import{r as p,e as N,f as _,o as r,c,a as e,u as v,w as a,F as w,Z as pe,d as l,t as H,b as t,g,E as V,s as W,D as _e,p as ve,h as me,I as fe,n as ge}from"./app-291ac805.js";import{A as ye}from"./LayoutDocente-f3b1e225.js";import he from"./voucherBN-fc56e0d0.js";import{_ as be}from"./_plugin-vue_export-helper-c27b6911.js";import{f as ke}from"./index-7c8d106f.js";import{F as Q}from"./FormOutlined-2a4d35a4.js";import"./DropdownLink-50edecbe.js";import"./logotiny-c4b525af.js";import"./TopMenu-9d6b2890.js";const E=P=>(ve("data-v-aa4d0e6b"),P=P(),me(),P),xe={style:{}},Ie={style:{padding:"0px 15px",background:"white","border-radius":"10px","margin-top":"-10px"}},we={class:"flex justify-end pt-6",style:{background:"white"}},Ce=E(()=>l("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),Se={style:{height:"34px"}},Ee={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Pe={style:{"margin-top":"-10px"}},Ae={style:{"font-size":".8rem","text-transform":"uppercase"}},Me=E(()=>l("div",{class:"mb-4",style:{"margin-top":"0px"}},[l("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Comprobantes de pago ")],-1)),De={class:"mb-6"},ze=E(()=>l("div",{class:"mb-4",style:{"margin-top":"0px"}},[l("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Documentos ")],-1)),Ue={class:"mb-6"},Ne={key:0,type:"primary",ghost:""},Ve={key:1,type:"danger",ghost:""},Be=["href"],je=E(()=>l("div",{class:"mb-4",style:{"margin-top":"0px"}},[l("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Preinscripción ")],-1)),Fe={class:"mb-6"},Ke={key:0,type:"primary",ghost:""},Oe={key:1,type:"danger",ghost:""},$e=E(()=>l("div",{class:"mb-4",style:{"margin-top":"0px"}},[l("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Inscripciones ")],-1)),Te={class:"mb-6"},qe={key:0,type:"primary",ghost:""},Le={key:1,type:"danger",ghost:""},Ye={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},Re={class:"container-principal"},Ge={class:"container-postulante"},He={class:"mr-3 container-imagen"},We=["src"],Qe=["src"],Xe={class:"datos-postulante"},Ze={class:"mb-2"},Je={class:"mb-2"},ea={class:"mb-2"},aa={class:"flex"},ta={class:"mr-3",style:{width:"100%"}},oa={style:{width:"100%"}},la={style:{width:"200px"}},ia={class:"container-postulante mb-2"},sa={style:{width:"100%"}},da={class:"container-postulante mb-2"},na={style:{width:"100%"}},ra={class:"container-postulante"},ca={style:{width:"100%"}},ua={class:"mb-2"},pa={class:"mt-4 container-huellas"},_a={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},va=["src"],ma=["src"],fa={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},ga=["src"],ya=["src"],ha={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},ba={style:{"margin-right":"5px"}},ka={key:0},xa={key:1},Ia={key:0},wa={key:1},Ca={key:0,style:{width:"100%"}},Sa=["src"],Ea={__name:"impresion copy",props:{baseUrl:String},setup(P){const I=window.location.origin,B=p(!1),C=p(""),k=p("1"),u=p(null),j=p(null),D=p(null),F=p([]),i=p({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",cod_programa:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),K=p([]),X=p([]),O=p([]),Z=()=>{console.log("onSelect",u)},J=o=>{console.log("handleKeyPress",o)},$=async(o="",d=1)=>{let m=await axios.post("get-postulantes?page="+d,{term:C.value});F.value=m.data.datos.data},ee=async()=>{p();let o=await axios.get("get-postulante-dni/"+u.value);i.value.id=o.data.datos.id_postulante,i.value.nombres=o.data.datos.nombres,i.value.primer_apellido=o.data.datos.primer_apellido,i.value.segundo_apellido=o.data.datos.segundo_apellido,i.value.sexo=o.data.datos.sexo,i.value.fec_nacimiento=fe(o.data.datos.fec_nacimiento),i.value.colegio=o.data.datos.colegio,i.value.procedencia=o.data.datos.departamento+" / "+o.data.datos.provincia+" / "+o.data.datos.distrito,i.value.proceso=o.data.datos.proceso,i.value.modalidad=o.data.datos.modalidad,i.value.programa=o.data.datos.programa,i.value.cod_programa=o.data.datos.cod_programa,i.value.id_programa=o.data.datos.id_programa,i.value.id_proceso=o.data.datos.id_proceso,i.value.id_modalidad=o.data.datos.id_modalidad,i.value.dni_temp=o.data.datos.dni,B.value=de(o.data.datos.id_postulante,i.value.id_proceso)},ae=async()=>{let o=await axios.get("get-apoderados-postulante/"+u.value);K.value=o.data.datos},T=async()=>{try{const o=await axios.get("api-pagos/"+u.value);X.value=o.data.data}catch(o){console.error("Error:",o)}},te=async()=>{let o=await axios.get("get-documentos-postulante/"+u.value);O.value=o.data.datos},oe=async()=>{let o=await axios.get("get-preinscripciones-postulante/"+u.value);j.value=o.data.datos},q=async()=>{let o=await axios.get("get-inscripciones-postulante/"+u.value);D.value=o.data.datos},L=async()=>{await axios.post("inscribir",{postulante:i.value}),le(u.value),u.value="",C.value="",i.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};N(C,(o,d)=>{$()}),p(),N(u,(o,d)=>{q(),ee(),T()}),N(k,(o,d)=>{k.value==2&&ae(),k.value==3&&T(),k.value==4&&te(),k.value==5&&q(),k.value==6&&oe()});const le=o=>{var d=document.createElement("iframe");d.style.display="none",d.src=I+"/documentos/general2023-II/"+o+".pdf",document.body.appendChild(d),d.contentWindow.focus(),d.contentWindow.print()},ie=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],se=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"verificado"},{title:"Acciones",dataIndex:"acciones"}],de=(o,d)=>!!D.value.find(A=>A.id_postulante===o&&A.id_proceso===d),ne=(o,d,m)=>{ge[o]({message:d,description:m})},re=async()=>{let o=await axios.post("actualizar-postulante",{id:i.value.id,nombres:i.value.nombres,primer_apellido:i.value.primer_apellido,segundo_apellido:i.value.segundo_apellido,fec_nacimiento:ke(new Date(i.value.fec_nacimiento),"yyyy-MM-dd"),sexo:i.value.sexo});o.data.estado===!0&&ne(o.data.tipo,o.data.titulo,o.data.mensaje)},Y=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return $(),(o,d)=>{const m=_("a-input"),A=_("a-auto-complete"),x=_("a-tag"),h=_("a-button"),R=_("a-divider"),M=_("a-table"),y=_("a-label"),ce=_("a-date-picker"),s=_("a-select-option"),z=_("a-select"),G=_("a-col"),U=_("a-tab-pane"),ue=_("a-tabs");return r(),c(w,null,[e(v(pe),{title:"Inscripciones-impresión"}),e(ye,null,{default:a(()=>[l("div",xe,[e(ue,{activeKey:k.value,"onUpdate:activeKey":d[12]||(d[12]=n=>k.value=n),type:"card"},{default:a(()=>[e(U,{key:"1",tab:"Inscripcion"},{default:a(()=>[l("div",Ie,[l("div",we,[l("div",null,[Ce,e(A,{value:u.value,"onUpdate:value":d[1]||(d[1]=n=>u.value=n),options:F.value,style:{width:"300px"},onSelect:Z,onSearch:o.onSearch},{option:a(({value:n,label:f})=>[l("div",Se,[l("div",null,[l("span",Ee,H(n),1)]),l("div",Pe,[l("span",Ae,H(f),1)])])]),default:a(()=>[e(m,{placeholder:"Buscar",value:C.value,"onUpdate:value":d[0]||(d[0]=n=>C.value=n),onKeypress:J},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),Me,l("div",De,[l("div",null,[e(he,{dni:C.value},null,8,["dni"])])]),ze,l("div",Ue,[l("div",null,[e(M,{dataSource:O.value,columns:se,size:"small",pagination:!1},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="verificado"?(r(),c(w,{key:0},[b.verificado==1?(r(),c("div",Ne,[e(x,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(r(),c("div",Ve,[e(x,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):g("",!0),n.dataIndex==="acciones"?(r(),c(w,{key:1},[e(h,{type:"primary",disabled:"",onClick:S=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(v(Q))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),l("a",{href:"../../"+b.url,target:"_blank"},[e(h,{type:"primary",onClick:S=>o.eliminar(o.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(v(V))]),_:2},1032,["onClick"])],8,Be)],64)):g("",!0)]),_:1},8,["dataSource"])])]),je,l("div",Fe,[l("div",null,[e(M,{dataSource:j.value,columns:Y,size:"small",pagination:!1},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="estado"?(r(),c(w,{key:0},[b.estado==1?(r(),c("div",Ke,[e(x,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(r(),c("div",Oe,[e(x,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):g("",!0),n.dataIndex==="acciones"?(r(),W(h,{key:1,type:"primary",disabled:"",onClick:S=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(v(V))]),_:2},1032,["onClick"])):g("",!0)]),_:1},8,["dataSource"])])]),$e,l("div",Te,[l("div",null,[e(M,{dataSource:D.value,columns:Y,size:"small",pagination:!1},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="estado"?(r(),c(w,{key:0},[b.estado==1?(r(),c("div",qe,[e(x,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(r(),c("div",Le,[e(x,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):g("",!0),n.dataIndex==="acciones"?(r(),W(h,{key:1,type:"primary",disabled:"",onClick:S=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(v(V))]),_:2},1032,["onClick"])):g("",!0)]),_:1},8,["dataSource"])])]),l("div",Ye,[l("div",Re,[e(G,{flex:"1 1"},{default:a(()=>[l("div",Ge,[l("div",He,[i.value.primer_apellido!==""?(r(),c("img",{key:0,src:v(I)+"/fotos/inscripcion/"+i.value.dni_temp+".jpg"},null,8,We)):(r(),c("img",{key:1,src:v(I)+"/fotos/postulantex.jpg"},null,8,Qe))]),l("div",Xe,[l("div",Ze,[e(y,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(m,{value:i.value.primer_apellido,"onUpdate:value":d[2]||(d[2]=n=>i.value.primer_apellido=n),placeholder:"Primer apellido"},null,8,["value"])]),l("div",Je,[e(y,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(m,{value:i.value.segundo_apellido,"onUpdate:value":d[3]||(d[3]=n=>i.value.segundo_apellido=n),placeholder:"Segundo apellido"},null,8,["value"])]),l("div",ea,[e(y,null,{default:a(()=>[t("Prenombres")]),_:1}),e(m,{value:i.value.nombres,"onUpdate:value":d[4]||(d[4]=n=>i.value.nombres=n),placeholder:"Prenombres"},null,8,["value"])]),l("div",aa,[l("div",ta,[e(y,null,{default:a(()=>[t("Fecha Nac")]),_:1}),l("div",oa,[e(ce,{style:{width:"100%"},value:i.value.fec_nacimiento,"onUpdate:value":d[5]||(d[5]=n=>i.value.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])])]),l("div",la,[e(y,null,{default:a(()=>[t("Sexo")]),_:1}),e(z,{ref:"select",value:i.value.sexo,"onUpdate:value":d[6]||(d[6]=n=>i.value.sexo=n),label:"label",style:{width:"100%"}},{default:a(()=>[e(s,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(s,{value:"2"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),l("div",null,[l("div",ia,[l("div",sa,[e(y,null,{default:a(()=>[t("Colegio")]),_:1}),e(m,{value:i.value.colegio,"onUpdate:value":d[7]||(d[7]=n=>i.value.colegio=n),disabled:"",placeholder:"Colegio"},null,8,["value"])])]),l("div",da,[l("div",na,[e(y,null,{default:a(()=>[t("Procedencia")]),_:1}),e(m,{value:i.value.procedencia,"onUpdate:value":d[8]||(d[8]=n=>i.value.procedencia=n),disabled:"",placeholder:"Procedencia"},null,8,["value"])])]),l("div",ra,[l("div",ca,[e(y,null,{default:a(()=>[t("Proceso")]),_:1}),e(m,{value:i.value.proceso,"onUpdate:value":d[9]||(d[9]=n=>i.value.proceso=n),disabled:"",placeholder:"Proceso"},null,8,["value"])])])])]),_:1}),e(G,{flex:"0 1 400px"},{default:a(()=>[l("div",null,[l("div",ua,[e(y,null,{default:a(()=>[t("Modalidad")]),_:1}),e(z,{ref:"select",value:i.value.modalidad,"onUpdate:value":d[10]||(d[10]=n=>i.value.modalidad=n),style:{width:"100%"},disabled:""},{default:a(()=>[e(s,{value:7},{default:a(()=>[t("PERSONAS CON DISCAPACIDAD")]),_:1}),e(s,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(s,{value:9},{default:a(()=>[t("CEPREUNA")]),_:1})]),_:1},8,["value"])]),l("div",null,[e(y,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(z,{ref:"select",value:i.value.programa,"onUpdate:value":d[11]||(d[11]=n=>i.value.programa=n),style:{width:"100%"},disabled:!0},{default:a(()=>[e(s,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(s,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(s,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(s,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(s,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(s,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(s,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(s,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(s,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(s,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(s,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(s,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(s,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(s,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(s,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(s,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(s,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(s,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(s,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(s,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(s,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(s,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(s,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(s,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(s,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(s,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(s,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(s,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(s,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(s,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(s,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(s,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(s,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(s,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(s,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(s,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(s,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(s,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(s,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(s,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(s,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(s,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),l("div",pa,[l("div",_a,[i.value.primer_apellido!==""?(r(),c("img",{key:0,src:v(I)+"/fotos/huella/"+i.value.dni_temp+".jpg"},null,8,va)):(r(),c("img",{key:1,src:v(I)+"/huellas/huella.jpg"},null,8,ma))]),l("div",fa,[i.value.primer_apellido!==""?(r(),c("img",{key:0,src:v(I)+"/fotos/huella/"+i.value.dni_temp+"x.jpg"},null,8,ga)):(r(),c("img",{key:1,src:v(I)+"/huellas/huella.jpg"},null,8,ya))])])]),_:1})])]),l("div",ha,[l("div",ba,[e(h,{type:"",onClick:re},{default:a(()=>[t("Actualizar Datos")]),_:1})]),l("div",null,[B.value==!1?(r(),c("div",ka,[e(h,{type:"primary",onClick:L},{default:a(()=>[t("Inscribir")]),_:1})])):(r(),c("div",xa,[e(h,{type:"primary",disabled:"",onClick:L},{default:a(()=>[t("Inscribir")]),_:1})]))])])])]),_:1}),e(U,{key:"2",tab:"Apoderados"},{default:a(()=>[e(M,{dataSource:K.value,columns:ie},{bodyCell:a(({column:n,index:f,record:b})=>[n.dataIndex==="parentesco"?(r(),c(w,{key:0},[b.parentesco=="Padre"?(r(),c("div",Ia,[e(x,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):g("",!0),b.parentesco=="Madre"?(r(),c("div",wa,[e(x,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):g("",!0)],64)):g("",!0),n.dataIndex==="acciones"?(r(),c(w,{key:1},[e(h,{type:"primary",disabled:"",onClick:S=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(v(Q))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),e(h,{type:"danger",disabled:"",onClick:S=>o.eliminar(o.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(v(_e))]),_:2},1032,["onClick"])],64)):g("",!0)]),_:1},8,["dataSource"])]),_:1}),e(U,{key:"7",tab:"Constancia"},{default:a(()=>[u.value?(r(),c("div",Ca,[l("iframe",{src:"https://inscripciones.admision.unap.edu.pe/documentos/general2023-II/"+u.value+".pdf",width:"100%",style:{height:"calc(100vh - 140px)"},scrolling:"yes",frameborder:"1"},null,8,Sa)])):g("",!0)]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},ja=be(Ea,[["__scopeId","data-v-aa4d0e6b"]]);export{ja as default};
