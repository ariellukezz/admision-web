import{r as o,J as Y,e as u,o as i,c,a,u as v,w as s,F as k,y as g,Z as ee,d as l,E as V,b as p,t as x,f as m,I as te,_ as oe,B as ae,H as se,h as ne,i as le,S as ie,j as de}from"./app-c39b6060.js";import{L as re}from"./LayoutSimulacro-1ee92d4f.js";import{S as ue}from"./SearchOutlined-46355157.js";import{E as ce}from"./EyeOutlined-c5b0bb55.js";import{F as pe}from"./FormOutlined-3985f5a8.js";import{D as me}from"./DeleteOutlined-d54c0eec.js";import"./NavLink-a6681133.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-c4c88b8b.js";import"./DropdownLink-4ea8cc87.js";import"./DownOutlined-d2ba4533.js";import"./AntdIcon-c82fec05.js";const _e={class:"mb-4",style:{width:"100%"}},ve={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},ge={class:"flex justify-end mt-5 mb-4 mr-4"},xe={class:"flex justify-between",style:{position:"relative"}},fe={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},be={key:1},ye={key:2},we={key:3},Ie={key:4},he={class:"flex justify-between mb-6 mt-2 pr-4"},ke={clas:"",style:{scale:"0.9"}},qe={__name:"consulta",setup(Ve){o([]);const f=o(""),b=o(1),C=o(null),_=o(10),R=o(!1),j=o(null),E=o(null),S=o([]),O=o(null);o(!1);const U=o(),z=o(),D=o(),P=o(),T=o(),q=o(),L=o(),$=o();o();const d=Y({cod_modular:"",nombre:"",cod_local:"",nivel:"",gestion:null,ubigeo:"",direccion:"",observacion:""});o(null);const B=async()=>{g.post("/get-ubigeo",{term:E.value}).then(e=>{S.value=e.data.datos.data,console.log("Datos recibidos:",S)}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},F=o([]),y=async()=>{let e=await g.post("get-pagos-simulacro-consulta?page="+b.value,{term:f.value,paginashoja:_.value});F.value=e.data.datos.data,C.value=e.data.datos.total};y();const N=async()=>{let e=await g.post("/get-departamentos-codigo",{term:z.value});U.value=e.data.datos.data},A=async()=>{let e=await g.post("/get-provincias-codigo?page=",{departamento:D.value});P.value=e.data.datos},H=async e=>{let t=await g.post("/get-distritos-codigo?page=",{departamento:D.value,provincia:q.value});L.value=t.data.datos};u(b,(e,t)=>{y()}),u(_,(e,t)=>{y()}),u(f,(e,t)=>{y()}),u(E,(e,t)=>{e.length>=3&&B()}),u(z,(e,t)=>{e.length>=3&&N()}),u(T,(e,t)=>{e.length>=3&&A()}),u($,(e,t)=>{e.length>=3&&H()}),u(O,(e,t)=>{e.length>=3&&getColegios()}),N(),B();const J=e=>{R.value=!0,d.id=e.id,d.cod_modular=e.cod_modular,d.nombre=e.nombre,d.cod_local=e.cod_local,d.gestion=e.gestion,d.nivel=e.nivel,d.ubigeo=e.ubigeo,j.value=e.lugar,d.direccion=e.direccion,d.observacion=e.observacion},Z=o([{title:"Nro_Doc",width:"100px",dataIndex:"nro_doc",fixed:"left"},{title:"Nombres",dataIndex:"nombre",responsive:["xs","sm","md","lg"]},{title:"Apellidos",dataIndex:"apellidos",responsive:["xs","sm","md","lg"]},{title:"Concepto",dataIndex:"concepto",responsive:["md"]},{title:"F.Confirmacion",dataIndex:"fecha",responsive:["lg"]},{title:"autorizacion",dataIndex:"cod_autorizacion",responsive:["lg"]},{title:"Total",dataIndex:"total",align:"center",responsive:["md","lg"]},{title:"Comision",dataIndex:"comision",align:"center",responsive:["md","lg"]},{title:"Tipo",dataIndex:"medio",align:"center",responsive:["md"]},{title:"Estado",dataIndex:"est",align:"center",responsive:["xs","sm","md","lg"]}]);return(e,t)=>{const G=te,I=oe,h=ae,K=se,M=ne,Q=le,w=ie,W=de;return i(),c(k,null,[a(v(ee),{title:"Pagos"}),a(re,null,{default:s(()=>[l("div",_e,[l("div",ve,[l("div",ge,[l("div",xe,[a(G,{type:"text",placeholder:"Buscar",value:f.value,"onUpdate:value":t[0]||(t[0]=n=>f.value=n),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),l("div",fe,[a(v(ue))])])]),l("div",null,[a(M,{dataSource:F.value,size:"",columns:Z.value,scroll:{x:900},pagination:!1},{bodyCell:s(({column:n,index:Ce,record:r})=>[n.dataIndex==="nro_doc"?(i(),V(I,{key:0,color:"#4f4f4f",style:{width:"78px"}},{default:s(()=>[p(x(r.dni),1)]),_:2},1024)):m("",!0),n.dataIndex==="nombre"?(i(),c("div",be,[l("span",null,x(r.nombres),1)])):m("",!0),n.dataIndex==="apellidos"?(i(),c("div",ye,[l("span",null,x(r.apellidos),1)])):m("",!0),n.dataIndex==="total"?(i(),c("div",we,[l("span",null,"S/ "+x(parseInt(r.total).toFixed(2)),1)])):m("",!0),n.dataIndex==="comision"?(i(),c("div",Ie,[l("span",null,"S/ "+x((r.subtotal-r.total).toFixed(2)),1)])):m("",!0),n.dataIndex==="acciones"?(i(),c(k,{key:5},[a(h,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:s(()=>[a(v(ce))]),_:1}),a(h,{class:"mr-1",onClick:X=>J(r),style:{color:"blue"},size:"small",disabled:""},{icon:s(()=>[a(v(pe))]),_:2},1032,["onClick"]),a(K,{title:"¿Estas seguro de eliminar?",onConfirm:X=>e.eliminar(r),disabled:""},{default:s(()=>[a(h,{size:"small",style:{color:"crimson"},disabled:""},{icon:s(()=>[a(v(me),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):m("",!0),n.dataIndex==="est"?(i(),c(k,{key:6},[r.est==="0"?(i(),V(I,{key:0,color:"red",style:{width:"70px"}},{default:s(()=>t[3]||(t[3]=[p(" Usado ")])),_:1})):(i(),V(I,{key:1,color:"purple",style:{width:"70px"}},{default:s(()=>t[4]||(t[4]=[p("No usado ")])),_:1}))],64)):m("",!0)]),_:1},8,["dataSource","columns"])]),l("div",he,[l("div",null,[a(Q,{current:b.value,"onUpdate:current":t[1]||(t[1]=n=>b.value=n),"page-size":_.value,simple:"",total:C.value,"show-less-items":""},null,8,["current","page-size","total"])]),l("div",ke,[a(W,{value:_.value,"onUpdate:value":t[2]||(t[2]=n=>_.value=n),style:{width:"90px"}},{default:s(()=>[a(w,{value:10},{default:s(()=>t[5]||(t[5]=[p("10 Reg.")])),_:1}),a(w,{value:20},{default:s(()=>t[6]||(t[6]=[p("20 Reg.")])),_:1}),a(w,{value:50},{default:s(()=>t[7]||(t[7]=[p("50 Reg.")])),_:1}),a(w,{value:100},{default:s(()=>t[8]||(t[8]=[p("100 Reg.")])),_:1})]),_:1},8,["value"])])])])])]),_:1})],64)}}};export{qe as default};
