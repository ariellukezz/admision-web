import{r as g,e as z,c as r,a as e,u as p,w as a,F as I,o as u,X as ce,d as s,t as B,b as t,f as c,D as pe,P as Q,L as F,i as J,g as v,p as _e,h as ve}from"./app-e12d31e8.js";import{A as me}from"./LayoutDocente-9c8728ca.js";import{_ as fe}from"./_plugin-vue_export-helper-c27b6911.js";import{F as Y}from"./FormOutlined-fd6900a6.js";import"./DropdownLink-7468a2e7.js";import"./logotiny-c4b525af.js";const ge=A=>(_e("data-v-e1a00376"),A=A(),ve(),A),ye={style:{padding:"0px 15px"}},he={class:"flex justify-end"},be=ge(()=>s("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),ke={style:{height:"34px"}},xe={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Ie={style:{"margin-top":"-10px"}},Ce={style:{"font-size":".8rem","text-transform":"uppercase"}},Se={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},we={class:"container-principal"},Ee={class:"container-postulante"},Pe={class:"mr-3 container-imagen"},Ae=["src"],Me=["src"],De={class:"datos-postulante"},Ue={class:"mb-2"},Ne={class:"mb-2"},Ve={class:"mb-2"},ze={class:"flex"},Be={class:"mr-3"},Fe={style:{width:"100%"}},je={class:"container-postulante mb-2"},Oe={style:{width:"100%"}},Ke={class:"container-postulante mb-2"},$e={style:{width:"100%"}},Le={class:"container-postulante"},Te={style:{width:"100%"}},qe={class:"mb-2"},He={class:"mt-4 container-huellas"},Re={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},Ge=["src"],We=["src"],Xe={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Qe=["src"],Je=["src"],Ye={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},Ze={key:0},ea={key:1},aa={key:0},ta={key:1},oa={class:"flex",style:{"align-items":"center"}},la={key:0,style:{color:"red","margin-top":"-8px"}},ia={key:0},da={key:1},sa={key:1},na={class:"flex",style:{"align-items":"center"}},ua={key:0,style:{color:"red","margin-top":"-8px"}},ra={key:0,type:"primary",ghost:""},ca={key:1,type:"danger",ghost:""},pa=["href"],_a={key:0,type:"primary",ghost:""},va={key:1,type:"danger",ghost:""},ma={key:0,type:"primary",ghost:""},fa={key:1,type:"danger",ghost:""},ga={__name:"impresion",props:{baseUrl:String},setup(A){const C=window.location.origin,j=g(!1),w=g(""),k=g("1"),m=g(null),O=g(null),D=g(null),K=g([]),i=g({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",cod_programa:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),$=g([]),U=g([]),N=g([]),Z=()=>{console.log("onSelect",m)},ee=o=>{console.log("handleKeyPress",o)},L=async(o="",n=1)=>{let y=await axios.post("get-postulantes?page="+n,{term:w.value});K.value=y.data.datos.data},ae=async()=>{let o=await axios.get("get-postulante-dni/"+m.value);i.value.id=o.data.datos.id_postulante,i.value.nombres=o.data.datos.nombres,i.value.primer_apellido=o.data.datos.primer_apellido,i.value.segundo_apellido=o.data.datos.segundo_apellido,i.value.sexo=o.data.datos.sexo,i.value.colegio=o.data.datos.colegio,i.value.procedencia=o.data.datos.departamento+" / "+o.data.datos.provincia+" / "+o.data.datos.distrito,i.value.proceso=o.data.datos.proceso,i.value.modalidad=o.data.datos.modalidad,i.value.programa=o.data.datos.programa,i.value.cod_programa=o.data.datos.cod_programa,i.value.id_programa=o.data.datos.id_programa,i.value.id_proceso=o.data.datos.id_proceso,i.value.id_modalidad=o.data.datos.id_modalidad,i.value.dni_temp=o.data.datos.dni,j.value=ne(o.data.datos.id_postulante,i.value.id_proceso)},te=async()=>{let o=await axios.get("get-apoderados-postulante/"+m.value);$.value=o.data.datos},T=async()=>{let o=await axios.get("get-vouchers-postulante/"+m.value);U.value=o.data.datos},q=async()=>{let o=await axios.get("get-documentos-postulante/"+m.value);N.value=o.data.datos},oe=async()=>{let o=await axios.get("get-preinscripciones-postulante/"+m.value);O.value=o.data.datos},H=async()=>{let o=await axios.get("get-inscripciones-postulante/"+m.value);D.value=o.data.datos},R=async()=>{await axios.post("inscribir",{postulante:i.value}),le(m.value),m.value="",w.value="",i.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};z(w,(o,n)=>{L()}),z(m,(o,n)=>{H(),ae(),T(),q()}),z(k,(o,n)=>{k.value==2&&te(),k.value==3&&T(),k.value==4&&q(),k.value==5&&H(),k.value==6&&oe()});const le=o=>{var n=document.createElement("iframe");n.style.display="none",n.src=C+"/documentos/cepre2023-II/"+o+"/inscripcion-1.pdf",document.body.appendChild(n),n.contentWindow.focus(),n.contentWindow.print()},ie=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],de=[{title:"N° Operación",dataIndex:"operacion",key:"operacion"},{title:"Fecha",dataIndex:"fecha",key:"fecha"},{title:"Hora",dataIndex:"hora",key:"hora"},{title:"Concepto",dataIndex:"codigo",key:"codigo"},{title:"Monto",dataIndex:"monto",key:"monto"}],se=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"verificado"},{title:"Acciones",dataIndex:"acciones"}],ne=(o,n)=>!!D.value.find(M=>M.id_postulante===o&&M.id_proceso===n),G=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return L(),(o,n)=>{const y=v("a-input"),M=v("a-auto-complete"),h=v("a-label"),ue=v("a-date-picker"),l=v("a-select-option"),V=v("a-select"),W=v("a-col"),x=v("a-button"),S=v("a-tab-pane"),b=v("a-tag"),X=v("a-divider"),E=v("a-table"),re=v("a-tabs");return u(),r(I,null,[e(p(ce),{title:"Inscripciones-impresión"}),e(me,null,{default:a(()=>[s("div",null,[e(re,{activeKey:k.value,"onUpdate:activeKey":n[12]||(n[12]=d=>k.value=d),type:"card"},{default:a(()=>[e(S,{key:"1",tab:"Inscripcion"},{default:a(()=>[s("div",ye,[s("div",he,[s("div",null,[be,e(M,{value:m.value,"onUpdate:value":n[1]||(n[1]=d=>m.value=d),options:K.value,style:{width:"300px"},onSelect:Z,onSearch:o.onSearch},{option:a(({value:d,label:f})=>[s("div",ke,[s("div",null,[s("span",xe,B(d),1)]),s("div",Ie,[s("span",Ce,B(f),1)])])]),default:a(()=>[e(y,{placeholder:"Buscar",value:w.value,"onUpdate:value":n[0]||(n[0]=d=>w.value=d),onKeypress:ee},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),s("div",Se,[s("div",we,[e(W,{flex:"1 1"},{default:a(()=>[s("div",Ee,[s("div",Pe,[i.value.primer_apellido!==""?(u(),r("img",{key:0,src:p(C)+"/fotos/inscripcion/"+i.value.dni_temp+".jpg"},null,8,Ae)):(u(),r("img",{key:1,src:p(C)+"/fotos/postulantex.jpg"},null,8,Me))]),s("div",De,[s("div",Ue,[e(h,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(y,{value:i.value.primer_apellido,"onUpdate:value":n[2]||(n[2]=d=>i.value.primer_apellido=d),placeholder:"Primer apellido"},null,8,["value"])]),s("div",Ne,[e(h,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(y,{value:i.value.segundo_apellido,"onUpdate:value":n[3]||(n[3]=d=>i.value.segundo_apellido=d),placeholder:"Segundo apellido"},null,8,["value"])]),s("div",Ve,[e(h,null,{default:a(()=>[t("Prenombres")]),_:1}),e(y,{value:i.value.nombres,"onUpdate:value":n[4]||(n[4]=d=>i.value.nombres=d),placeholder:"Prenombres"},null,8,["value"])]),s("div",ze,[s("div",Be,[e(h,null,{default:a(()=>[t("Fecha Nac")]),_:1}),s("div",null,[e(ue,{value:o.fecha,"onUpdate:value":n[5]||(n[5]=d=>o.fecha=d)},null,8,["value"])])]),s("div",Fe,[e(h,null,{default:a(()=>[t("Sexo")]),_:1}),e(V,{ref:"select",value:i.value.sexo,"onUpdate:value":n[6]||(n[6]=d=>i.value.sexo=d),style:{width:"100%"}},{default:a(()=>[e(l,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(l,{value:"0"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),s("div",null,[s("div",je,[s("div",Oe,[e(h,null,{default:a(()=>[t("Colegio")]),_:1}),e(y,{value:i.value.colegio,"onUpdate:value":n[7]||(n[7]=d=>i.value.colegio=d),placeholder:"Colegio"},null,8,["value"])])]),s("div",Ke,[s("div",$e,[e(h,null,{default:a(()=>[t("Procedencia")]),_:1}),e(y,{value:i.value.procedencia,"onUpdate:value":n[8]||(n[8]=d=>i.value.procedencia=d),placeholder:"Procedencia"},null,8,["value"])])]),s("div",Le,[s("div",Te,[e(h,null,{default:a(()=>[t("Proceso")]),_:1}),e(y,{value:i.value.proceso,"onUpdate:value":n[9]||(n[9]=d=>i.value.proceso=d),placeholder:"Proceso"},null,8,["value"])])])])]),_:1}),e(W,{flex:"0 1 400px"},{default:a(()=>[s("div",null,[s("div",qe,[e(h,null,{default:a(()=>[t("Modalidad")]),_:1}),e(V,{ref:"select",value:i.value.modalidad,"onUpdate:value":n[10]||(n[10]=d=>i.value.modalidad=d),style:{width:"100%"}},{default:a(()=>[e(l,{value:7},{default:a(()=>[t("PERSONAS CON DISCAPACIDAD")]),_:1}),e(l,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(l,{value:9},{default:a(()=>[t("CEPREUNA")]),_:1})]),_:1},8,["value"])]),s("div",null,[e(h,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(V,{ref:"select",value:i.value.programa,"onUpdate:value":n[11]||(n[11]=d=>i.value.programa=d),style:{width:"100%"},disabled:!0},{default:a(()=>[e(l,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(l,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(l,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(l,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(l,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(l,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(l,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(l,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(l,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(l,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(l,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(l,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(l,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(l,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(l,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(l,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(l,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(l,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(l,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(l,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(l,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(l,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(l,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(l,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(l,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(l,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(l,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(l,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(l,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),s("div",He,[s("div",Re,[i.value.primer_apellido!==""?(u(),r("img",{key:0,src:p(C)+"/fotos/huella/"+i.value.dni_temp+".jpg"},null,8,Ge)):(u(),r("img",{key:1,src:p(C)+"/huellas/huella.jpg"},null,8,We))]),s("div",Xe,[i.value.primer_apellido!==""?(u(),r("img",{key:0,src:p(C)+"/fotos/huella/"+i.value.dni_temp+"x.jpg"},null,8,Qe)):(u(),r("img",{key:1,src:p(C)+"/huellas/huella.jpg"},null,8,Je))])])]),_:1})])]),s("div",Ye,[j.value==!1?(u(),r("div",Ze,[e(x,{type:"primary",onClick:R},{default:a(()=>[t("Inscribir")]),_:1})])):(u(),r("div",ea,[e(x,{type:"primary",disabled:"",onClick:R},{default:a(()=>[t("Inscribir")]),_:1})]))])])]),_:1}),e(S,{key:"2",tab:"Apoderados"},{default:a(()=>[e(E,{dataSource:$.value,columns:ie},{bodyCell:a(({column:d,index:f,record:_})=>[d.dataIndex==="parentesco"?(u(),r(I,{key:0},[_.parentesco=="Padre"?(u(),r("div",aa,[e(b,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):c("",!0),_.parentesco=="Madre"?(u(),r("div",ta,[e(b,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):c("",!0)],64)):c("",!0),d.dataIndex==="acciones"?(u(),r(I,{key:1},[e(x,{type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(p(Y))]),_:2},1032,["onClick"]),e(X,{type:"vertical"}),e(x,{type:"danger",disabled:"",onClick:P=>o.eliminar(o.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(p(pe))]),_:2},1032,["onClick"])],64)):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"3",style:{}},{tab:a(()=>[s("div",oa,[U.value.length===0&&i.value.dni_temp!==""?(u(),r("div",la,[s("span",null,[e(p(Q))])])):c("",!0),t(" vouchers ")])]),default:a(()=>[e(E,{dataSource:U.value,columns:de},{bodyCell:a(({column:d,index:f,record:_})=>[d.dataIndex==="codigo"?(u(),r(I,{key:0},[_.codigo==26?(u(),r("div",ia,[e(b,{color:"green"},{default:a(()=>[t(" Derechos de admisión ")]),_:1})])):c("",!0),_.codigo==39?(u(),r("div",da,[e(b,{color:"pink"},{default:a(()=>[t(" Examen médico ")]),_:1})])):c("",!0)],64)):c("",!0),d.dataIndex==="monto"?(u(),r("div",sa,[s("span",null,"S/ "+B(_.monto.toFixed(2)),1)])):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"4"},{tab:a(()=>[s("div",na,[N.value.length<3&&i.value.dni_temp!==""?(u(),r("div",ua,[s("span",null,[e(p(Q))])])):c("",!0),t(" Documentos ")])]),default:a(()=>[e(E,{dataSource:N.value,columns:se,size:"small"},{bodyCell:a(({column:d,index:f,record:_})=>[d.dataIndex==="verificado"?(u(),r(I,{key:0},[_.verificado==1?(u(),r("div",ra,[e(b,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(u(),r("div",ca,[e(b,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):c("",!0),d.dataIndex==="acciones"?(u(),r(I,{key:1},[e(x,{type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(p(Y))]),_:2},1032,["onClick"]),e(X,{type:"vertical"}),s("a",{href:"../../"+_.url,target:"_blank"},[e(x,{type:"primary",onClick:P=>o.eliminar(o.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(p(F))]),_:2},1032,["onClick"])],8,pa)],64)):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"5",tab:"Inscripciones"},{default:a(()=>[e(E,{dataSource:D.value,columns:G,size:"small"},{bodyCell:a(({column:d,index:f,record:_})=>[d.dataIndex==="estado"?(u(),r(I,{key:0},[_.estado==1?(u(),r("div",_a,[e(b,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(u(),r("div",va,[e(b,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):c("",!0),d.dataIndex==="acciones"?(u(),J(x,{key:1,type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(p(F))]),_:2},1032,["onClick"])):c("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"6",tab:"Pre inscripciones"},{default:a(()=>[e(E,{dataSource:O.value,columns:G,size:"small"},{bodyCell:a(({column:d,index:f,record:_})=>[d.dataIndex==="estado"?(u(),r(I,{key:0},[_.estado==1?(u(),r("div",ma,[e(b,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(u(),r("div",fa,[e(b,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):c("",!0),d.dataIndex==="acciones"?(u(),J(x,{key:1,type:"primary",disabled:"",onClick:P=>o.abrirEditar(o.filiales[f]),size:"small"},{icon:a(()=>[e(p(F))]),_:2},1032,["onClick"])):c("",!0)]),_:1},8,["dataSource"])]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},Ca=fe(ga,[["__scopeId","data-v-e1a00376"]]);export{Ca as default};
