import{L as U}from"./LayoutExVocacional-f929373b.js";import{f as m,o as a,s as g,w as o,c as p,d as t,G as N,t as n,g as A,F as _,i as y,a as i,b as v}from"./app-3a079e0d.js";import"./logotiny-c4b525af.js";import"./logoDAD-c76d0a0b.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={key:0,class:"p-5",style:{padding:"30px 60px"}},O={class:"counter",style:{position:"fixed",top:"5px",right:"20px",background:"#00000052",height:"75px",padding:"0px 10px"}},V=t("div",{style:{"font-weight":"bold","font-size":"1.3rem","margin-bottom":"-10px",color:"white","margin-top":"0px"}},"Tiempo restante",-1),j={class:"flex",style:{"font-weight":"bold","font-size":"2.6rem","margin-top":"-15px"}},z={key:0,class:""},R={key:1},x={style:{margin:"auto","min-height":"calc(100vh - 160px)",display:"flex","justify-content":"center","align-items":"center"}},P=t("div",{style:{"margin-bottom":"7px"}},[t("label",null,"N° Documento")],-1),S=t("div",{style:{"margin-bottom":"7px"}},[t("label",null,"Codigo")],-1),L={style:{display:"flex","justify-content":"center","margin-top":"20px"}},B=t("div",{class:"flex justify-center mt-4 mb-3"},[t("span",{style:{color:"#3caaf3",opacity:"1"}},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])])],-1),D=t("div",{class:"flex justify-center mt-1 mb-1"},[t("span",{style:{"font-size":"2.3rem"}},"Buen Trabajo")],-1),T=t("div",{class:"flex justify-center",style:{"text-align":"center"}},[t("span",{style:{"font-size":"1.1rem"}},"FINALIZÓ CON EXITO SU EXAMEN VOCACIONAL")],-1),F={class:"flex justify-center mt-4 mb-3"},M={props:["id_postulante","actualiza","dni"],data(){return{visible:!1,preguntas:null,preguntasperfiles:null,respuestas:[],datos:[],ex:0,dni:"",codigo:"",tiempoRestante:20*60,minutos:null,segundos:"00",contadorIniciado:!1}},mounted(){setInterval(()=>{this.contadorIniciado===!0&&this.tiempoRestante>=0&&(this.minutos=Math.floor(this.tiempoRestante/60),this.segundos=this.tiempoRestante%60,this.tiempoRestante--)},1e3)},methods:{async getPreguntas(){const l=await axios.post("get-preguntas",{id_postulante:this.datos[0].id,id_programa:this.datos[0].id_vocacional});this.preguntas=l.data.datos},async getPreguntasPerfiles(){const l=await axios.post("get-preguntas-perfiles",{id_postulante:this.datos[0].id});this.preguntasperfiles=l.data.datos,this.contadorIniciado=!0},async getDatos(){const l=await axios.post("get-datos-examen2",{dni:this.dni,codigo:this.codigo});this.datos=l.data.datos,this.getPreguntas(),this.getPreguntasPerfiles(),this.ex=1},async saveVocacional(){let l=110;try{const e=await axios.post("save-vocacional",{id_postulante:this.datos[0].id,id_examen:this.datos[0].id_vocacional,respuestas:this.respuestas,actualizar:this.actualiza,proceso:4,name:"Examen vocacional completado",nro:7,dni:this.datos[0].nro_doc,avance:l});return this.respuestas=[],this.ex=0,this.visible=!0,this.dni="",this.codigo="",this.actualiza==="si"?1:0}catch{}},formatNumber(l){return l!=null?l.toString().padStart(2,"0"):""}}},H=Object.assign(M,{__name:"exvocacional",setup(l){return(e,r)=>{const h=m("a-radio"),f=m("a-radio-group"),b=m("a-button"),k=m("a-input"),w=m("a-form-item"),C=m("a-card"),I=m("a-modal");return a(),g(U,null,{default:o(()=>[e.ex==1?(a(),p("div",E,[t("div",O,[V,t("div",j,[t("h1",{style:{color:"white"},class:N({"contador-minutos":e.minutos>0})},"00:"+n(e.minutos.toString().padStart(2,"0"))+":",3),t("h1",{style:{color:"white"},class:N({"contador-segundos":e.segundos>0})},n(e.segundos.toString().padStart(2,"0")),3)])]),e.datos.length>0?(a(),p("div",z,[t("h1",null,"DNI: "+n(e.datos[0].nro_doc),1),t("h1",null,"Nombre: "+n(e.datos[0].nombres)+" "+n(e.datos[0].primer_apellido)+" "+n(e.datos[0].segundo_apellido),1),t("h1",null,"Programa: "+n(e.datos[0].nombre),1)])):A("",!0),(a(!0),p(_,null,y(e.preguntas,(s,d)=>(a(),p("div",{class:"mb-3",key:s.id},[t("h3",null,n(d+1)+". "+n(s.pregunta),1),(a(!0),p(_,null,y(s.respuestas,u=>(a(),p("div",{key:u.ide},[e.tiempoRestante>0?(a(),g(f,{key:0,value:e.respuestas[d],"onUpdate:value":c=>e.respuestas[d]=c},{default:o(()=>[i(h,{value:u},{default:o(()=>[v(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"])):(a(),g(f,{key:1,value:e.respuestas[d],"onUpdate:value":c=>e.respuestas[d]=c,disabled:""},{default:o(()=>[i(h,{value:u},{default:o(()=>[v(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"]))]))),128))]))),128)),(a(!0),p(_,null,y(e.preguntasperfiles,(s,d)=>(a(),p("div",{class:"mb-3",key:s.id},[t("h3",null,n(d+11)+". "+n(s.pregunta),1),(a(!0),p(_,null,y(s.respuestas,u=>(a(),p("div",{key:u.ide},[e.tiempoRestante>0?(a(),g(f,{key:0,value:e.respuestas[d+10],"onUpdate:value":c=>e.respuestas[d+10]=c},{default:o(()=>[i(h,{value:u},{default:o(()=>[v(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"])):(a(),g(f,{key:1,value:e.respuestas[d+10],"onUpdate:value":c=>e.respuestas[d+10]=c,disabled:""},{default:o(()=>[i(h,{value:u},{default:o(()=>[v(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"]))]))),128))]))),128)),t("div",null,[i(b,{type:"primary",onClick:r[0]||(r[0]=s=>e.saveVocacional())},{default:o(()=>[v(" FINALIZAR EXAMEN VOCACIONAL ")]),_:1})])])):(a(),p("div",R,[t("div",x,[i(C,{style:{"min-width":"320px"}},{default:o(()=>[P,i(w,null,{default:o(()=>[i(k,{value:e.dni,"onUpdate:value":r[1]||(r[1]=s=>e.dni=s),maxlength:12,placeholder:"N° Documento"},null,8,["value"])]),_:1}),S,i(w,null,{default:o(()=>[i(k,{value:e.codigo,"onUpdate:value":r[2]||(r[2]=s=>e.codigo=s),maxlength:12,placeholder:"codigo"},null,8,["value"])]),_:1}),t("div",L,[i(b,{type:"primary",onClick:r[3]||(r[3]=s=>e.getDatos())},{default:o(()=>[v("Iniciar Examen")]),_:1})])]),_:1})])])),i(I,{visible:e.visible,"onUpdate:visible":r[5]||(r[5]=s=>e.visible=s),onOk:e.handleOk,style:{width:"330px"},footer:!1},{default:o(()=>[B,D,T,t("div",F,[i(b,{type:"primary",onClick:r[4]||(r[4]=s=>e.visible=!1)},{default:o(()=>[v("ACEPTAR")]),_:1})])]),_:1},8,["visible","onOk"])]),_:1})}}});export{H as default};
