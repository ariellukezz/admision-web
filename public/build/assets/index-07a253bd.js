import{r as t,z as ee,e as d,f as r,o as c,c as y,a,u as v,w as s,F as V,l as g,Z as te,d as l,S as ae,s as C,b as u,t as F,g as h,E as oe,D as se}from"./app-5f946517.js";import{L as ne}from"./LayoutSimulacro-a38ddf95.js";import{F as le}from"./FormOutlined-5d50b862.js";import"./DropdownLink-9c476141.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-df2da62a.js";const ie={class:"mb-4",style:{width:"100%"}},de={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},re={class:"flex justify-end mt-5 mb-4 mr-4"},ce={class:"flex justify-between",style:{position:"relative"}},ue={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},pe={key:1},me={class:"flex justify-between mb-6 mt-2 pr-4"},ve={clas:"",style:{scale:"0.9"}},Ve={__name:"index",setup(ge){t([]);const _=t(""),x=t(1),k=t(null),p=t(10),j=t(!1),O=t(null),z=t(null),D=t([]),U=t(null);t(!1);const P=t(),E=t(),N=t(),T=t(),q=t(),L=t(),$=t(),Z=t();t();const i=ee({cod_modular:"",nombre:"",cod_local:"",nivel:"",gestion:null,ubigeo:"",direccion:"",observacion:""});t(null);const R=async()=>{g.post("/get-ubigeo",{term:z.value}).then(e=>{D.value=e.data.datos.data,console.log("Datos recibidos:",D)}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},S=t([]),f=async()=>{let e=await g.post("get-pagos-simulacro?page="+x.value,{term:_.value,paginashoja:p.value});S.value=e.data.datos.data,k.value=e.data.datos.total};f();const B=async()=>{let e=await g.post("/get-departamentos-codigo",{term:E.value});P.value=e.data.datos.data},A=async()=>{let e=await g.post("/get-provincias-codigo?page=",{departamento:N.value});T.value=e.data.datos},G=async e=>{let o=await g.post("/get-distritos-codigo?page=",{departamento:N.value,provincia:L.value});$.value=o.data.datos};d(x,(e,o)=>{f()}),d(p,(e,o)=>{f()}),d(_,(e,o)=>{f()}),d(z,(e,o)=>{e.length>=3&&R()}),d(E,(e,o)=>{e.length>=3&&B()}),d(q,(e,o)=>{e.length>=3&&A()}),d(Z,(e,o)=>{e.length>=3&&G()}),d(U,(e,o)=>{e.length>=3&&getColegios()}),B(),R();const H=e=>{j.value=!0,i.id=e.id,i.cod_modular=e.cod_modular,i.nombre=e.nombre,i.cod_local=e.cod_local,i.gestion=e.gestion,i.nivel=e.nivel,i.ubigeo=e.ubigeo,O.value=e.lugar,i.direccion=e.direccion,i.observacion=e.observacion},J=t([{title:"Nro_Doc",dataIndex:"nro_doc"},{title:"Nombres",dataIndex:"nombre",responsive:["xs","sm","md","lg"]},{title:"Correo",dataIndex:"email",responsive:["lg"]},{title:"Concepto",dataIndex:"concepto",responsive:["md"]},{title:"F. Confirmacion",dataIndex:"fec_confirmacion",responsive:["lg"]},{title:"autorizacion",dataIndex:"cod_autorizacion",responsive:["lg"]},{title:"Total",dataIndex:"total",width:"120px",align:"center",responsive:["md","lg"]},{title:"Comision",dataIndex:"comision",width:"120px",align:"center",responsive:["md","lg"]},{title:"Tipo",dataIndex:"type",width:"120px",align:"center",responsive:["md"]},{title:"Estado",dataIndex:"estado",width:"120px",align:"center",responsive:["xs","sm","md","lg"]}]);return(e,o)=>{const K=r("a-input"),w=r("a-tag"),I=r("a-button"),M=r("a-popconfirm"),Q=r("a-table"),W=r("a-pagination"),b=r("a-select-option"),X=r("a-select");return c(),y(V,null,[a(v(te),{title:"Pagos"}),a(ne,null,{default:s(()=>[l("div",ie,[l("div",de,[l("div",re,[l("div",ce,[a(K,{type:"text",placeholder:"Buscar",value:_.value,"onUpdate:value":o[0]||(o[0]=n=>_.value=n),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),l("div",ue,[a(v(ae))])])]),l("div",null,[a(Q,{dataSource:S.value,size:"",columns:J.value,pagination:!1},{bodyCell:s(({column:n,index:_e,record:m})=>[n.dataIndex==="nro_doc"?(c(),C(w,{key:0,color:"#4f4f4f",style:{width:"80px"}},{default:s(()=>[u(F(m.nro_doc),1)]),_:2},1024)):h("",!0),n.dataIndex==="nombre"?(c(),y("div",pe,[l("span",null,F(m.nombre),1)])):h("",!0),n.dataIndex==="acciones"?(c(),y(V,{key:2},[a(I,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:s(()=>[a(v(oe))]),_:1}),a(I,{class:"mr-1",onClick:Y=>H(m),style:{color:"blue"},size:"small",disabled:""},{icon:s(()=>[a(v(le))]),_:2},1032,["onClick"]),a(M,{title:"¿Estas seguro de eliminar?",onConfirm:Y=>e.eliminar(m),disabled:""},{default:s(()=>[a(I,{size:"small",style:{color:"crimson"},disabled:""},{icon:s(()=>[a(v(se),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):h("",!0),n.dataIndex==="estado"?(c(),y(V,{key:3},[m.estado===1?(c(),C(w,{key:0,color:"purple",style:{width:"80px"}},{default:s(()=>[u(" inscrito ")]),_:1})):(c(),C(w,{key:1,color:"red",style:{width:"80px"}},{default:s(()=>[u("No inscrito ")]),_:1}))],64)):h("",!0)]),_:1},8,["dataSource","columns"])]),l("div",me,[l("div",null,[a(W,{current:x.value,"onUpdate:current":o[1]||(o[1]=n=>x.value=n),"page-size":p.value,simple:"",total:k.value,"show-less-items":""},null,8,["current","page-size","total"])]),l("div",ve,[a(X,{value:p.value,"onUpdate:value":o[2]||(o[2]=n=>p.value=n),style:{width:"90px"}},{default:s(()=>[a(b,{value:10},{default:s(()=>[u("10 Reg.")]),_:1}),a(b,{value:20},{default:s(()=>[u("20 Reg.")]),_:1}),a(b,{value:50},{default:s(()=>[u("50 Reg.")]),_:1}),a(b,{value:100},{default:s(()=>[u("100 Reg.")]),_:1})]),_:1},8,["value"])])])])])]),_:1})],64)}}};export{Ve as default};
