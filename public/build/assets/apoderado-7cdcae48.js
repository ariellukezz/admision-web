import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import{k as c,w as t,g as i,o as u,a as o,d as n,c as h,b as g,f as w}from"./app-6f9118d3.js";const z={props:["id_postulante","tipex","actualiza"],data(){return{form:{id:null,tipo_apoderado:1,dni:null,nombres:null,paterno:null,materno:null,actualizar:this.actualiza,proceso:4}}},mounted(){this.getApoderado()},methods:{async getApoderado(){const e=await axios.post("get-apoderado",{id_postulante:this.id_postulante,tipo:this.tipex});e[0]||(this.form.id=e.data.datos[0].id,this.form.tipo_apoderado=e.data.datos[0].tipo_apoderado,this.form.dni=e.data.datos[0].nro_documento,this.form.nombres=e.data.datos[0].nombres,this.form.paterno=e.data.datos[0].paterno,this.form.materno=e.data.datos[0].materno)},async saveApoderado(){if(this.dni===null){this.$refs.myDni.focus(),console.log("VACIIO");return}let e=65;this.tipo_apoderado===3&&(e=80);try{const a=await axios.post("save-postulante-apoderado",{id:this.form.id,tipo_apoderado:this.form.tipo_apoderado,dni:this.form.dni,nombres:this.form.nombres,paterno:this.form.paterno,materno:this.form.materno,id_postulante:this.id_postulante,actualizar:this.actualiza,proceso:4,name:"Registro de datos del padre o tutor",nro:4,avance:e});return this.actualiza==="si"?1:0}catch{}},async saveApoderadoMadre(){try{const e=await axios.post("save-postulante-apoderado",{id:this.form.id,tipo_apoderado:this.tipex,dni:this.form.dni,nombres:this.form.nombres,paterno:this.form.paterno,materno:this.form.materno,id_postulante:this.id_postulante,actualizar:this.actualiza,proceso:4,name:"Registro de datos de la madre",nro:5,avance:80});return this.actualiza==="si"?1:0}catch{}}}},F={style:{"margin-bottom":"25px","margin-top":"10px"}},k={key:0,style:{"font-size":"1.1rem"}},I={key:1,style:{"font-size":"1.1rem"}},A=n("div",null,[n("label",null,"NÂ° Documento")],-1),D=n("div",null,[n("label",null,"Pre nombres:")],-1),N=n("div",null,[n("label",null,"Primer apellido:")],-1),U=n("div",null,[n("label",null,"Segundo Apellido:")],-1);function V(e,a,p,B,r,C){const f=i("a-radio"),v=i("a-radio-group"),l=i("a-input"),d=i("a-form-item"),m=i("a-col"),_=i("a-row"),x=i("a-form"),b=i("a-card");return u(),c(b,{style:{"padding-top":"-5px","padding-bottom":"0px"},class:"cardInicio"},{default:t(()=>[o(x,{ref:"form",model:r.form,name:"formapoderado",onFinish:e.onFinish,onFinishFailed:e.onFinishFailed},{default:t(()=>[n("div",null,[n("div",F,[p.tipex===1?(u(),h("h1",k," Datos del padre")):(u(),h("h1",I," Datos de la madre"))]),p.tipex===1?(u(),c(v,{key:0,value:r.form.tipo_apoderado,"onUpdate:value":a[0]||(a[0]=s=>r.form.tipo_apoderado=s),class:"flex justify-end",style:{display:"flex",width:"yellow"},name:"radioGroup"},{default:t(()=>[o(f,{value:1},{default:t(()=>[g("Padre")]),_:1}),o(f,{value:3},{default:t(()=>[g("Tutor")]),_:1})]),_:1},8,["value"])):w("",!0),o(_,{gutter:[16,0],class:"form-row"},{default:t(()=>[o(m,{span:24,md:16,lg:12,xl:12,xxl:6},{default:t(()=>[o(d,{name:"dni",rules:[{required:!0,message:"Ingresa el DNI",trigger:"change"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:t(()=>[A,o(l,{ref:"myDni",value:r.form.dni,"onUpdate:value":a[1]||(a[1]=s=>r.form.dni=s),maxlength:12,placeholder:""},null,8,["value"])]),_:1})]),_:1}),o(m,{span:24,md:16,lg:12,xl:12,xxl:6},{default:t(()=>[o(d,{name:"nombres",rules:[{required:!0,message:"Ingresa los nombres",trigger:"blur"}]},{default:t(()=>[D,o(l,{value:r.form.nombres,"onUpdate:value":a[2]||(a[2]=s=>r.form.nombres=s)},null,8,["value"])]),_:1})]),_:1}),o(m,{span:24,md:24,lg:24,xl:24,xxl:24},{default:t(()=>[o(d,{name:"paterno",rules:[{required:!0,message:"Ingresa el primer apellido",trigger:"blur"}]},{default:t(()=>[N,o(l,{value:r.form.paterno,"onUpdate:value":a[3]||(a[3]=s=>r.form.paterno=s)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o(_,{gutter:[16,0],class:"form-row"},{default:t(()=>[o(m,{span:24,md:24,lg:24,xl:24,xxl:24},{default:t(()=>[o(d,null,{default:t(()=>[U,o(l,{value:r.form.materno,"onUpdate:value":a[4]||(a[4]=s=>r.form.materno=s)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1})}const E=y(z,[["render",V]]);export{E as default};
