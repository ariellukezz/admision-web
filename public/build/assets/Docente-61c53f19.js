import{r as m,x as ue,e as T,f as i,o as r,c as N,a as e,u as E,w as a,F as G,l as U,Z as ie,d,b as o,S as ce,t as y,s as A,g as C,E as re,D as _e,n as pe}from"./app-405c1408.js";import{A as ve}from"./AuthenticatedLayout-a0671e54.js";import{S as fe}from"./SaveOutlined-670a99d8.js";import{F as me}from"./FormOutlined-f26b82ca.js";import"./DropdownLink-63b957ec.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";/* empty css                                                                            */import"./TeamOutlined-d791bc5f.js";const Ie={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Ae={class:"mr-3"},ge={class:"flex justify-between",style:{position:"relative"}},Ne={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Ee={style:{width:"100%","margin-top":"-5px"}},Ce={style:{"font-weight":"bold","font-size":"1.2rem"}},xe={class:"flex justify-end",style:{}},ye=d("label",null,"Estado",-1),be=d("label",null,"Sexo",-1),Oe=d("label",null,"Tipo Doc",-1),Re={key:0},Se=d("span",{style:{color:"red"}},"*",-1),De={key:1},Ue=d("label",null,"Codigo",-1),we=d("label",null,[o("Nombres "),d("span",{style:{color:"red"}},"*")],-1),ke=d("label",null,[o("Ap. Paterno "),d("span",{style:{color:"red"}},"*")],-1),he=d("label",null,"Ap. Materno",-1),Me=d("label",null,[o("Condición "),d("span",{style:{color:"red"}},"*")],-1),Te=d("label",null,[o("Escuela "),d("span",{style:{color:"red"}},"*")],-1),Ge=d("label",null,"Dirección",-1),Le=d("label",null,"Fec. Nacimiento",-1),ze=d("label",null,"Observaciones",-1),Fe={class:"flex justify-end"},Ve={style:{"font-size":"1rem","font-weight":"bold"}},je={key:1,style:{"font-size":"0.95rem"}},Be=d("span",{style:{color:"blue"}},"M",-1),Ye=d("span",{style:{color:"red"}},"F",-1),aa={__name:"Docente",setup(qe){const g=m(!1),L=m("1"),w=m([]),z=m(null),b=m(10),O=m(""),R=m(1),F=m(),t=ue({id:null,tipo_doc:1,nro_doc:"",codigo:"",nombres:"",paterno:"",materno:"",condicion:"",escuela:null,sexo:1,direccion:"",fec_nac:"",observacion:"",estado:!0}),V=u=>{t.nro_doc=u.target.value.replace(/\D/g,"")},q=async()=>{try{const u=await F.value.validateFields(),l=await U.post("save-docente",t);l.status===202?console.log(l.data.errors):(I(),k("success",l.data.titulo,l.data.mensaje),g.value=!1,S())}catch(u){console.error(u)}},I=async()=>{let u=await U.post("get-docentes?page="+R.value,{term:O.value,paginashoja:b.value});w.value=u.data.datos.data,z.value=u.data.datos.total},H=u=>{U.post("eliminar-docente",{id:u.id}).then(l=>{I(),k("warning",l.data.titulo,l.data.mensaje)})};m({id:null,codigo:"",id_posulante:"",id_programa:"",id_modalidad:"",estado:!0,observacion:""});const $=(u,l)=>{let p={id_postulante:u,sexo:l};U.post("actualizar-sexo-docente",p).then(v=>{I(),S(),k("success",v.data.titulo,v.data.mensaje)})},k=(u,l,p)=>{pe[u]({message:l,description:p})},K=()=>{S(),g.value=!0},P=()=>{g.value=!1,S()},j=u=>{t.id=u.id,t.tipo_doc=1,t.nro_doc=u.dni,t.codigo=u.codigo,t.nombres=u.nombres,t.paterno=u.paterno,t.materno=u.materno,t.condicion=u.condicion,t.escuela=u.escuela,t.sexo=parseInt(u.sexo),t.direccion=u.direccion,t.fec_nac=u.fec_nac,t.observacion=u.observacion,u.estado===1?t.estado=!0:t.estado=!1,g.value=!0},S=()=>{t.id=null,t.tipo_doc=1,t.nro_doc=null,t.codigo=null,t.nombres=null,t.paterno=null,t.materno=null,t.condicion=null,t.escuela=null,t.sexo=1,t.direccion=null,t.fec_nac=null,t.observacion=null,t.estado=!0};T(R,(u,l)=>{I()}),T(O,(u,l)=>{I()}),T(b,(u,l)=>{I()});const Q=[{title:"DNI",dataIndex:"dni",align:"center",width:"90px"},{title:"Codigo",dataIndex:"codigo"},{title:"Docente",dataIndex:"postulante"},{title:"Sexo",dataIndex:"sexo",align:"center"},{title:"Escuela",dataIndex:"escuela_name"},{title:"Condición",dataIndex:"tipo_empleo",align:"center"},{title:"Estado",dataIndex:"estado",align:"center"},{title:"Acciones",dataIndex:"acciones",width:"160px",align:"center"}];return I(),(u,l)=>{const p=i("a-button"),v=i("a-input"),Z=i("row"),J=i("a-switch"),B=i("a-divider"),Y=i("a-radio"),X=i("a-radio-group"),n=i("a-select-option"),D=i("a-select"),f=i("a-form-item"),c=i("a-col"),W=i("a-date-picker"),ee=i("a-textarea"),h=i("a-row"),ae=i("a-form"),te=i("a-tab-pane"),le=i("a-tabs"),oe=i("a-modal"),M=i("a-tag"),ne=i("a-popconfirm"),se=i("a-table"),de=i("a-pagination");return r(),N(G,null,[e(E(ie),{title:"Docentes"}),e(ve,null,{default:a(()=>[d("div",Ie,[e(Z,{class:"flex justify-between mb-4"},{default:a(()=>[d("div",Ae,[e(p,{style:{background:"#476175",color:"white"},onClick:K},{default:a(()=>[o("Nuevo")]),_:1})]),d("div",ge,[e(v,{type:"text",placeholder:"Buscar",value:O.value,"onUpdate:value":l[0]||(l[0]=s=>O.value=s),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),d("div",Ne,[e(E(ce))])])]),_:1}),e(oe,{visible:g.value,"onUpdate:visible":l[17]||(l[17]=s=>g.value=s),style:{"margin-top":"-40px",width:"100%",display:"flex","justify-content":"center"},footer:!1},{default:a(()=>[d("div",Ee,[d("h1",Ce,y(t.id===null?"Nuevo docente":"Editar docente"),1)]),e(le,{activeKey:L.value,"onUpdate:activeKey":l[16]||(l[16]=s=>L.value=s),type:"card",size:"small"},{default:a(()=>[e(te,{key:"1",tab:"Datos del Docente"},{default:a(()=>[e(h,{style:{"max-width":"1000px",display:"flex","justify-content":"center"}},{default:a(()=>[e(c,{span:24},{default:a(()=>[e(ae,{ref_key:"formDatos",ref:F,name:"form",model:t,rules:u.formRules},{default:a(()=>[e(h,{gutter:16},{default:a(()=>[e(c,{xs:24,sm:12,md:24,lg:24},{default:a(()=>[d("div",xe,[d("div",null,[ye,d("div",null,[e(J,{checked:t.estado,"onUpdate:checked":l[1]||(l[1]=s=>t.estado=s)},null,8,["checked"])])]),e(B,{type:"vertical",style:{height:"60px"}}),d("div",null,[be,d("div",null,[e(X,{value:t.sexo,"onUpdate:value":l[2]||(l[2]=s=>t.sexo=s),name:"radioGroup"},{default:a(()=>[e(Y,{value:1},{default:a(()=>[o("M")]),_:1}),e(Y,{value:2},{default:a(()=>[o("F")]),_:1})]),_:1},8,["value"])])]),e(B,{type:"vertical",style:{height:"60px"}}),d("div",null,[Oe,e(f,{name:"tipo_doc",rules:[{required:!0,message:"Escoja el tipo",trigger:"change"}]},{default:a(()=>[d("div",null,[e(D,{value:t.tipo_doc,"onUpdate:value":l[3]||(l[3]=s=>t.tipo_doc=s),style:{width:"120px"}},{default:a(()=>[e(n,{value:1},{default:a(()=>[o("DNI")]),_:1}),e(n,{value:2},{default:a(()=>[o("Carnet. Ext")]),_:1})]),_:1},8,["value"])])]),_:1})])])]),_:1}),e(c,{xs:24,sm:12,md:8,lg:8},{default:a(()=>[t.tipo_doc===1?(r(),N("label",Re,[o("DNI "),Se])):(r(),N("label",De,"N° CARNET EXT.")),e(f,{name:"nro_doc",rules:[{required:!0,message:"Ingrese el N° de documento"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:a(()=>[t.tipo_doc===1?(r(),A(v,{key:0,value:t.nro_doc,"onUpdate:value":l[4]||(l[4]=s=>t.nro_doc=s),onInput:V,maxlength:8},null,8,["value"])):(r(),A(v,{key:1,value:t.nro_doc,"onUpdate:value":l[5]||(l[5]=s=>t.nro_doc=s),onInput:V,maxlength:12},null,8,["value"]))]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:8,lg:8},{default:a(()=>[Ue,e(f,null,{default:a(()=>[e(v,{value:t.codigo,"onUpdate:value":l[6]||(l[6]=s=>t.codigo=s)},null,8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:8,lg:8},{default:a(()=>[we,e(f,{name:"nombres",rules:[{required:!0,message:"Ingrese los nombres"}]},{default:a(()=>[e(v,{value:t.nombres,"onUpdate:value":l[7]||(l[7]=s=>t.nombres=s)},null,8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:8,lg:8},{default:a(()=>[ke,e(f,{name:"paterno",rules:[{required:!0,message:"Ingrese el primer apellido"}]},{default:a(()=>[e(v,{value:t.paterno,"onUpdate:value":l[8]||(l[8]=s=>t.paterno=s)},null,8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:8,lg:8},{default:a(()=>[he,e(f,null,{default:a(()=>[e(v,{value:t.materno,"onUpdate:value":l[9]||(l[9]=s=>t.materno=s)},null,8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:8,lg:8},{default:a(()=>[Me,e(f,{name:"condicion",rules:[{required:!0,message:"Ingrese la condición del docente"}]},{default:a(()=>[e(D,{value:t.condicion,"onUpdate:value":l[10]||(l[10]=s=>t.condicion=s),style:{width:"100%"}},{default:a(()=>[e(n,{value:1},{default:a(()=>[o("NOMBRADO")]),_:1}),e(n,{value:2},{default:a(()=>[o("CONTRATADO")]),_:1}),e(n,{value:3},{default:a(()=>[o("CAS")]),_:1}),e(n,{value:4},{default:a(()=>[o("LOCACIÓN")]),_:1}),e(n,{value:5},{default:a(()=>[o("R. H.")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[Te,e(f,{name:"escuela",rules:[{required:!0,message:"Seleccione la escuela"}]},{default:a(()=>[e(D,{value:t.escuela,"onUpdate:value":l[11]||(l[11]=s=>t.escuela=s),placeholder:"Seleccionar escuela"},{default:a(()=>[e(n,{value:1},{default:a(()=>[o("INGENIERIA AGRONOMICA")]),_:1}),e(n,{value:2},{default:a(()=>[o("INGENIERIA AGROINDUSTRIAL")]),_:1}),e(n,{value:3},{default:a(()=>[o("INGENIERIA TOPOGRAFICA Y AGRIMENSURA")]),_:1}),e(n,{value:4},{default:a(()=>[o("MEDICINA VETERINARIA Y ZOOTECNIA")]),_:1}),e(n,{value:5},{default:a(()=>[o("INGENIERIA ECONOMICA")]),_:1}),e(n,{value:6},{default:a(()=>[o("CIENCIAS CONTABLES")]),_:1}),e(n,{value:7},{default:a(()=>[o("ADMINISTRACION")]),_:1}),e(n,{value:8},{default:a(()=>[o("TRABAJO SOCIAL")]),_:1}),e(n,{value:9},{default:a(()=>[o("ENFERMERIA")]),_:1}),e(n,{value:10},{default:a(()=>[o("INGENIERIA DE MINAS")]),_:1}),e(n,{value:11},{default:a(()=>[o("HUMANIDADES")]),_:1}),e(n,{value:12},{default:a(()=>[o("SOCIOLOGIA")]),_:1}),e(n,{value:13},{default:a(()=>[o("TURISMO")]),_:1}),e(n,{value:14},{default:a(()=>[o("ANTROPOLOGIA")]),_:1}),e(n,{value:15},{default:a(()=>[o("CIENCIAS DE LA COMUNICACION SOCIAL")]),_:1}),e(n,{value:16},{default:a(()=>[o("ARTE")]),_:1}),e(n,{value:17},{default:a(()=>[o("BIOLOGIA")]),_:1}),e(n,{value:18},{default:a(()=>[o("EDUCACION SECUNDARIA")]),_:1}),e(n,{value:19},{default:a(()=>[o("EDUCACION PRIMARIA")]),_:1}),e(n,{value:20},{default:a(()=>[o("EDUCACION INICIAL")]),_:1}),e(n,{value:21},{default:a(()=>[o("EDUCACION FISICA")]),_:1}),e(n,{value:22},{default:a(()=>[o("INGENIERIA ESTADISTICA E INFORMATICA")]),_:1}),e(n,{value:23},{default:a(()=>[o("DERECHO")]),_:1}),e(n,{value:24},{default:a(()=>[o("INGENIERIA QUIMICA")]),_:1}),e(n,{value:25},{default:a(()=>[o("ODONTOLOGIA")]),_:1}),e(n,{value:26},{default:a(()=>[o("NUTRICION HUMANA")]),_:1}),e(n,{value:27},{default:a(()=>[o("INGENIERIA GEOLOGICA")]),_:1}),e(n,{value:28},{default:a(()=>[o("INGENIERIA METALURGICA")]),_:1}),e(n,{value:29},{default:a(()=>[o("INGENIERIA CIVIL")]),_:1}),e(n,{value:30},{default:a(()=>[o("ARQUITECTURA Y URBANISMO")]),_:1}),e(n,{value:31},{default:a(()=>[o("CIENCIAS FISICO MATEMATICAS")]),_:1}),e(n,{value:32},{default:a(()=>[o("INGENIERIA AGRICOLA")]),_:1}),e(n,{value:33},{default:a(()=>[o("MEDICINA HUMANA")]),_:1}),e(n,{value:34},{default:a(()=>[o("INGENIERIA MECANICA ELECTRICA")]),_:1}),e(n,{value:35},{default:a(()=>[o("INGENIERIA ELECTRONICA")]),_:1}),e(n,{value:36},{default:a(()=>[o("INGENIERIA DE SISTEMAS")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:16,lg:18},{default:a(()=>[Ge,e(f,null,{default:a(()=>[e(v,{value:t.direccion,"onUpdate:value":l[12]||(l[12]=s=>t.direccion=s)},null,8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Le,e(f,null,{default:a(()=>[e(W,{style:{width:"100%"},placeholder:"Seleccionar fec. nacimiento",value:t.fec_nac,"onUpdate:value":l[13]||(l[13]=s=>t.fec_nac=s),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(c,{xs:24,sm:12,md:24,lg:24},{default:a(()=>[ze,e(f,null,{default:a(()=>[e(ee,{value:t.observacion,"onUpdate:value":l[14]||(l[14]=s=>t.observacion=s)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(h,null,{default:a(()=>[e(c,{span:24},{default:a(()=>[d("div",Fe,[e(p,{class:"mr-4",onClick:l[15]||(l[15]=s=>P())},{default:a(()=>[o(" Cancelar ")]),_:1}),e(p,{type:"primary",onClick:q},{default:a(()=>[o("Guardar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["visible"]),e(se,{columns:Q,"data-source":w.value,pagination:!1,size:"small"},{bodyCell:a(({column:s,index:He,record:_})=>[s.dataIndex==="dni"?(r(),A(M,{key:0,color:"#476175",style:{"padding-top":"3px"}},{default:a(()=>[d("span",Ve,y(_.dni),1)]),_:2},1024)):C("",!0),s.dataIndex==="postulante"?(r(),N("span",je,y(_.paterno)+" "+y(_.materno)+", "+y(_.nombres),1)):C("",!0),s.dataIndex==="sexo"?(r(),A(D,{key:2,ref:"select",value:_.sexo,"onUpdate:value":x=>_.sexo=x,placeholder:"Seleccionar",style:{width:"60px"}},{default:a(()=>[e(n,{value:"1"},{default:a(()=>[Be]),_:1}),e(n,{value:"2"},{default:a(()=>[Ye]),_:1})]),_:2},1032,["value","onUpdate:value"])):C("",!0),s.dataIndex==="estado"?(r(),N(G,{key:3},[_.estado===1?(r(),A(M,{key:0,color:"cyan"},{default:a(()=>[o("Habilitado")]),_:1})):(r(),A(M,{key:1,color:"purple"},{default:a(()=>[o("Desabilitado")]),_:1}))],64)):C("",!0),s.dataIndex==="acciones"?(r(),N(G,{key:4},[e(p,{class:"mr-1",onClick:x=>j(_),style:{color:"#006d89"},size:"small"},{icon:a(()=>[e(E(re))]),_:2},1032,["onClick"]),e(p,{type:"success",class:"mr-1",style:{color:"#409866"},onClick:x=>$(_.id,_.sexo),size:"small"},{icon:a(()=>[e(E(fe))]),_:2},1032,["onClick"]),e(p,{class:"mr-1",onClick:x=>j(_),style:{color:"blue"},size:"small"},{icon:a(()=>[e(E(me))]),_:2},1032,["onClick"]),w.value.length?(r(),A(ne,{key:0,title:"¿Seguro de eliminar?","ok-text":"Si","cancel-text":"No",onConfirm:x=>H(_)},{default:a(()=>[e(p,{shape:"",size:"small",style:{color:"crimson"}},{icon:a(()=>[e(E(_e))]),_:1})]),_:2},1032,["onConfirm"])):C("",!0)],64)):C("",!0)]),_:1},8,["data-source"]),e(de,{current:R.value,"onUpdate:current":l[18]||(l[18]=s=>R.value=s),total:z.value,pageSize:b.value,"onUpdate:pageSize":l[19]||(l[19]=s=>b.value=s),"show-less-items":""},null,8,["current","total","pageSize"])])]),_:1})],64)}}};export{aa as default};
