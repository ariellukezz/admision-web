import{r as m,C as h,a2 as ee,e as N,D as k,o as c,c as q,a as l,u as g,w as o,F as E,y as F,Z as le,d as i,E as B,f as U,b as p,t as V,a3 as oe,n as ae,I as te,B as ne,K as ie,h as se,i as de,S as re,j as ue,k as pe,l as me,W as _e,m as fe,q as ve,P as ge,M as be}from"./app-d94ab509.js";import{_ as ce}from"./AuthenticatedLayout-c745db55.js";import{f as xe}from"./index-6ecaf3d6.js";import{S}from"./SearchOutlined-f387212c.js";import{E as ye}from"./EyeOutlined-acf66a04.js";import{F as we}from"./FormOutlined-83040a87.js";import{D as Ce}from"./DeleteOutlined-7dacb522.js";import"./logotiny-c4b525af.js";import"./Header-05192c94.js";import"./AntdIcon-c56eb973.js";import"./perfil-2cd2fa85.js";/* empty css                                                               */import"./_plugin-vue_export-helper-c27b6911.js";import"./UserOutlined-deee76e7.js";import"./SafetyCertificateOutlined-17e2c446.js";import"./EditOutlined-7757bf87.js";import"./DownOutlined-e7a41506.js";/* empty css                                                            */const ke={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Ue={class:"flex justify-between",style:{position:"relative"}},Pe={key:2,style:{display:"flex",gap:"2px"}},Ie={class:"flex justify-end"},We={__name:"index",setup(De){m("");const j=n=>{_.value=!0,a.id=n.id,a.nro_doc=n.nro_doc,a.tipo_doc=n.tipo_doc,a.primer_apellido=n.primer_apellido,a.segundo_apellido=n.segundo_apellido,a.apellido_casada=n.apellido_casada,a.nombres=n.nombres,a.sexo=n.sexo,a.fec_nacimiento=oe(n.fec_nacimiento),a.ubigeo_nacimiento=n.ubigeo_nacimiento,a.ubigeo_residencia=n.ubigeo_residencia,a.celular=n.celular,a.email=n.email,a.estado_civil=n.estado_civil,a.direccion=n.direccion,a.anio_egreso=n.anio_egreso,a.observaciones=n.observaciones,a.id_colegio=n.id_colegio},a=h({nro_doc:"",tipo_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),O=async()=>{let n=await F.post("save-postulante-admin",{id:a.id,tipo_doc:a.tipo_doc,nro_doc:a.nro_doc,primer_apellido:a.primer_apellido,segundo_apellido:a.segundo_apellido,apellido_casada:a.apellido_casada,nombres:a.nombres,sexo:a.sexo,fec_nacimiento:xe(new Date(a.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:a.ubigeo_nacimiento,ubigeo_residencia:a.ubigeo_residencia,celular:a.celular,correo:a.email,estado_civil:a.estado_civil,direccion:a.direccion,egreso:a.anio_egreso,observaciones:a.observaciones,colegio:a.id_colegio});_.value=!1,n.data.estado===!0&&A(n.data.tipo,n.data.titulo,n.data.mensaje),C()};ee(()=>{});const x=m(""),y=m([]);m([]);const _=m(!1),w=m(1),M=m(null),$=m({id:null,codigo:"",nombre:""});N(x,(n,e)=>{C()}),N(_,(n,e)=>{_.value==!1&&$.value.id!=null&&(a.value=null)});const C=async()=>{let n=await F.post("get-postulantes-admin?page="+w.value,{term:x.value});y.value=n.data.datos.data,M.value=n.data.datos.total},z=[{title:"Ver",dataIndex:"ver_postulante"},{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],A=(n,e,r)=>{ae[n]({message:e,description:r})};N(w,(n,e)=>{C()});const Y=async n=>{try{window.location.href="postulante-perfil/"+n}catch(e){console.error(e)}};return C(),(n,e)=>{const r=te,R=k("row"),b=ne,T=k("link-outlined"),G=ie,K=se,W=de,f=re,P=ue,d=pe,s=me,u=k("search-"),Z=k("search"),H=_e,I=fe,J=ve,L=ge,Q=be;return c(),q(E,null,[l(g(le),{title:"Postulantes"}),l(ce,null,{default:o(()=>[i("div",ke,[l(R,{class:"flex justify-between mb-4"},{default:o(()=>[e[21]||(e[21]=i("div",{class:"mr-0 pt-2"},[i("span",{style:{"font-size":"1.2rem","font-weight":"bold"}},"Postulantes")],-1)),i("div",Ue,[l(r,{type:"text",placeholder:"Buscar",value:x.value,"onUpdate:value":e[0]||(e[0]=t=>x.value=t),style:{"max-width":"300px"}},{prefix:o(()=>[l(g(S))]),_:1},8,["value"])])]),_:1}),l(K,{columns:z,"data-source":y.value,pagination:!1,size:"small"},{bodyCell:o(({column:t,index:X,record:v})=>[t.dataIndex==="ver_postulante"?(c(),B(b,{key:0,onClick:D=>Y(v.nro_doc),size:"small",style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#000080a0",display:"flex","align-items":"center"}},{default:o(()=>[l(g(ye))]),_:2},1032,["onClick"])):U("",!0),t.dataIndex==="nombres"?(c(),q(E,{key:1},[p(V(v.nombres)+" "+V(v.primer_apellido)+" "+V(v.segundo_apellido),1)],64)):U("",!0),t.dataIndex==="acciones"?(c(),q("div",Pe,[l(b,{onClick:D=>j(v),size:"small",style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#1890ff",display:"flex","align-items":"center"}},{default:o(()=>[l(g(we))]),_:2},1032,["onClick"]),l(T),y.value.length?(c(),B(G,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:D=>n.eliminar(y.value[X])},{default:o(()=>[l(b,{onClick:D=>n.eliminar(v),size:"small",style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#ff4d4f",display:"flex","align-items":"center"}},{default:o(()=>[l(g(Ce))]),_:2},1032,["onClick"])]),_:2},1032,["onConfirm"])):U("",!0)])):U("",!0)]),_:1},8,["data-source"]),l(W,{current:w.value,"onUpdate:current":e[1]||(e[1]=t=>w.value=t),total:M.value,"show-less-items":""},null,8,["current","total"])]),i("div",null,[l(Q,{visible:_.value,"onUpdate:visible":e[20]||(e[20]=t=>_.value=t),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:o(()=>[l(I,null,{default:o(()=>[l(s,{span:24},{default:o(()=>[l(L,{bordered:!1},{default:o(()=>[l(J,{model:a,rules:n.formRules},{default:o(()=>[l(I,{gutter:16},{default:o(()=>[l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[24]||(e[24]=i("label",null,"Tipo Doc",-1)),l(d,null,{default:o(()=>[l(P,{value:a.tipo_doc,"onUpdate:value":e[2]||(e[2]=t=>a.tipo_doc=t)},{default:o(()=>[l(f,{value:1},{default:o(()=>e[22]||(e[22]=[p("DNI")])),_:1}),l(f,{value:3},{default:o(()=>e[23]||(e[23]=[p("Carné Ext.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[25]||(e[25]=i("label",null,"DNI",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:o(()=>[l(r,{value:a.nro_doc,"onUpdate:value":e[3]||(e[3]=t=>a.nro_doc=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[26]||(e[26]=i("label",null,"Ap. Paterno",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:o(()=>[l(r,{value:a.primer_apellido,"onUpdate:value":e[4]||(e[4]=t=>a.primer_apellido=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[27]||(e[27]=i("label",null,"Ap. Materno",-1)),l(d,null,{default:o(()=>[l(r,{value:a.segundo_apellido,"onUpdate:value":e[5]||(e[5]=t=>a.segundo_apellido=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[28]||(e[28]=i("label",null,"Ap. Casada",-1)),l(d,null,{default:o(()=>[l(r,{value:a.apellido_casada,"onUpdate:value":e[6]||(e[6]=t=>a.apellido_casada=t)},{prefix:o(()=>[l(Z)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[29]||(e[29]=i("label",null,"Nombres",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:o(()=>[l(r,{value:a.nombres,"onUpdate:value":e[7]||(e[7]=t=>a.nombres=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[32]||(e[32]=i("label",null,"Sexo",-1)),l(d,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:o(()=>[l(P,{value:a.sexo,"onUpdate:value":e[8]||(e[8]=t=>a.sexo=t)},{default:o(()=>[l(f,{value:"1"},{default:o(()=>e[30]||(e[30]=[p("Masculino")])),_:1}),l(f,{value:"2"},{default:o(()=>e[31]||(e[31]=[p("Femenino")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[33]||(e[33]=i("label",null,"Fec. Nacimiento",-1)),l(d,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:o(()=>[l(H,{style:{width:"100%"},value:a.fec_nacimiento,"onUpdate:value":e[9]||(e[9]=t=>a.fec_nacimiento=t),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[34]||(e[34]=i("label",null,"Ubigeo Nacimiento",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:o(()=>[l(r,{value:a.ubigeo_nacimiento,"onUpdate:value":e[10]||(e[10]=t=>a.ubigeo_nacimiento=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[35]||(e[35]=i("label",null,"Ubigeo residencia",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:o(()=>[l(r,{value:a.ubigeo_residencia,"onUpdate:value":e[11]||(e[11]=t=>a.ubigeo_residencia=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[36]||(e[36]=i("label",null,"Celular",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:o(()=>[l(r,{value:a.celular,"onUpdate:value":e[12]||(e[12]=t=>a.celular=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[37]||(e[37]=i("label",null,"Correo",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:o(()=>[l(r,{value:a.email,"onUpdate:value":e[13]||(e[13]=t=>a.email=t)},{prefix:o(()=>[l(g(S))]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[40]||(e[40]=i("label",null,"Estado Civil",-1)),l(d,null,{default:o(()=>[l(P,{value:a.estado_civil,"onUpdate:value":e[14]||(e[14]=t=>a.estado_civil=t)},{default:o(()=>[l(f,{value:"1"},{default:o(()=>e[38]||(e[38]=[p("Soltero")])),_:1}),l(f,{value:"2"},{default:o(()=>e[39]||(e[39]=[p("Casado")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[41]||(e[41]=i("label",null,"Dirección",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:o(()=>[l(r,{value:a.direccion,"onUpdate:value":e[15]||(e[15]=t=>a.direccion=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[l(d,null,{default:o(()=>[e[42]||(e[42]=i("label",null,"Año egreso",-1)),l(r,{value:a.anio_egreso,"onUpdate:value":e[16]||(e[16]=t=>a.anio_egreso=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[43]||(e[43]=i("label",null,"Observaciones",-1)),l(d,null,{default:o(()=>[l(r,{value:a.observaciones,"onUpdate:value":e[17]||(e[17]=t=>a.observaciones=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[44]||(e[44]=i("label",null,"Colegio",-1)),l(d,null,{default:o(()=>[l(r,{value:a.id_colegio,"onUpdate:value":e[18]||(e[18]=t=>a.id_colegio=t)},{prefix:o(()=>[l(u)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),l(I,null,{default:o(()=>[l(s,null,{default:o(()=>[i("div",Ie,[l(b,{onClick:e[19]||(e[19]=t=>_.value=!1)},{default:o(()=>e[45]||(e[45]=[p(" Cancelar ")])),_:1}),l(b,{type:"primary",onClick:O},{default:o(()=>e[46]||(e[46]=[p("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{We as default};
