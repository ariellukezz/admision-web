import{r,C as $,D as E,o as y,c as C,a as t,u,w as a,d as w,F as b,y as c,M as O,Z as P,b as m,f as T,B as U,g as A,h as G,I as Z,k as j}from"./app-56d1ec9a.js";import{_ as q}from"./AuthenticatedLayout-b9cf48de.js";import{F as H}from"./FormOutlined-b85edcbd.js";import{D as J}from"./DeleteOutlined-3fe55474.js";import"./logotiny-c4b525af.js";import"./Header-191c6f9e.js";import"./AntdIcon-4479f8c1.js";import"./DownOutlined-55181780.js";/* empty css                                                            */const L={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-5"},le={__name:"index",setup(Q){const i=r(""),d=r([]),p=r([]),n=r(!1),x=()=>{k(),n.value=!0},k=async()=>{let o=await c.get("get-permission");p.value=o.data.permisos},_=async()=>{let o=await c.get("get-roles");d.value=o.data.datos.data},R=o=>{n.value=!0,i.value=o.name},I=()=>{let o={name:i.value,permisos:f.value.selectedRowKeys};c.post("save-rol",o).then(e=>{console.log(e),_(),n.value=!1})},z=[{title:"Rol",dataIndex:"name",sorter:!0},{title:"Tipo permisos",dataIndex:"guard_name"},{title:"Acciones",dataIndex:"acciones"}],N=[{title:"Nombre",dataIndex:"name",sorter:!0},{title:"Permisos",dataIndex:"guard_name"}],v=r([]),B=o=>{console.log("selectedRowKeys changed: ",o),v.value=o},f=$(()=>({selectedRowKeys:u(v),onChange:B,hideDefaultSelections:!0}));return _(),(o,e)=>{const l=U,F=A,g=G,S=E("a-label"),D=Z,V=j,K=O;return y(),C(b,null,[t(u(P),{title:"Roles"}),t(q,null,{default:a(()=>[w("div",L,[t(l,{class:"mb-3",type:"primary",onClick:x},{default:a(()=>e[3]||(e[3]=[m("Nuevo")])),_:1}),t(g,{columns:z,"data-source":d.value,pagination:{pageSize:5},size:"small"},{bodyCell:a(({column:s,index:M})=>[s.dataIndex==="acciones"?(y(),C(b,{key:0},[t(l,{type:"primary",onClick:W=>R(d.value[M]),size:"small"},{icon:a(()=>[t(u(H))]),_:2},1032,["onClick"]),t(F,{type:"vertical"}),t(l,{type:"danger",shape:"",size:"small"},{icon:a(()=>[t(u(J))]),_:1})],64)):T("",!0)]),_:1},8,["data-source"])])]),_:1}),w("div",null,[t(K,{visible:n.value,"onUpdate:visible":e[2]||(e[2]=s=>n.value=s),title:"Crear Roles"},{footer:a(()=>[t(l,{style:{"margin-left":"10px"},onClick:o.resetForm},{default:a(()=>e[5]||(e[5]=[m("Cancelar")])),_:1},8,["onClick"]),t(l,{type:"primary",onClick:e[1]||(e[1]=s=>I())},{default:a(()=>e[6]||(e[6]=[m("Guardar")])),_:1})]),default:a(()=>[t(V,{name:"email"},{default:a(()=>[t(S,null,{default:a(()=>e[4]||(e[4]=[m("Rol")])),_:1}),t(D,{value:i.value,"onUpdate:value":e[0]||(e[0]=s=>i.value=s),type:"text",autocomplete:"off"},null,8,["value"])]),_:1}),t(g,{"row-selection":f.value,columns:N,"data-source":p.value,pagination:{pageSize:10},size:"small"},null,8,["row-selection","data-source"])]),_:1},8,["visible"])])],64)}}};export{le as default};
