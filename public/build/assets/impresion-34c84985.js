import{r as m,e as F,c,a as e,u as x,w as a,F as C,o as u,X as ue,d as s,t as M,b as t,f as r,D as ce,E as W,G as Q,x as re,g as p,p as pe,h as _e}from"./app-488eddcc.js";import{A as ve}from"./AuthenticatedLayout-12310ad3.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{F as X}from"./FormOutlined-4a913507.js";import"./DropdownLink-68c6602b.js";import"./logotiny-c4b525af.js";const fe=f=>(pe("data-v-d5110819"),f=f(),_e(),f),ge={style:{padding:"0px 15px"}},ye={class:"flex justify-end"},he=fe(()=>s("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),be={style:{height:"34px"}},ke={style:{"font-weight":"700",color:"black","font-size":".7rem"}},xe={style:{"margin-top":"-10px"}},Ie={style:{"font-size":".8rem","text-transform":"uppercase"}},Ce={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},we={class:"container-principal"},Se={class:"container-postulante"},Pe={class:"mr-3 container-imagen"},Ee=["src"],Ue=["src"],Me={class:"datos-postulante"},Ae={class:"mb-2"},Be={class:"mb-2"},De={class:"mb-2"},Ve={class:"flex"},Fe={class:"mr-3"},ze={style:{width:"100%"}},Ne={class:"container-postulante mb-2"},je={style:{width:"100%"}},Te={class:"container-postulante mb-2"},Ke={style:{width:"100%"}},Oe={class:"container-postulante"},$e={style:{width:"100%"}},qe={class:"mb-2"},He={class:"mt-4 container-huellas"},Le={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},Ge=["src"],We=["src"],Qe={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Xe=["src"],Je=["src"],Re={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},Ye={key:0},Ze={key:1},ea={key:0},aa={key:1},ta={class:"flex",style:{"align-items":"center"}},oa={key:0,style:{color:"red","margin-top":"-8px"}},la={key:0},ia={key:1},sa={key:1},da={class:"flex",style:{"align-items":"center"}},na={key:0,style:{color:"red","margin-top":"-8px"}},ua={key:0,type:"primary",ghost:""},ca={key:1,type:"danger",ghost:""},ra=["href"],pa={key:0,type:"primary",ghost:""},_a={key:1,type:"danger",ghost:""},va={__name:"impresion",props:{baseUrl:String},setup(f){const z=m(!1),S=m(""),b=m("1"),_=m(null),N=m(null),A=m(null),j=m([]),i=m({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),T=m([]),B=m([]),D=m([]),J=()=>{console.log("onSelect",_)},R=l=>{console.log("handleKeyPress",l)},K=async(l="",d=1)=>{let g=await axios.post("/admin/inscripciones/get-postulantes?page="+d,{term:S.value});j.value=g.data.datos.data},Y=async()=>{let l=await axios.get("/admin/inscripciones/get-postulante-dni/"+_.value);i.value.id=l.data.datos.id_postulante,i.value.nombres=l.data.datos.nombres,i.value.primer_apellido=l.data.datos.primer_apellido,i.value.segundo_apellido=l.data.datos.segundo_apellido,i.value.sexo=l.data.datos.sexo,i.value.colegio=l.data.datos.colegio,i.value.procedencia=l.data.datos.departamento+" / "+l.data.datos.provincia+" / "+l.data.datos.distrito,i.value.proceso=l.data.datos.proceso,i.value.modalidad=l.data.datos.modalidad,i.value.programa=l.data.datos.programa,i.value.id_programa=l.data.datos.id_programa,i.value.id_proceso=l.data.datos.id_proceso,i.value.id_modalidad=l.data.datos.id_modalidad,i.value.dni_temp=l.data.datos.dni,z.value=ie(l.data.datos.id_postulante,i.value.id_proceso)},Z=async()=>{let l=await axios.get("/admin/inscripciones/get-apoderados-postulante/"+_.value);T.value=l.data.datos},O=async()=>{let l=await axios.get("/admin/inscripciones/get-vouchers-postulante/"+_.value);B.value=l.data.datos},$=async()=>{let l=await axios.get("/admin/inscripciones/get-documentos-postulante/"+_.value);D.value=l.data.datos},ee=async()=>{let l=await axios.get("/admin/inscripciones/get-preinscripciones-postulante/"+_.value);N.value=l.data.datos},q=async()=>{let l=await axios.get("/admin/inscripciones/get-inscripciones-postulante/"+_.value);A.value=l.data.datos},H=async()=>{await axios.post("/admin/inscripciones/inscribir",{postulante:i.value}),ae(_.value),_.value="",S.value="",i.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};F(S,(l,d)=>{K()}),F(_,(l,d)=>{q(),Y(),O(),$()}),F(b,(l,d)=>{b.value==2&&Z(),b.value==3&&O(),b.value==4&&$(),b.value==5&&q(),b.value==6&&ee()});const ae=l=>{var d=document.createElement("iframe");d.style.display="none",d.src="https://admision-web.test/documentos/cepre2023-II/"+l+"/inscripcion-1.pdf",document.body.appendChild(d),d.contentWindow.focus(),d.contentWindow.print()},te=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],oe=[{title:"N° Operación",dataIndex:"operacion",key:"operacion"},{title:"Fecha",dataIndex:"fecha",key:"fecha"},{title:"Hora",dataIndex:"hora",key:"hora"},{title:"Concepto",dataIndex:"codigo",key:"codigo"},{title:"Monto",dataIndex:"monto",key:"monto"}],le=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"estado",key:"estado"},{title:"Acciones",dataIndex:"acciones"}],ie=(l,d)=>!!A.value.find(P=>P.id_postulante===l&&P.id_proceso===d),se=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return K(),(l,d)=>{const g=p("a-input"),P=p("a-auto-complete"),y=p("a-label"),de=p("a-date-picker"),o=p("a-select-option"),V=p("a-select"),L=p("a-col"),I=p("a-button"),w=p("a-tab-pane"),k=p("a-tag"),G=p("a-divider"),E=p("a-table"),ne=p("a-tabs");return u(),c(C,null,[e(x(ue),{title:"Inscripciones-impresión"}),e(ve,null,{default:a(()=>[s("div",null,[e(ne,{activeKey:b.value,"onUpdate:activeKey":d[12]||(d[12]=n=>b.value=n),type:"card"},{default:a(()=>[e(w,{key:"1",tab:"Inscripcion"},{default:a(()=>[s("div",ge,[s("div",ye,[s("div",null,[he,e(P,{value:_.value,"onUpdate:value":d[1]||(d[1]=n=>_.value=n),options:j.value,style:{width:"300px"},onSelect:J,onSearch:l.onSearch},{option:a(({value:n,label:h})=>[s("div",be,[s("div",null,[s("span",ke,M(n),1)]),s("div",xe,[s("span",Ie,M(h),1)])])]),default:a(()=>[e(g,{placeholder:"Buscar",value:S.value,"onUpdate:value":d[0]||(d[0]=n=>S.value=n),onKeypress:R},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),s("div",Ce,[s("div",we,[e(L,{flex:"1 1"},{default:a(()=>[s("div",Se,[s("div",Pe,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:f.baseUrl+"/fotos/inscripcion/"+i.value.dni_temp+".jpg"},null,8,Ee)):(u(),c("img",{key:1,src:f.baseUrl+"/fotos/postulantex.jpg"},null,8,Ue))]),s("div",Me,[s("div",Ae,[e(y,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(g,{value:i.value.primer_apellido,"onUpdate:value":d[2]||(d[2]=n=>i.value.primer_apellido=n),placeholder:"Primer apellido"},null,8,["value"])]),s("div",Be,[e(y,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(g,{value:i.value.segundo_apellido,"onUpdate:value":d[3]||(d[3]=n=>i.value.segundo_apellido=n),placeholder:"Segundo apellido"},null,8,["value"])]),s("div",De,[e(y,null,{default:a(()=>[t("Prenombres")]),_:1}),e(g,{value:i.value.nombres,"onUpdate:value":d[4]||(d[4]=n=>i.value.nombres=n),placeholder:"Pre_nombres"},null,8,["value"])]),s("div",Ve,[s("div",Fe,[e(y,null,{default:a(()=>[t("Fecha Nac")]),_:1}),s("div",null,[e(de,{value:l.fecha,"onUpdate:value":d[5]||(d[5]=n=>l.fecha=n)},null,8,["value"])])]),s("div",ze,[e(y,null,{default:a(()=>[t("Sexo")]),_:1}),e(V,{ref:"select",value:i.value.sexo,"onUpdate:value":d[6]||(d[6]=n=>i.value.sexo=n),style:{width:"100%"}},{default:a(()=>[e(o,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(o,{value:"0"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),s("div",null,[s("div",Ne,[s("div",je,[e(y,null,{default:a(()=>[t("Colegio")]),_:1}),e(g,{value:i.value.colegio,"onUpdate:value":d[7]||(d[7]=n=>i.value.colegio=n),placeholder:"Basic usage"},null,8,["value"])])]),s("div",Te,[s("div",Ke,[e(y,null,{default:a(()=>[t("Procedencia")]),_:1}),e(g,{value:i.value.procedencia,"onUpdate:value":d[8]||(d[8]=n=>i.value.procedencia=n),placeholder:"Basic usage"},null,8,["value"])])]),s("div",Oe,[s("div",$e,[e(y,null,{default:a(()=>[t("Proceso")]),_:1}),e(g,{value:i.value.proceso,"onUpdate:value":d[9]||(d[9]=n=>i.value.proceso=n),placeholder:"Basic usage"},null,8,["value"])])])])]),_:1}),e(L,{flex:"0 1 400px"},{default:a(()=>[s("div",null,[s("div",qe,[e(y,null,{default:a(()=>[t("Modalidad")]),_:1}),e(V,{ref:"select",value:i.value.modalidad,"onUpdate:value":d[10]||(d[10]=n=>i.value.modalidad=n),style:{width:"100%"}},{default:a(()=>[e(o,{value:1},{default:a(()=>[t("Titulados y graduados")]),_:1}),e(o,{value:2},{default:a(()=>[t("Traslados Internos")]),_:1}),e(o,{value:3},{default:a(()=>[t("Traslados Externos")]),_:1}),e(o,{value:4},{default:a(()=>[t("Primeros Puestos y Coar")]),_:1}),e(o,{value:5},{default:a(()=>[t("Deportistas calificados")]),_:1}),e(o,{value:6},{default:a(()=>[t("Becas")]),_:1}),e(o,{value:7},{default:a(()=>[t("Personas con dispacidad")]),_:1}),e(o,{value:8},{default:a(()=>[t("Examen general")]),_:1}),e(o,{value:9},{default:a(()=>[t("Cepreuna")]),_:1})]),_:1},8,["value"])]),s("div",null,[e(y,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(V,{ref:"select",value:i.value.programa,"onUpdate:value":d[11]||(d[11]=n=>i.value.programa=n),style:{width:"100%"},disabled:!0},{default:a(()=>[e(o,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(o,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(o,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(o,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(o,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(o,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(o,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(o,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(o,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(o,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(o,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(o,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(o,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(o,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(o,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(o,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(o,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(o,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(o,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(o,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(o,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(o,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(o,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(o,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(o,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(o,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(o,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(o,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(o,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(o,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(o,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(o,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(o,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(o,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(o,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(o,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(o,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(o,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),s("div",He,[s("div",Le,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:f.baseUrl+"/huellas/inscripcion/"+i.value.dni_temp+".jpg"},null,8,Ge)):(u(),c("img",{key:1,src:f.baseUrl+"/huellas/huella.jpg"},null,8,We))]),s("div",Qe,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:f.baseUrl+"/huellas/inscripcion/"+i.value.dni_temp+"x.jpg"},null,8,Xe)):(u(),c("img",{key:1,src:f.baseUrl+"/huellas/huella.jpg"},null,8,Je))])])]),_:1})])]),s("div",Re,[z.value==!1?(u(),c("div",Ye,[e(I,{type:"primary",onClick:H},{default:a(()=>[t("Inscribir")]),_:1})])):(u(),c("div",Ze,[e(I,{type:"primary",disabled:"",onClick:H},{default:a(()=>[t("Inscribir")]),_:1})]))])])]),_:1}),e(w,{key:"2",tab:"Apoderados"},{default:a(()=>[e(E,{dataSource:T.value,columns:te},{bodyCell:a(({column:n,index:h,record:v})=>[n.dataIndex==="parentesco"?(u(),c(C,{key:0},[v.parentesco=="Padre"?(u(),c("div",ea,[e(k,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):r("",!0),v.parentesco=="Madre"?(u(),c("div",aa,[e(k,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):r("",!0)],64)):r("",!0),n.dataIndex==="acciones"?(u(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:U=>l.abrirEditar(l.filiales[h]),size:"small"},{icon:a(()=>[e(x(X))]),_:2},1032,["onClick"]),e(G,{type:"vertical"}),e(I,{type:"danger",disabled:"",onClick:U=>l.eliminar(l.filiales[h]),shape:"",size:"small"},{icon:a(()=>[e(x(ce))]),_:2},1032,["onClick"])],64)):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"3",style:{}},{tab:a(()=>[s("div",ta,[B.value.length===0&&i.value.dni_temp!==""?(u(),c("div",oa,[s("span",null,[e(x(W))])])):r("",!0),t(" vouchers ")])]),default:a(()=>[e(E,{dataSource:B.value,columns:oe},{bodyCell:a(({column:n,index:h,record:v})=>[n.dataIndex==="codigo"?(u(),c(C,{key:0},[v.codigo==26?(u(),c("div",la,[e(k,{color:"green"},{default:a(()=>[t(" Derechos de admisión ")]),_:1})])):r("",!0),v.codigo==39?(u(),c("div",ia,[e(k,{color:"pink"},{default:a(()=>[t(" Examen médico ")]),_:1})])):r("",!0)],64)):r("",!0),n.dataIndex==="monto"?(u(),c("div",sa,[s("span",null,"S/ "+M(v.monto.toFixed(2)),1)])):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"4"},{tab:a(()=>[s("div",da,[D.value.length<3&&i.value.dni_temp!==""?(u(),c("div",na,[s("span",null,[e(x(W))])])):r("",!0),t(" Documentos ")])]),default:a(()=>[e(E,{dataSource:D.value,columns:le,size:"small"},{bodyCell:a(({column:n,index:h,record:v})=>[n.dataIndex==="estado"?(u(),c(C,{key:0},[v.estado==1?(u(),c("div",ua,[e(k,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(u(),c("div",ca,[e(k,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):r("",!0),n.dataIndex==="acciones"?(u(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:U=>l.abrirEditar(l.filiales[h]),size:"small"},{icon:a(()=>[e(x(X))]),_:2},1032,["onClick"]),e(G,{type:"vertical"}),s("a",{href:"../../"+v.url,target:"_blank"},[e(I,{type:"primary",onClick:U=>l.eliminar(l.filiales[h]),shape:"",size:"small"},{icon:a(()=>[e(x(Q))]),_:2},1032,["onClick"])],8,ra)],64)):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(w,{key:"5",tab:"Inscripciones"},{default:a(()=>[s("pre",null,M(A.value),1)]),_:1}),e(w,{key:"6",tab:"Pre inscripciones"},{default:a(()=>[e(E,{dataSource:N.value,columns:se,size:"small"},{bodyCell:a(({column:n,index:h,record:v})=>[n.dataIndex==="estado"?(u(),c(C,{key:0},[v.estado==1?(u(),c("div",pa,[e(k,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(u(),c("div",_a,[e(k,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):r("",!0),n.dataIndex==="acciones"?(u(),re(I,{key:1,type:"primary",disabled:"",onClick:U=>l.abrirEditar(l.filiales[h]),size:"small"},{icon:a(()=>[e(x(Q))]),_:2},1032,["onClick"])):r("",!0)]),_:1},8,["dataSource"])]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},ka=me(va,[["__scopeId","data-v-d5110819"]]);export{ka as default};
