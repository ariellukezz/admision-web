import{r as i,x as Ae,e as m,f as u,o as S,c as V,a as e,u as g,w as t,F as J,l as A,Z as ye,d as a,b as d,S as Ie,s as Ee,t as _,g as T,E as we,D as Ce,y as $,n as De}from"./app-596f5f88.js";import{L as Ne}from"./LayoutSimulacro-e7916458.js";import{F as Se}from"./FormOutlined-87e565fa.js";import"./DropdownLink-3afff34e.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-86cc9d9c.js";const Re={class:"mb-4",style:{width:"100%"}},Ue={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},he={class:"flex justify-between mt-5 mb-4 mr-4 ml-4"},Ve={class:"flex justify-between",style:{position:"relative"}},Te={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Le={key:1},ke={class:"flex justify-between mb-6 mt-2 pr-4"},Be={clas:"",style:{scale:"0.9"}},Pe=a("div",{style:{display:"flex","justify-content":"space-between",background:"#476175",margin:"-24px","margin-bottom":"0px",height:"46px"}},[a("div",{class:"ml-3 mt-3"},[a("span",{style:{color:"white","font-size":"1.1rem"}}," Nueva inscripcion ")]),a("div",{class:"mr-4 mt-1"},[a("span",{style:{color:"white","font-size":"1.4rem"}},"x")])],-1),ze={class:"mt-4"},Oe=a("span",{style:{color:"red"}},"*",-1),je={class:"flex justify-between"},qe=a("div",null,[a("span",null,[a("span",{style:{"font-weight":"bold","font-size":".8rem"}}," EXAMEN DE ADMISIÓN - SIMULACRO")])],-1),Fe={style:{"margin-top":"-8px"}},Ge={style:{"font-size":".6rem"}},Je={style:{"font-size":".9rem","font-weight":"bold"}},$e=a("div",{style:{"margin-top":"-8px"}},[a("span",{style:{"font-size":".6rem"}}," 14-12-2023")],-1),Me={class:"flex justify-center"},He=a("label",null,"Cod. Modular",-1),Qe=a("label",null,[d("Nombre del colegio"),a("span",{style:{color:"red"}},"*")],-1),Xe=a("label",null,[d("Cod de local"),a("span",{style:{color:"red"}},"*")],-1),Ze=a("label",null,[d("Nivel"),a("span",{style:{color:"red"}},"*")],-1),Ke=a("label",null,[d("Gestión"),a("span",{style:{color:"red"}},"*")],-1),We=a("label",null,[d("Ubicación: Dep/Prov/Dist "),a("span",{style:{color:"red"}},"*")],-1),Ye=a("label",null,"Dirección",-1),eo=a("label",null,"Observación",-1),oo={class:"flex justify-end"},vo={__name:"index",setup(to){const E=i(null),L=i(null);i([]);const w=i(""),C=i(1),k=i(null),y=i(10),b=i(!1),R=i(null),D=i(null),U=i([]),M=i(null),I=i(!1),H=i(),B=i(),P=i(),Q=i(),X=i(),Z=i(),K=i(),W=i();i();const Y=l=>{n.cod_modular=l.target.value.replace(/\D/g,"")},n=Ae({cod_modular:"",nombre:"",cod_local:"",nivel:"",gestion:null,ubigeo:"",direccion:"",observacion:""}),z=i(null),ee=async()=>{I.value=!0,setTimeout(()=>{console.log("Este código se ejecutará después de 2 segundos")},1500);try{const l=await z.value.validateFields(),o=await A.post("save",n);o.status===202?(console.log(o.data.errors),I.value=!1):(ne(),b.value=!1,ie("success",o.data.titulo,o.data.mensaje),I.value=!1)}catch(l){console.error(l),I.value=!1}},O=async()=>{A.post("/get-ubigeo",{term:D.value}).then(l=>{U.value=l.data.datos.data,console.log("Datos recibidos:",U)}).catch(l=>{l.response?console.error("Error de servidor:",l.response.data):l.request?console.error("Error de red:",l.request):console.error("Error de configuración:",l.message)})},j=i([]),N=async()=>{let l=await A.post("get-inscritos-simulacro?page="+C.value,{term:w.value,paginashoja:y.value});j.value=l.data.datos.data,k.value=l.data.datos.total};N();const q=async()=>{let l=await A.post("/get-departamentos-codigo",{term:B.value});H.value=l.data.datos.data},oe=async()=>{let l=await A.post("/get-provincias-codigo?page=",{departamento:P.value});Q.value=l.data.datos},te=async l=>{let o=await A.post("/get-distritos-codigo?page=",{departamento:P.value,provincia:Z.value});K.value=o.data.datos};m(C,(l,o)=>{N()}),m(y,(l,o)=>{N()}),m(w,(l,o)=>{N()}),m(D,(l,o)=>{l.length>=3&&O()}),m(B,(l,o)=>{l.length>=3&&q()}),m(X,(l,o)=>{l.length>=3&&oe()}),m(W,(l,o)=>{l.length>=3&&te()}),m(M,(l,o)=>{l.length>=3&&getColegios()});const le=(l,o)=>{n.ubigeo=o.key},ae=(l,o)=>{E.value=o.value+"-"+o.nombre};q(),O();const se=l=>{b.value=!0,n.id=l.id,n.cod_modular=l.cod_modular,n.nombre=l.nombre,n.cod_local=l.cod_local,n.gestion=l.gestion,n.nivel=l.nivel,n.ubigeo=l.ubigeo,R.value=l.lugar,n.direccion=l.direccion,n.observacion=l.observacion},ne=()=>{for(const l in n)n[l]=null},ie=(l,o,p)=>{De[l]({message:o,description:p})},de=i([{title:"Nro_Doc",dataIndex:"nro_doc"},{title:"Nombres",dataIndex:"nombres",responsive:["xs","sm","md","lg"]},{title:"Programa",dataIndex:"programa",responsive:["md"]},{title:"Colegios",dataIndex:"colegio",responsive:["lg"]},{title:"Lugar",dataIndex:"lugar",responsive:["lg"]},{title:"Acciones",dataIndex:"acciones",width:"120px",align:"center"}]),ue=i([{nombre:"JHON ARIEL LUQUE CUSACANI",value:"70757837",monto:15,fecha:"12-12-2023"},{nombre:"JHON ARIEL LUQUE CUSACANI",value:"70757838",monto:15,fecha:"12-12-2023"},{nombre:"JHON ARIEL LUQUE CUSACANI",value:"70757839",monto:15,fecha:"12-12-2023"}]);return(l,o)=>{const p=u("a-button"),f=u("a-input"),re=u("a-tag"),ce=u("a-popconfirm"),ve=u("a-table"),pe=u("a-pagination"),r=u("a-select-option"),h=u("a-select"),F=u("a-tooltip"),G=u("a-auto-complete"),c=u("a-form-item"),v=u("a-col"),me=u("a-textarea"),_e=u("a-row"),fe=u("a-form"),ge=u("row"),be=u("a-modal");return S(),V(J,null,[e(g(ye),{title:"Inscritos"}),e(Ne,null,{default:t(()=>[a("div",Re,[a("div",Ue,[a("div",he,[a("div",null,[a("div",null,[e(p,{onClick:o[0]||(o[0]=s=>b.value=!0),style:{"background-color":"#476175","border-radius":"5px",border:"none"},type:"primary"},{default:t(()=>[d("nuevo")]),_:1})])]),a("div",Ve,[a("div",null,[e(f,{type:"text",placeholder:"Buscar",value:w.value,"onUpdate:value":o[1]||(o[1]=s=>w.value=s),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),a("div",Te,[e(g(Ie))])])])]),a("div",null,[e(ve,{dataSource:j.value,size:"",columns:de.value,pagination:!1},{bodyCell:t(({column:s,index:lo,record:x})=>[s.dataIndex==="nro_doc"?(S(),Ee(re,{key:0,color:"#4f4f4f",style:{width:"80px"}},{default:t(()=>[d(_(x.nro_doc),1)]),_:2},1024)):T("",!0),s.dataIndex==="nombres"?(S(),V("div",Le,[a("span",null,_(x.nombres)+" "+_(x.paterno)+" "+_(x.materno),1)])):T("",!0),s.dataIndex==="acciones"?(S(),V(J,{key:2},[e(p,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:t(()=>[e(g(we))]),_:1}),e(p,{class:"mr-1",onClick:xe=>se(x),style:{color:"blue"},size:"small",disabled:""},{icon:t(()=>[e(g(Se))]),_:2},1032,["onClick"]),e(ce,{title:"¿Estas seguro de eliminar?",onConfirm:xe=>l.eliminar(x),disabled:""},{default:t(()=>[e(p,{size:"small",style:{color:"crimson"},disabled:""},{icon:t(()=>[e(g(Ce),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):T("",!0)]),_:1},8,["dataSource","columns"])]),a("div",ke,[a("div",null,[e(pe,{current:C.value,"onUpdate:current":o[2]||(o[2]=s=>C.value=s),"page-size":y.value,simple:"",total:k.value,"show-less-items":""},null,8,["current","page-size","total"])]),a("div",Be,[e(h,{value:y.value,"onUpdate:value":o[3]||(o[3]=s=>y.value=s),style:{width:"90px"}},{default:t(()=>[e(r,{value:10},{default:t(()=>[d("10 Reg.")]),_:1}),e(r,{value:20},{default:t(()=>[d("20 Reg.")]),_:1}),e(r,{value:50},{default:t(()=>[d("50 Reg.")]),_:1}),e(r,{value:100},{default:t(()=>[d("100 Reg.")]),_:1})]),_:1},8,["value"])])])])]),e(be,{visible:b.value,"onUpdate:visible":o[17]||(o[17]=s=>b.value=s),footer:!1,centered:"",style:{width:"100%","max-width":"1000px"},closable:!1},{default:t(()=>[Pe,a("div",ze,[a("label",null,[d("Pago"),Oe,d(" "+_(E.value),1)]),e(c,{name:"ubigeo_colegio"},{default:t(()=>[e(G,{value:E.value,"onUpdate:value":o[5]||(o[5]=s=>E.value=s),options:ue.value,onSelect:ae},{option:t(s=>[a("div",je,[a("div",null,[qe,a("div",Fe,[a("span",Ge,_(s.value)+" - "+_(s.nombre),1)])]),a("div",null,[a("div",null,[a("span",Je," S/"+_(parseInt(s.monto).toFixed(2)),1)]),$e])])]),default:t(()=>[e(f,{placeholder:"Seleccionar pago",value:L.value,"onUpdate:value":o[4]||(o[4]=s=>L.value=s),style:{"border-radius":"6px"}},{suffix:t(()=>[e(F,{title:"Extra information"},{default:t(()=>[e(g($))]),_:1})]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),a("div",Me,[e(ge,{style:{display:"flex","justify-content":"center"}},{default:t(()=>[e(v,{span:24},{default:t(()=>[e(fe,{ref_key:"formDatos",ref:z,name:"form",model:n},{default:t(()=>[e(_e,{gutter:16,class:"mt-3"},{default:t(()=>[e(v,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[He,e(c,{name:"cod_modular",rules:[{required:!0,message:"Ingrese el cod modular"},{min:7,message:"Debe tener 7 digitos",trigger:"blur"}]},{default:t(()=>[e(f,{value:n.cod_modular,"onUpdate:value":o[6]||(o[6]=s=>n.cod_modular=s),onInput:Y,maxlength:7},null,8,["value"])]),_:1})]),_:1}),e(v,{xs:24,sm:12,md:8,lg:16},{default:t(()=>[Qe,e(c,{name:"nombre",rules:[{required:!0,message:"Ingrese el nombre del colegio"}]},{default:t(()=>[e(f,{value:n.nombre,"onUpdate:value":o[7]||(o[7]=s=>n.nombre=s)},null,8,["value"])]),_:1})]),_:1}),e(v,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[Xe,e(c,{name:"cod_local",rules:[{required:!0,message:"Ingrese el codigo del local"}]},{default:t(()=>[e(f,{value:n.cod_local,"onUpdate:value":o[8]||(o[8]=s=>n.cod_local=s)},null,8,["value"])]),_:1})]),_:1}),e(v,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[Ze,e(c,{name:"nivel",rules:[{required:!0,message:"Seleccione el nivel"}]},{default:t(()=>[e(h,{value:n.nivel,"onUpdate:value":o[9]||(o[9]=s=>n.nivel=s),style:{width:"100%"}},{default:t(()=>[e(r,{value:"SECUNDARIA"},{default:t(()=>[d("SECUNDARIA")]),_:1}),e(r,{value:"BASICA ALTERNATIVA"},{default:t(()=>[d("BASICA ALTERNATIVA")]),_:1}),e(r,{value:"BASICA ALTERNATIVA AVANZADO"},{default:t(()=>[d("BASICA ALTERNATIVA AVANZADO")]),_:1}),e(r,{value:"BÁSICA ALTERNATIVA SECUNDARIA"},{default:t(()=>[d("BÁSICA ALTERNATIVA SECUNDARIA")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(v,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[Ke,e(c,{name:"gestion",rules:[{required:!0,message:"Selecciona la gestión"}]},{default:t(()=>[e(h,{value:n.gestion,"onUpdate:value":o[10]||(o[10]=s=>n.gestion=s),style:{width:"100%"}},{default:t(()=>[e(r,{value:"PÚBLICA DE GESTIÓN DIRECTA"},{default:t(()=>[d("PÚBLICA DE GESTIÓN DIRECTA")]),_:1}),e(r,{value:"PRIVADA"},{default:t(()=>[d("PRIVADA")]),_:1}),e(r,{value:"PÚBLICA DE GESTIÓN PRIVADA"},{default:t(()=>[d("PÚBLICA DE GESTIÓN PRIVADA")]),_:1}),e(r,{value:"EXTRANJERO"},{default:t(()=>[d("EXTRANJERA")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(v,{xs:24,sm:24,md:24,lg:12},{default:t(()=>[We,e(c,{name:"ubigeo"},{default:t(()=>[e(G,{value:R.value,"onUpdate:value":o[12]||(o[12]=s=>R.value=s),options:U.value,onSelect:le},{default:t(()=>[e(f,{placeholder:"Lugar",value:D.value,"onUpdate:value":o[11]||(o[11]=s=>D.value=s)},{suffix:t(()=>[e(F,{title:"Extra information"},{default:t(()=>[e(g($))]),_:1})]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),_:1}),e(v,{xs:24,sm:24,md:24,lg:12},{default:t(()=>[Ye,e(c,{name:"direccion"},{default:t(()=>[e(f,{value:n.direccion,"onUpdate:value":o[13]||(o[13]=s=>n.direccion=s)},null,8,["value"])]),_:1})]),_:1}),e(v,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[eo,e(c,{name:"observacion"},{default:t(()=>[e(me,{value:n.observacion,"onUpdate:value":o[14]||(o[14]=s=>n.observacion=s)},null,8,["value"])]),_:1})]),_:1})]),_:1}),a("div",oo,[a("div",null,[e(p,{type:"primary",class:"mr-2",onClick:o[15]||(o[15]=s=>b.value=!1),style:{"border-radius":"6px",background:"none",color:"#476175",border:"1px solid #476175"}},{default:t(()=>[d("Cancelar")]),_:1}),e(p,{type:"primary",onClick:o[16]||(o[16]=s=>ee()),style:{"border-radius":"6px",background:"#476175",border:"none"},loading:I.value},{default:t(()=>[d("Guardar")]),_:1},8,["loading"])])])]),_:1},8,["model"])]),_:1})]),_:1})])]),_:1},8,["visible"])]),_:1})],64)}}};export{vo as default};
