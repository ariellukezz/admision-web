import{r as d,e as B,o as i,c as r,a as s,u as c,w as l,F as K,y as h,Z as F,d as t,t as x,b as w,s as O,E as D,T as J,f as _,I as X,N as Y,l as Z,m as $,be as G,a9 as H,X as M,Y as Q,B as W,P as ee}from"./app-6dd2fb5e.js";import{A as te}from"./LayoutDocente-6af8c858.js";import oe from"./voucher-50df2bf8.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";import{C as le}from"./CreditCardOutlined-1dff3b5a.js";import"./DropdownLink-18f75299.js";import"./logotiny-c4b525af.js";import"./TopMenu-4d1c665e.js";import"./perfil-8483bf70.js";/* empty css                                                               */import"./UserOutlined-ab3658c5.js";import"./AntdIcon-8fcb511c.js";import"./SafetyCertificateOutlined-69c10da4.js";import"./EditOutlined-9229ec09.js";import"./DownOutlined-0336cddf.js";/* empty css                                                                */const ae={style:{height:"34px"}},ne={style:{"font-weight":"700",color:"black","font-size":".7rem"}},ie={style:{"margin-top":"-10px"}},ue={style:{"font-size":".8rem","text-transform":"uppercase"}},de={style:{height:"240px"}},re={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},ce={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},pe={key:0},_e=["src"],ve={class:"",style:{width:"100%",height:"380px"}},me={key:0},he={style:{height:"380px"}},fe={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},ye={key:0},ge=["src"],be={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},xe={key:0},we=["src"],ke={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},Ce={key:0},Ie=["src"],Ve={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},Se={__name:"documentos",setup(qe){const v=window.location.origin,m=d(null),o=d(null),k=d([]),u=d([]),N=[{label:"Solicitud",value:1},{label:"Vouchers",value:2},{label:"Certificado",value:3},{label:"Ex vocacional",value:4},{label:"C. Cepreuna",value:5}],f=d(!1),U=a=>{f.value=a.target.checked,u.value=a.target.checked?N.map(e=>e.value):[]},C=d([]),E=async()=>{let a=await h.get("get-requisitos");C.value=a.data.datos},I=d(null),A=async()=>{I.value.focus(),await h.post("save-requisito",{dni:o.value,requisitos:u.value}),o.value=null,u.value=[]},P=async(a="",e=1)=>{let y=await h.post("get-postulantes?page="+e,{term:m.value});k.value=y.data.datos.data},V=async()=>{u.value=[];let a=await h.post("get-postulante-requisitos",{dni:o.value});a.data.estado===!0&&(u.value=JSON.parse(a.data.datos.requisitos))};return V(),B(m,(a,e)=>{P()}),B(o,(a,e)=>{V()}),E(),(a,e)=>{const y=X,R=Y,g=Z,S=$,q=G,T=H,p=M,z=Q,L=W,j=ee;return i(),r(K,null,[s(c(F),{title:"RevisiÃ³n de documentos"}),s(te,null,{default:l(()=>[t("div",null,[s(j,{style:{background:"white",height:"calc(100vh - 90px)",overflow:"hidden"},class:"mb-0 p-0"},{default:l(()=>[s(S,{gutter:16,class:"mb-3"},{default:l(()=>[s(g,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:l(()=>[t("div",null,[e[6]||(e[6]=t("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),s(R,{value:o.value,"onUpdate:value":e[1]||(e[1]=n=>o.value=n),options:k.value,style:{width:"300px"},onSelect:a.onSelect,onSearch:a.onSearch},{suffix:l(()=>[s(c(le))]),option:l(({value:n,label:b})=>[t("div",ae,[t("div",null,[t("span",ne,x(n),1)]),t("div",ie,[t("span",ue,x(b),1)])])]),default:l(()=>[s(y,{ref_key:"dniInput",ref:I,placeholder:"Buscar",value:m.value,"onUpdate:value":e[0]||(e[0]=n=>m.value=n),onKeypress:a.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),s(S,{gutter:16},{default:l(()=>[s(g,{span:24,sm:24,md:8,lg:6},{default:l(()=>[t("div",de,[e[8]||(e[8]=t("h1",{style:{"font-weight":"bold"}},"Requisitos",-1)),s(q,{checked:f.value,"onUpdate:checked":e[2]||(e[2]=n=>f.value=n),class:"first-item",onChange:U},{default:l(()=>e[7]||(e[7]=[w("Todo")])),_:1},8,["checked"]),s(T,{value:u.value,"onUpdate:value":e[3]||(e[3]=n=>u.value=n),class:"checkbox-group-vertical"},{default:l(()=>[(i(!0),r(K,null,O(C.value,(n,b)=>(i(),D(q,{key:n.value,value:n.value,class:J([{"first-item":b===0},"checkbox-item"])},{default:l(()=>[w(x(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1}),s(g,{span:24,sm:24,md:16,lg:18,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:l(()=>[t("div",re,[s(z,{activeKey:a.activeKey,"onUpdate:activeKey":e[4]||(e[4]=n=>a.activeKey=n),type:"card",style:{}},{default:l(()=>[s(p,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:l(()=>[t("div",null,[t("div",ce,[o.value!==null&&o.value.length===8?(i(),r("div",pe,[t("iframe",{src:c(v)+"/documentos/cepre2023-II/"+o.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,_e)])):_("",!0)])])]),_:1}),s(p,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:l(()=>[t("div",ve,[o.value!==null&&o.value.length===8?(i(),r("div",me,[s(oe,{dni:o.value},null,8,["dni"])])):_("",!0)])]),_:1}),s(p,{key:"3",tab:"Certificado"},{default:l(()=>[t("div",he,[t("div",fe,[o.value!==null&&o.value.length===8?(i(),r("div",ye,[t("iframe",{src:c(v)+"/documentos/cepre2023-II/"+o.value+"/certificado-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,ge)])):_("",!0)])])]),_:1}),s(p,{key:"4",tab:"Ex vocacional"},{default:l(()=>[t("div",null,[t("div",be,[o.value!==null&&o.value.length===8?(i(),r("div",xe,[t("iframe",{src:c(v)+"/documentos/cepre2023-II/"+o.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,we)])):_("",!0)])])]),_:1}),s(p,{key:"5",tab:"Cert Cepre"},{default:l(()=>[t("div",null,[t("div",ke,[o.value!==null&&o.value.length===8?(i(),r("div",Ce,[t("iframe",{src:c(v)+"/documentos/cepre2023-II/"+o.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,Ie)])):_("",!0)])])]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),t("div",Ve,[s(L,{type:"primary",onClick:e[5]||(e[5]=n=>A())},{default:l(()=>e[9]||(e[9]=[w("Enviar")])),_:1})])]),_:1})])]),_:1})],64)}}},Xe=se(Se,[["__scopeId","data-v-101427bf"]]);export{Xe as default};
