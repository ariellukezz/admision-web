import{r as _,J as Q,a1 as W,e as k,D as X,o as g,c as I,a as l,u as b,w as a,F as D,y as M,Z as h,d as s,E,f as C,b as r,t as N,a2 as ee,n as le,B as oe,I as ae,g as ne,H as te,h as se,i as ie,S as ue,j as de,k as re,l as me,V as pe,m as _e,q as ve,O as fe,M as ge}from"./app-0034f043.js";import{_ as be}from"./AuthenticatedLayout-0755e9ed.js";import{f as ce}from"./index-f6010c5a.js";import{S as xe}from"./SearchOutlined-18fd4aad.js";import{E as ye}from"./EyeOutlined-d48b8457.js";import{F as we}from"./FormOutlined-71f39711.js";import{D as Ce}from"./DeleteOutlined-0bfcfa70.js";import"./logotiny-c4b525af.js";import"./Header-3addd6c1.js";import"./AntdIcon-748582a6.js";import"./DropdownLink-bdc7cf9c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DownOutlined-47092423.js";/* empty css                                                            */const Ue={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Pe={class:"mr-3"},ke={class:"flex justify-between",style:{position:"relative"}},Ie={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},De={class:"flex justify-end"},Te={__name:"index",setup(Ne){_("");const F=t=>{m.value=!0,o.id=t.id,o.nro_doc=t.nro_doc,o.tipo_doc=t.tipo_doc,o.primer_apellido=t.primer_apellido,o.segundo_apellido=t.segundo_apellido,o.apellido_casada=t.apellido_casada,o.nombres=t.nombres,o.sexo=t.sexo,o.fec_nacimiento=ee(t.fec_nacimiento),o.ubigeo_nacimiento=t.ubigeo_nacimiento,o.ubigeo_residencia=t.ubigeo_residencia,o.celular=t.celular,o.email=t.email,o.estado_civil=t.estado_civil,o.direccion=t.direccion,o.anio_egreso=t.anio_egreso,o.observaciones=t.observaciones,o.id_colegio=t.id_colegio},o=Q({nro_doc:"",tipo_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),B=async()=>{let t=await M.post("save-postulante-admin",{id:o.id,tipo_doc:o.tipo_doc,nro_doc:o.nro_doc,primer_apellido:o.primer_apellido,segundo_apellido:o.segundo_apellido,apellido_casada:o.apellido_casada,nombres:o.nombres,sexo:o.sexo,fec_nacimiento:ce(new Date(o.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:o.ubigeo_nacimiento,ubigeo_residencia:o.ubigeo_residencia,celular:o.celular,correo:o.email,estado_civil:o.estado_civil,direccion:o.direccion,egreso:o.anio_egreso,observaciones:o.observaciones,colegio:o.id_colegio});m.value=!1,t.data.estado===!0&&$(t.data.tipo,t.data.titulo,t.data.mensaje),w()};W(()=>{});const c=_(""),x=_([]);_([]);const m=_(!1),y=_(1),V=_(null),O=_({id:null,codigo:"",nombre:""}),S=()=>{m.value=!0};k(c,(t,e)=>{w()}),k(m,(t,e)=>{m.value==!1&&O.value.id!=null&&(o.value=null)});const w=async()=>{let t=await M.post("get-postulantes-admin?page="+y.value,{term:c.value});x.value=t.data.datos.data,V.value=t.data.datos.total},j=[{title:"Ver",dataIndex:"ver_postulante"},{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],$=(t,e,p)=>{le[t]({message:e,description:p})};k(y,(t,e)=>{w()});const A=async t=>{try{window.location.href="postulante-perfil/"+t}catch(e){console.error(e)}};return w(),(t,e)=>{const p=oe,d=ae,z=X("row"),Y=ne,R=te,T=se,G=ie,v=ue,U=de,u=re,i=me,H=pe,P=_e,J=ve,Z=fe,K=ge;return g(),I(D,null,[l(b(h),{title:"Postulantes"}),l(be,null,{default:a(()=>[s("div",Ue,[l(z,{class:"flex justify-between mb-4"},{default:a(()=>[s("div",Pe,[l(p,{type:"primary",onClick:S})]),s("div",ke,[l(d,{type:"text",placeholder:"Buscar",value:c.value,"onUpdate:value":e[0]||(e[0]=n=>c.value=n),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),s("div",Ie,[l(b(xe))])])]),_:1}),l(T,{columns:j,"data-source":x.value,pagination:!1,size:"small"},{bodyCell:a(({column:n,index:L,record:f})=>[n.dataIndex==="ver_postulante"?(g(),E(p,{key:0,type:"true",onClick:q=>A(f.nro_doc),size:"small",style:{height:"30px",display:"flex","align-items":"center"}},{default:a(()=>[l(b(ye))]),_:2},1032,["onClick"])):C("",!0),n.dataIndex==="nombres"?(g(),I(D,{key:1},[r(N(f.nombres)+" "+N(f.primer_apellido)+" "+N(f.segundo_apellido),1)],64)):C("",!0),n.dataIndex==="acciones"?(g(),I(D,{key:2},[l(p,{type:"primary",onClick:q=>F(f),size:"small"},{icon:a(()=>[l(b(we))]),_:2},1032,["onClick"]),l(Y,{type:"vertical"}),x.value.length?(g(),E(R,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:q=>t.eliminar(x.value[L])},{default:a(()=>[l(p,{type:"danger",shape:"",size:"small"},{icon:a(()=>[l(b(Ce))]),_:1})]),_:2},1032,["onConfirm"])):C("",!0)],64)):C("",!0)]),_:1},8,["data-source"]),l(G,{current:y.value,"onUpdate:current":e[1]||(e[1]=n=>y.value=n),total:V.value,"show-less-items":""},null,8,["current","total"])]),s("div",null,[l(K,{visible:m.value,"onUpdate:visible":e[20]||(e[20]=n=>m.value=n),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:a(()=>[l(P,null,{default:a(()=>[l(i,{span:24},{default:a(()=>[l(Z,{bordered:!1},{default:a(()=>[l(J,{model:o,rules:t.formRules},{default:a(()=>[l(P,{gutter:16},{default:a(()=>[l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[23]||(e[23]=s("label",null,"Tipo Doc",-1)),l(u,null,{default:a(()=>[l(U,{value:o.tipo_doc,"onUpdate:value":e[2]||(e[2]=n=>o.tipo_doc=n)},{default:a(()=>[l(v,{value:1},{default:a(()=>e[21]||(e[21]=[r("DNI")])),_:1}),l(v,{value:3},{default:a(()=>e[22]||(e[22]=[r("Carné Ext.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[24]||(e[24]=s("label",null,"DNI",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:a(()=>[l(d,{value:o.nro_doc,"onUpdate:value":e[3]||(e[3]=n=>o.nro_doc=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[25]||(e[25]=s("label",null,"Ap. Paterno",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:a(()=>[l(d,{value:o.primer_apellido,"onUpdate:value":e[4]||(e[4]=n=>o.primer_apellido=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[26]||(e[26]=s("label",null,"Ap. Materno",-1)),l(u,null,{default:a(()=>[l(d,{value:o.segundo_apellido,"onUpdate:value":e[5]||(e[5]=n=>o.segundo_apellido=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[27]||(e[27]=s("label",null,"Ap. Casada",-1)),l(u,null,{default:a(()=>[l(d,{value:o.apellido_casada,"onUpdate:value":e[6]||(e[6]=n=>o.apellido_casada=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[28]||(e[28]=s("label",null,"Nombres",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:a(()=>[l(d,{value:o.nombres,"onUpdate:value":e[7]||(e[7]=n=>o.nombres=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[31]||(e[31]=s("label",null,"Sexo",-1)),l(u,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:a(()=>[l(U,{value:o.sexo,"onUpdate:value":e[8]||(e[8]=n=>o.sexo=n)},{default:a(()=>[l(v,{value:"1"},{default:a(()=>e[29]||(e[29]=[r("Masculino")])),_:1}),l(v,{value:"2"},{default:a(()=>e[30]||(e[30]=[r("Femenino")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[32]||(e[32]=s("label",null,"Fec. Nacimiento",-1)),l(u,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:a(()=>[l(H,{style:{width:"100%"},value:o.fec_nacimiento,"onUpdate:value":e[9]||(e[9]=n=>o.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[33]||(e[33]=s("label",null,"Ubigeo Nacimiento",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:a(()=>[l(d,{value:o.ubigeo_nacimiento,"onUpdate:value":e[10]||(e[10]=n=>o.ubigeo_nacimiento=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[34]||(e[34]=s("label",null,"Ubigeo residencia",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:a(()=>[l(d,{value:o.ubigeo_residencia,"onUpdate:value":e[11]||(e[11]=n=>o.ubigeo_residencia=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[35]||(e[35]=s("label",null,"Celular",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:a(()=>[l(d,{value:o.celular,"onUpdate:value":e[12]||(e[12]=n=>o.celular=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[36]||(e[36]=s("label",null,"Correo",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:a(()=>[l(d,{value:o.email,"onUpdate:value":e[13]||(e[13]=n=>o.email=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[39]||(e[39]=s("label",null,"Estado Civil",-1)),l(u,null,{default:a(()=>[l(U,{value:o.estado_civil,"onUpdate:value":e[14]||(e[14]=n=>o.estado_civil=n)},{default:a(()=>[l(v,{value:"1"},{default:a(()=>e[37]||(e[37]=[r("Soltero")])),_:1}),l(v,{value:"2"},{default:a(()=>e[38]||(e[38]=[r("Casado")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[40]||(e[40]=s("label",null,"Dirección",-1)),l(u,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:a(()=>[l(d,{value:o.direccion,"onUpdate:value":e[15]||(e[15]=n=>o.direccion=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[l(u,null,{default:a(()=>[e[41]||(e[41]=s("label",null,"Año egreso",-1)),l(d,{value:o.anio_egreso,"onUpdate:value":e[16]||(e[16]=n=>o.anio_egreso=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[42]||(e[42]=s("label",null,"Observaciones",-1)),l(u,null,{default:a(()=>[l(d,{value:o.observaciones,"onUpdate:value":e[17]||(e[17]=n=>o.observaciones=n)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e[43]||(e[43]=s("label",null,"Colegio",-1)),l(u,null,{default:a(()=>[l(d,{value:o.id_colegio,"onUpdate:value":e[18]||(e[18]=n=>o.id_colegio=n)},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(P,null,{default:a(()=>[l(i,null,{default:a(()=>[s("div",De,[l(p,{onClick:e[19]||(e[19]=n=>m.value=!1)},{default:a(()=>e[44]||(e[44]=[r(" Cancelar ")])),_:1}),l(p,{type:"primary",onClick:B},{default:a(()=>e[45]||(e[45]=[r("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{Te as default};
