import{_ as H}from"./logotiny-c4b525af.js";import{_ as Y}from"./logoDAD-c76d0a0b.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{f as _,o as n,s as C,w as a,a as o,d as e,t as b,L as K,p as Q,h as W,r as v,x as ee,c as r,u as N,F as k,Z as te,i as oe,z as se,b as x,g as u,n as ae}from"./app-14f44714.js";import ne from"./certificado-5fcbaa7b.js";import ie from"./dni-e3dbd236.js";import"./es-c5626578.js";const le="/build/assets/image-b69d7d4b.png";const P=m=>(Q("data-v-05daf995"),m=m(),W(),m),ce={class:"headPre"},de=P(()=>e("div",{class:"flex justify-between mb-2 logo-container"},[e("div",{class:"logoPre"},[e("img",{src:H,class:"logo-img"}),e("div",{class:"x"},[e("div",{class:"container-pre"},[e("span",{class:"puntajex"},"DIRECCIÓN DE")]),e("h1",{class:"logoPreAD"},"ADMISIÓN")]),e("img",{src:Y,class:"logo-img"})])],-1)),re={class:"flex justify-center title-proceso-container"},ue={class:"title-proceso text-center"},_e=P(()=>e("div",{class:"flex justify-center titulo-pre"},[e("div",null,[e("div",{class:"flex justify-center",style:{height:"40px"}},[e("hr",{class:"line-pre mr-2"}),e("span",{style:{"font-size":"1.4rem","text-transform":"capitalize"}},"Puntaje obtenido"),e("hr",{class:"line-pre ml-2"})])])],-1)),me=P(()=>e("div",{style:{background:"#267ec5ea",height:"3px",width:"100%"}},null,-1)),pe={class:"container"},ge={__name:"LayoutPuntaje",props:["nombre"],setup(m){return(w,p)=>{const j=_("a-layout-content"),I=_("a-layout");return n(),C(I,{style:{"min-height":"100vh"}},{default:a(()=>[o(I,null,{default:a(()=>[e("div",ce,[de,e("div",re,[e("span",ue,"EXAMEN "+b(m.nombre),1)]),_e]),me,o(j,{class:"content flex justify-center"},{default:a(()=>[e("div",pe,[K(w.$slots,"default",{},void 0,!0)])]),_:3})]),_:3})]),_:3})}}},ve=Z(ge,[["__scopeId","data-v-05daf995"]]);const fe=e("div",null,[e("h1",{style:{"font-size":"1.7rem"}},"Resultados del examen"),e("p",{style:{"text-align":"justify","font-size":"1em"}},' Para consultar la relación de ingresantes del EXAMEN GENERAL 2024-II, haga clic en el botón "Descargar" correspondiente a la fecha de su interés. El archivo se descargará automáticamente, y podrá abrirlo para visualizar el listado de ingresantes ordenado por mérito. ')],-1),he={class:"flex",style:{"min-height":"30px","align-items":"center"}},ye=e("div",{class:"mr-1",style:{width:"30px","min-width":"30px"}},[e("img",{src:le,alt:""})],-1),xe={class:"flex"},be=e("div",{class:"mr-1"}," Descargar",-1),Ie={style:{"margin-top":"-2px"}},we=e("div",{class:"mt-6"},null,-1),je=e("h1",{style:{"font-size":"1.7rem"}},"Consultar puntaje",-1),Ee={class:"mt-6",style:{}},Ne=e("div",{style:{"margin-top":"-10px","text-align":"left"}},[e("div",{class:"ml-1 mb-2"}," Para consultar el puntaje del EXAMEN GENERAL 2024-II, siga estos pasos: "),e("div",{class:"ml-4"},[e("div",{class:"mb-2"},"1. Ingrese su DNI en el campo de texto proporcionado."),e("div",{class:"mb-2"},"2. Ingrese el código mostrado en pantalla."),e("div",null,'3. Haga clic en el botón "Consultar Puntaje".')])],-1),ke={class:"flex mt-6 justify-left",style:{}},Ce={style:{width:"100%"}},Pe={style:{"min-width":"360px","max-width":"420px"}},De=e("div",{style:{"margin-bottom":"7px"}},[e("label",null,"N° Documento")],-1),Ae={class:"texto-imagen"},$e=e("div",{class:"overlay"},null,-1),Le={class:"mb-4"},Re=e("div",{class:"mt-3"},[e("label",null,"Código")],-1),Se={class:"mt-4",style:{display:"flex","justify-content":"left"}},ze={key:0,class:"mt-6"},Ue={key:0},Te={key:1},Me={key:0},Oe={key:1},Be={class:"flex justify-center"},Fe={key:2},Ve={class:"flex justify-center"},qe={key:1,class:"mt-6"},Ge=e("div",{class:"mt-6"},null,-1),Xe=e("h1",{style:{"font-size":"1.7rem"}},"Subir archivos ",-1),Je={class:"mt-2"},tt={__name:"index",props:["procceso_seleccionado"],setup(m){const w=window.location.origin,p=m,j=v(""),I=v(),i=ee({dni:"",codigo_secreto:""}),L=t=>{i.dni=t.target.value.replace(/\D/g,"")},R=async()=>{h.value=0;try{const t=await axios.post("/get-puntajes-proceso/",{dni:i.dni,id_proceso:p.procceso_seleccionado.id});if(t.data.estado==!1)O("error","No se han encontrado datos en este proceso",""),i.dni="",g.value=[];else if(t.data&&t.data.datos){g.value=t.data.datos;const s=g.value.some(c=>c.condicion==="SI");h.value=s?1:0,h.value==0&&(i.dni=""),A()}else g.value=[]}catch(t){console.error("Error al obtener puntajes:",t),g.value=[]}};function S(t,s){return new Promise((c,d)=>{s?f.value!==j.value?d(new Error("El código ingresado no coincide.")):c():d(new Error("Por favor, ingresa el código secreto."))})}const z=v([]),U=async()=>{let t=await axios.get("/get-puntajes-maximos-proceso/"+p.procceso_seleccionado.id);t.data.estado==!0&&(z.value=t.data.datos)},D=v([]),T=async()=>{let t=await axios.post("/get-documentos-resultados",{id_proceso:p.procceso_seleccionado.id});t.data.estado==!0&&(D.value=t.data.datos)},M=async t=>{try{const s=await axios({url:t,method:"GET",responseType:"blob"}),c=window.URL.createObjectURL(new Blob([s.data])),d=document.createElement("a");d.href=c,d.setAttribute("download",t.split("/").pop()),document.body.appendChild(d),d.click(),d.remove()}catch(s){console.error("Error descargando archivo:",s)}};U(),T();const f=v(null),A=async()=>{let t=await axios.get("/generar-captcha");f.value=t.data.captcha},O=(t,s,c)=>{ae[t]({message:s,description:c})},g=v([]),h=v(null),B=[{title:"Nombre",dataIndex:"nombres"},{title:"Programa",dataIndex:"programa",responsive:["sm"]},{title:"Puntaje",dataIndex:"puntaje",align:"center"},{title:"Vocacional",dataIndex:"puntaje_vocacional",align:"center"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Condición",dataIndex:"condicion",align:"center"}];function F(t){return t.split("-").reverse().join("-")}return A(),(t,s)=>{const c=_("a-button"),d=_("a-input"),$=_("a-form-item"),V=_("a-form"),E=_("a-tag"),q=_("a-table"),G=_("a-alert"),X=_("a-card");return n(),r(k,null,[o(N(te),{title:"Resultados"}),o(ve,{nombre:p.procceso_seleccionado.nombre},{default:a(()=>[o(X,null,{default:a(()=>[fe,(n(!0),r(k,null,oe(D.value,l=>(n(),r("div",{key:l,class:"flex justify-between p-2",style:{"border-bottom":"solid 1px #d9d9d9"}},[e("div",he,[ye,e("div",null,[e("span",null,b(l.nombre),1)])]),e("div",null,[o(c,{onClick:J=>M(N(w)+"/"+l.url),style:{height:"36px",background:"#088dcf",color:"white",border:"none"}},{default:a(()=>[e("div",xe,[be,e("div",Ie,[o(N(se))])])]),_:2},1032,["onClick"])])]))),128)),we,je,e("div",Ee,[Ne,e("div",ke,[e("div",Ce,[e("div",Pe,[o(V,{ref_key:"formRef",ref:I,model:i,name:"inicio_dni"},{default:a(()=>[De,o($,{name:"dni",rules:[{required:!0,message:"Por favor ingresa tu DNI",trigger:"change"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:a(()=>[o(d,{value:i.dni,"onUpdate:value":s[0]||(s[0]=l=>i.dni=l),onInput:L,disabled:h.value,maxlength:8,placeholder:"N° Documento"},null,8,["value","disabled"])]),_:1}),e("div",Ae,b(f.value),1),$e,e("div",Le,[Re,o($,{name:"codigo_secreto",rules:[{required:!0,message:"Ingresa el código del cuadro",trigger:"change"},{min:6,message:"El ubigeo debe tener 6 caracteres",trigger:"blur"},{validator:S,trigger:"change"}]},{default:a(()=>[o(d,{value:i.codigo_secreto,"onUpdate:value":s[1]||(s[1]=l=>i.codigo_secreto=l),maxlength:6,placeholder:"Ingresa el codigo"},null,8,["value"])]),_:1},8,["rules"])]),e("div",Se,[f.value!==i.codigo_secreto?(n(),C(c,{key:0,type:"primary",disabled:""},{default:a(()=>[x("CONSULTAR PUNTAJE")]),_:1})):u("",!0),i.codigo_secreto===f.value?(n(),C(c,{key:1,onClick:s[2]||(s[2]=l=>R()),style:{background:"goldenrod",border:"none",color:"white"}},{default:a(()=>[x("CONSULTAR PUNTAJE")]),_:1})):u("",!0)])]),_:1},8,["model"])])])])]),g.value.length>0?(n(),r("div",ze,[o(q,{columns:B,"data-source":g.value,pagination:!1,size:"small"},{bodyCell:a(({column:l,index:J,record:y})=>[l.dataIndex==="puntaje"?(n(),r("div",Ue,b(y.puntaje),1)):u("",!0),l.dataIndex==="fecha"?(n(),r("div",Te,b(F(y.fecha)),1)):u("",!0),l.dataIndex==="condicion"?(n(),r(k,{key:2},[y.condicion=="SI"?(n(),r("div",Me,[o(E,{color:"blue"},{default:a(()=>[x(" Ingresó ")]),_:1})])):u("",!0),y.condicion=="NO"?(n(),r("div",Oe,[e("div",Be,[o(E,{color:"orange"},{default:a(()=>[x(" No ingresó ")]),_:1})])])):u("",!0),y.condicion=="CL"?(n(),r("div",Fe,[e("div",Ve,[o(E,{color:"yellow"},{default:a(()=>[x(" Clasificado ")]),_:1})])])):u("",!0)],64)):u("",!0)]),_:1},8,["data-source"])])):u("",!0),h.value===1?(n(),r("div",qe,[o(G,{message:"! MUY IMPORTANTE !",description:"Los postulantes que hayan alcanzado una vacante deberán subir su Certificado de Estudios y DNI en formato PDF con un peso max. de 2mb",type:"info"}),Ge,Xe,e("div",null,[o(ne,{id_proceso:p.procceso_seleccionado.id,dni:i.dni},null,8,["id_proceso","dni"])]),e("div",Je,[o(ie,{id_proceso:p.procceso_seleccionado.id,dni:i.dni},null,8,["id_proceso","dni"])])])):u("",!0)]),_:1})]),_:1},8,["nombre"])],64)}}};export{tt as default};
