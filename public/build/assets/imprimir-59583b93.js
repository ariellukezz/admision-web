import{r as c,e as U,c as r,a as o,u as _,w as a,F as N,j as y,o as d,X as J,d as e,t as k,b as C,P as X,k as $,x as G,f as v,g as i,p as H,h as M}from"./app-ce6c6192.js";import{A as Q}from"./LayoutDocente-84391a9e.js";import Y from"./voucher-334c8de0.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{C as ee}from"./CreditCardOutlined-61fc5147.js";import"./DropdownLink-7fb63a5d.js";import"./logotiny-c4b525af.js";const I=h=>(H("data-v-00c52ce3"),h=h(),M(),h),te=I(()=>e("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),oe={style:{height:"34px"}},ae={style:{"font-weight":"700",color:"black","font-size":".7rem"}},se={style:{"margin-top":"-10px"}},le={style:{"font-size":".8rem","text-transform":"uppercase"}},ne={style:{height:"240px"}},ie=I(()=>e("h1",{style:{"font-weight":"bold"}},"Requisitos",-1)),de={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},ce={class:"",style:{width:"100%",height:"380px"}},re={key:0},ue={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},pe={key:0},_e=["src"],ve={style:{height:"380px"}},he={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},me={key:0},fe=["src"],ye={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},ge={key:0},be=["src"],xe={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},we={key:0},ke=I(()=>e("div",null,null,-1)),Ce={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},Ie={__name:"imprimir",setup(h){const m=window.location.origin,f=c(null),l=c(null),S=c([]),p=c([]),P=[{label:"Solicitud",value:1},{label:"Vouchers",value:2},{label:"Certificado",value:3},{label:"Ex vocacional",value:4},{label:"C. Cepreuna",value:5}],g=c(!1),A=s=>{g.value=s.target.checked,p.value=s.target.checked?P.map(t=>t.value):[]},V=c([]),E=async()=>{let s=await y.get("get-requisitos");V.value=s.data.datos},R=c(null),j=async(s="",t=1)=>{let b=await y.post("get-postulantes?page="+t,{term:f.value});S.value=b.data.datos.data},K=async()=>{p.value=[];let s=await y.post("get-postulante-requisitos",{dni:l.value});s.data.estado===!0&&(p.value=JSON.parse(s.data.datos.requisitos))};K(),U(f,(s,t)=>{j()}),U(l,(s,t)=>{K()});const z=async()=>{let s=await y.post("control-biometrico",{dni:l.value});D(s.data.datos)},D=s=>{var t=document.createElement("iframe");t.style.display="none",t.src=m+"/documentos/cepre2023-II/"+s+"/control-biometrico-unido.pdf",document.body.appendChild(t),t.contentWindow.focus(),t.contentWindow.print()};return E(),(s,t)=>{const b=i("a-input"),F=i("a-auto-complete"),x=i("a-col"),q=i("a-row"),B=i("a-checkbox"),L=i("a-checkbox-group"),u=i("a-tab-pane"),O=i("a-tabs"),T=i("a-button"),W=i("a-card");return d(),r(N,null,[o(_(J),{title:"Revisión de documentos"}),o(Q,null,{default:a(()=>[e("div",null,[o(W,{style:{background:"white",height:"calc(100vh - 90px)",overflow:"hidden"},class:"mb-0 p-0"},{default:a(()=>[o(q,{gutter:16,class:"mb-3"},{default:a(()=>[o(x,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:a(()=>[e("div",null,[te,o(F,{value:l.value,"onUpdate:value":t[1]||(t[1]=n=>l.value=n),options:S.value,style:{width:"300px"},onSelect:s.onSelect,onSearch:s.onSearch},{suffix:a(()=>[o(_(ee))]),option:a(({value:n,label:w})=>[e("div",oe,[e("div",null,[e("span",ae,k(n),1)]),e("div",se,[e("span",le,k(w),1)])])]),default:a(()=>[o(b,{ref_key:"dniInput",ref:R,placeholder:"Buscar",value:f.value,"onUpdate:value":t[0]||(t[0]=n=>f.value=n),onKeypress:s.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),o(q,{gutter:16},{default:a(()=>[o(x,{span:24,sm:24,md:8,lg:6},{default:a(()=>[e("div",ne,[ie,o(B,{checked:g.value,"onUpdate:checked":t[2]||(t[2]=n=>g.value=n),class:"first-item",onChange:A},{default:a(()=>[C("Todo")]),_:1},8,["checked"]),o(L,{value:p.value,"onUpdate:value":t[3]||(t[3]=n=>p.value=n),class:"checkbox-group-vertical"},{default:a(()=>[(d(!0),r(N,null,X(V.value,(n,w)=>(d(),$(B,{key:n.value,value:n.value,class:G([{"first-item":w===0},"checkbox-item"])},{default:a(()=>[C(k(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1}),o(x,{span:24,sm:24,md:16,lg:18,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:a(()=>[e("div",de,[o(O,{activeKey:s.activeKey,"onUpdate:activeKey":t[4]||(t[4]=n=>s.activeKey=n),type:"card",style:{}},{default:a(()=>[o(u,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:a(()=>[e("div",ce,[l.value!==null&&l.value.length===8?(d(),r("div",re,[o(Y,{dni:l.value},null,8,["dni"])])):v("",!0)])]),_:1}),o(u,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:a(()=>[e("div",null,[e("div",ue,[l.value!==null&&l.value.length===8?(d(),r("div",pe,[e("iframe",{src:_(m)+"/documentos/cepre2023-II/"+l.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,_e)])):v("",!0)])])]),_:1}),o(u,{key:"3",tab:"Certificado"},{default:a(()=>[e("div",ve,[e("div",he,[l.value!==null&&l.value.length===8?(d(),r("div",me,[e("iframe",{src:_(m)+"/documentos/cepre2023-II/"+l.value+"/certificado-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,fe)])):v("",!0)])])]),_:1}),o(u,{key:"4",tab:"Ex vocacional"},{default:a(()=>[e("div",null,[e("div",ye,[l.value!==null&&l.value.length===8?(d(),r("div",ge,[e("iframe",{src:_(m)+"/documentos/cepre2023-II/"+l.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,be)])):v("",!0)])])]),_:1}),o(u,{key:"5",tab:"Cert Cepre"},{default:a(()=>[e("div",null,[e("div",xe,[l.value!==null&&l.value.length===8?(d(),r("div",we)):v("",!0)])])]),_:1}),o(u,{key:"6",tab:"D. Biométricos"},{default:a(()=>[ke]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),e("div",Ce,[o(T,{type:"primary",onClick:t[5]||(t[5]=n=>z())},{default:a(()=>[C("Imprimir")]),_:1})])]),_:1})])]),_:1})],64)}}},Pe=Z(Ie,[["__scopeId","data-v-00c52ce3"]]);export{Pe as default};
