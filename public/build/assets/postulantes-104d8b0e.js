import{r as s,e as x,c as g,a as o,u as z,w as n,F as q,M as y,o as _,X as R,d as l,S as D,t as u,f as S,L as E,x as J,i as M,g as i}from"./app-6aa1dd05.js";import{A as X}from"./LayoutDocente-ac8d868f.js";import"./DropdownLink-ef04f2da.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";const G={style:{}},H={class:"mb-2 flex justify-end"},K={key:0,class:"flex"},Q={style:{"text-transform":"uppercase","font-size":".9rem"}},T={key:1,style:{height:"20px"}},W={style:{display:"none"}},Y={style:{height:"20px","border-right":"1px #d9d9d9 solid","margin-right":"10px","padding-right":"20px"}},Z={class:"flex justify-end"},$=["src"],ue={__name:"postulantes",setup(ee){const V=s([]),b=s(!1),C=s(""),r=s(""),f=s(0),d=s(1),c=s(10),k=s([]),h=s([]),m=async()=>{let t=await y.post("get-postulantes-requisitos?page="+d.value,{term:r.value,paginasize:c.value});w.value=t.data.datos.data,f.value=t.data.datos.total},B=async()=>{let t=await y.get("get-requisitos");k.value=t.data.datos};x(r,(t,e)=>{m()}),x(d,(t,e)=>{m()}),x(c,(t,e)=>{m()});const w=s([]);m(),B(),(async()=>{let t=await y.post("get-certificados-revision?page="+d.value,{term:r.value,paginasize:c.value});V.value=t.data.datos.data,f.value=t.data.datos.total})();const N=[{title:"Nombres",dataIndex:"nombres",key:"nombres",align:"left",width:"300px"},{title:"Requisitos",dataIndex:"requisitos",key:"requisitos"}];return(t,e)=>{const O=i("a-input"),U=i("a-checkbox"),I=i("a-checkbox-group"),L=i("a-table"),j=i("a-pagination"),A=i("a-card"),F=i("a-modal");return _(),g(q,null,[o(z(R),{title:"Postulantes"}),o(X,null,{default:n(()=>[l("div",G,[o(A,{style:{background:"white"},class:"m-0 p-0"},{default:n(()=>[l("div",H,[o(O,{placeholder:"Buscar",value:r.value,"onUpdate:value":e[0]||(e[0]=a=>r.value=a),style:{"max-width":"300px"}},{suffix:n(()=>[o(z(D))]),_:1},8,["value"])]),l("div",null,[o(L,{size:"small",dataSource:w.value,columns:N,pagination:!1},{bodyCell:n(({column:a,text:ae,record:p})=>[a.dataIndex==="nombres"?(_(),g("div",K,[l("span",Q,u(p.dni)+" "+u(p.nombres)+" "+u(p.paterno)+" "+u(p.materno),1)])):S("",!0),a.dataIndex==="requisitos"?(_(),g("div",T,[l("div",W,u(h.value=JSON.parse(p.requisitos)),1),o(I,{value:h.value,"onUpdate:value":e[1]||(e[1]=v=>h.value=v),class:"checkbox-group-vertical"},{default:n(()=>[(_(!0),g(q,null,E(k.value,(v,P)=>(_(),J(U,{key:v.value,value:v.value,class:M([{"first-item":P===0},"checkbox-item"])},{default:n(()=>[l("div",Y,u(v.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])):S("",!0)]),_:1},8,["dataSource"]),l("div",Z,[o(j,{current:d.value,"onUpdate:current":e[2]||(e[2]=a=>d.value=a),pageSize:c.value,"onUpdate:pageSize":e[3]||(e[3]=a=>c.value=a),total:f.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})]),o(F,{width:"80%",height:"90%",visible:b.value,"onUpdate:visible":e[4]||(e[4]=a=>b.value=a),title:"Certificado",style:{"margin-top":"-70px"},onOk:t.handleOk},{default:n(()=>[l("iframe",{src:C.value,width:"100%",height:"450px"},null,8,$)]),_:1},8,["visible","onOk"])]),_:1})],64)}}};export{ue as default};
