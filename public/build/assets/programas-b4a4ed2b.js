import{r as m,e as T,C as oe,D as te,o as l,c as r,a as o,u as g,w as t,F as w,y as I,M as ne,Z as le,d as v,b as i,f as s,t as f,E as A,G as se,n as re,B as ie,I as de,_ as ue,h as pe,i as ce,k as me,j as ge,S as ve,N as _e,q as fe}from"./app-23a0f657.js";import{_ as ye}from"./AuthenticatedLayout-5b5b1b86.js";import{S as be}from"./SearchOutlined-700c6054.js";import{E as V}from"./EyeOutlined-0f807ab6.js";import{F as U}from"./FormOutlined-e638db40.js";import{D as B}from"./DeleteOutlined-15f59b30.js";import"./logotiny-c4b525af.js";import"./Header-aa17d0e2.js";import"./AntdIcon-240dfb93.js";import"./DownOutlined-61ecf437.js";/* empty css                                                            */const ke={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},Ie={class:"mr-3"},Ce={class:"flex justify-between",style:{position:"relative"}},he={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},xe={key:0,class:"flex",style:{"justify-content":"center"}},Se={key:0},we={key:1},Ae={style:{display:"none"}},Ee={key:0},Oe={style:{"font-size":".9rem"}},Ne={key:1},Fe={style:{"font-size":".9rem"}},Re={key:2},ze={style:{"font-size":".9rem"}},De={key:3,class:"flex",style:{"justify-content":"center"}},Pe={key:4,class:"flex",style:{"justify-content":"center"}},Me={key:0},Te={key:1},Ve={class:"flex",style:{"justify-content":"flex-end"}},Qe={__name:"programas",setup(Ue){const d=m([]),j=m([]),E=m(""),h=m(1),G=m(null),O=m([]),y=m(!1),$=m(""),L=()=>{y.value=!0};T($,(a,e)=>{getDepartamentos()}),T(h,(a,e)=>{C()});const K=async(a="")=>{let e=await I.get("/admin/get-programas-proceso");O.value=e.data.datos},N=a=>{y.value=!0,programa.value.id=a.id,programa.value.codigo=a.codigo,programa.value.nombre=a.nombre,programa.value.nivel_academico=a.nivel_academico,programa.value.tipo_autorizacion=a.tipo_autorizacion,programa.value.id_facultad=a.id_fac,a.estado==1?programa.value.estado=!0:programa.value.estado=!1,programa.value.area=a.area},C=async(a="")=>{let e=await I.post("/select-programas");d.value=e.data.datos},q=async(a="")=>{let e=await I.post("/select-modalidades");j.value=e.data.datos.data},X=()=>{let a={id:programa.value.id,codigo:programa.value.codigo,nombre:programa.value.nombre,nivel_academico:programa.value.nivel_academico,tipo_autorizacion:programa.value.tipo_autorizacion,estado:programa.value.estado,id_facultad:programa.value.id_facultad,area:programa.value.area};I.post("save-programa",a).then(e=>{C(),z("success",e.data.titulo,e.data.mensaje),y.value=!1,programa.value.codigo=null,programa.value.id=null,programa.value.nombre=""})},F=a=>{I.get("eliminar-programa/"+a.id).then(e=>{C(),z("warning","PROGRAMA ELIMINADO",e.data.mensaje)})},Z=[{title:"Cod",dataIndex:"codigo",width:"60px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombre"},{title:"Area",dataIndex:"area",align:"center",width:"100px",responsive:["md"]},{title:"Fun.",dataIndex:"estado",align:"center",width:"60px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],H=[{title:"PROGRAMA",dataIndex:"programa",width:"360px",align:"left",responsive:["md"]},{title:"GENERAL",dataIndex:"8",align:"center",responsive:["md"]},{title:"CEPREUNA",dataIndex:"9",align:"center",responsive:["md"]},{title:"CONADIS",dataIndex:"7",align:"center",responsive:["md"]},{title:"GRAD. TITULADOS",dataIndex:"1",align:"center",responsive:["md"]},{title:"TRASLADO INTERNO",dataIndex:"2",align:"center",responsive:["md"]},{title:"TRASLADO EXTERNO",dataIndex:"3",align:"center",responsive:["md"]},{title:"PRIMEROS PUESTOS",dataIndex:"4",align:"center",responsive:["md"]},{title:"DEPORTISTAS",dataIndex:"5",align:"center",responsive:["md"]}],R=m([]),J=a=>{console.log("selectedRowKeys changed: ",a),R.value=a};oe(()=>({selectedRowKeys:g(R),onChange:J,hideDefaultSelections:!0}));const z=(a,e,u)=>{re[a]({message:e,description:u})},D=a=>{console.log("Detalle:",a)};return C(),q(),K(),(a,e)=>{const u=ie,x=de,Q=te("row"),_=ue,P=pe,W=ce,b=me,M=ge,S=ve,Y=_e,ee=fe,ae=ne;return l(),r(w,null,[o(g(le),{title:"Proceso - Configuracion - programas"}),o(ye,null,{default:t(()=>[v("div",ke,[o(Q,{class:"flex justify-between mb-4"},{default:t(()=>[v("div",Ie,[o(u,{type:"primary",style:{"border-radius":"5px",background:"#476175"},onClick:L},{default:t(()=>e[9]||(e[9]=[i("Modificar")])),_:1})]),v("div",Ce,[o(x,{type:"text",placeholder:"Buscar",value:E.value,"onUpdate:value":e[0]||(e[0]=n=>E.value=n),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),v("div",he,[o(g(be))])])]),_:1}),o(P,{columns:H,"data-source":O.value,pagination:!1,size:"small",bordered:"",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:t(({column:n,index:p,record:c})=>[n.dataIndex==="estado"?(l(),r("div",xe,[d.value[p].estado==1?(l(),r("div",Se,[o(_,{color:"green"},{default:t(()=>e[10]||(e[10]=[i("Si")])),_:1})])):s("",!0),d.value[p].estado==0?(l(),r("div",we,[o(_,{color:"red"},{default:t(()=>e[11]||(e[11]=[i("No")])),_:1})])):s("",!0)])):s("",!0),n.dataIndex==="acciones"?(l(),r(w,{key:1},[o(u,{type:"",onClick:k=>D(c),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:t(()=>[o(g(V))]),_:2},1032,["onClick"]),o(u,{type:"",onClick:k=>N(c),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:t(()=>[o(g(U))]),_:2},1032,["onClick"]),o(u,{class:"",onClick:k=>F(c),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:t(()=>[o(g(B))]),_:2},1032,["onClick"])],64)):s("",!0)]),_:1},8,["data-source"]),v("div",Ae,[o(P,{columns:Z,"data-source":d.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 290px)"}},{bodyCell:t(({column:n,index:p,record:c})=>[n.dataIndex==="codigo"?(l(),r("div",Ee,[v("span",Oe,f(c.codigo),1)])):s("",!0),n.dataIndex==="nombre"?(l(),r("div",Ne,[v("span",Fe,f(c.nombre),1)])):s("",!0),n.dataIndex==="facultad"?(l(),r("div",Re,[v("span",ze,f(c.facultad),1)])):s("",!0),n.dataIndex==="area"?(l(),r("div",De,[d.value[p].area=="BIOMÉDICAS"?(l(),A(_,{key:0,style:{"font-size":".8rem"},color:"cyan"},{default:t(()=>[i(f(d.value[p].area),1)]),_:2},1024)):s("",!0),d.value[p].area=="SOCIALES"?(l(),A(_,{key:1,style:{"font-size":".8rem"},color:"purple"},{default:t(()=>[i(f(d.value[p].area),1)]),_:2},1024)):s("",!0),d.value[p].area=="INGENIERÍAS"?(l(),A(_,{key:2,style:{"font-size":".8rem"},color:"blue"},{default:t(()=>[i(f(d.value[p].area),1)]),_:2},1024)):s("",!0)])):s("",!0),n.dataIndex==="estado"?(l(),r("div",Pe,[d.value[p].estado==1?(l(),r("div",Me,[o(_,{color:"green"},{default:t(()=>e[12]||(e[12]=[i("Si")])),_:1})])):s("",!0),d.value[p].estado==0?(l(),r("div",Te,[o(_,{color:"red"},{default:t(()=>e[13]||(e[13]=[i("No")])),_:1})])):s("",!0)])):s("",!0),n.dataIndex==="acciones"?(l(),r(w,{key:5},[o(u,{type:"",onClick:k=>D(c),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:t(()=>[o(g(V))]),_:2},1032,["onClick"]),o(u,{type:"",onClick:k=>N(c),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:t(()=>[o(g(U))]),_:2},1032,["onClick"]),o(u,{class:"",onClick:k=>F(c),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:t(()=>[o(g(B))]),_:2},1032,["onClick"])],64)):s("",!0)]),_:1},8,["data-source"])]),v("div",Ve,[o(W,{current:h.value,"onUpdate:current":e[1]||(e[1]=n=>h.value=n),simple:"","page-size":"50",total:G.value},null,8,["current","total"])])])]),_:1}),o(ae,{visible:y.value,"onUpdate:visible":e[8]||(e[8]=n=>y.value=n),title:"Titulo Modal",style:{"margin-top":"-40px"}},{footer:t(()=>[o(u,{style:{"margin-left":"10px"},onClick:a.resetForm},{default:t(()=>e[17]||(e[17]=[i("Cancelar")])),_:1},8,["onClick"]),o(u,{type:"primary",onClick:e[7]||(e[7]=n=>X())},{default:t(()=>e[18]||(e[18]=[i("Guardar")])),_:1})]),default:t(()=>[o(ee,se({ref:"formRef",name:"custom-validation",model:a.formState,rules:a.rules},a.layout,{onFinish:a.handleFinish,onValidate:a.handleValidate,onFinishFailed:a.handleFinishFailed}),{default:t(()=>[o(b,{"has-feedback":"",label:"Codigo",name:"codigo"},{default:t(()=>[o(x,{type:"text",value:a.programa.codigo,"onUpdate:value":e[2]||(e[2]=n=>a.programa.codigo=n),autocomplete:"off"},null,8,["value"])]),_:1}),o(b,{"has-feedback":"",label:"Nombre",name:"nombre"},{default:t(()=>[o(x,{type:"text",value:a.programa.nombre,"onUpdate:value":e[3]||(e[3]=n=>a.programa.nombre=n),autocomplete:"off"},null,8,["value"])]),_:1}),o(b,{"has-feedback":"",label:"Facultad",name:"facultad"},{default:t(()=>[o(M,{options:a.facultades,ref:"Tipo",style:{width:"100%"},onFocus:a.focus,onChange:a.handleChange,value:a.programa.id_facultad,"onUpdate:value":e[4]||(e[4]=n=>a.programa.id_facultad=n)},null,8,["options","onFocus","onChange","value"])]),_:1}),o(b,{"has-feedback":"",label:"Area",name:"area"},{default:t(()=>[o(M,{style:{width:"100%"},onFocus:a.focus,onChange:a.handleChange,value:a.programa.area,"onUpdate:value":e[5]||(e[5]=n=>a.programa.area=n)},{default:t(()=>[o(S,{value:"BIOMÉDICAS"},{default:t(()=>e[14]||(e[14]=[i(" BIOMEDICAS ")])),_:1}),o(S,{value:"INGENIERÍAS"},{default:t(()=>e[15]||(e[15]=[i(" INGENIERÍAS ")])),_:1}),o(S,{value:"SOCIALES"},{default:t(()=>e[16]||(e[16]=[i(" SOCIALES ")])),_:1})]),_:1},8,["onFocus","onChange","value"])]),_:1}),o(b,{"has-feedback":"",label:"Vigente",name:"estado"},{default:t(()=>[o(Y,{checked:a.programa.estado,"onUpdate:checked":e[6]||(e[6]=n=>a.programa.estado=n)},null,8,["checked"])]),_:1})]),_:1},16,["model","rules","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible"])],64)}}};export{Qe as default};
