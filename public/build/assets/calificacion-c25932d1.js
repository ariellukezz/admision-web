import{r as a,J as ce,e as w,o as i,c as r,a as o,u as d,w as n,F as M,y as N,Z as pe,d as s,v as me,s as ve,t as C,E as _e,f as m,b as u,x as fe,I as ge,_ as ye,B as xe,H as be,h as he,A as ke,z as we,k as Ce,L as Ie,V as Ee,q as $e,M as Ve,W as De,X as ze}from"./app-50495fa5.js";import{L as Me}from"./LayoutCalificador-0f6c47eb.js";import Ne from"./leer-ide-ea613cb4.js";import Se from"./leer-resp-00674b7f.js";import qe from"./leer-patron-cf73ef67.js";import Fe from"./participantes-6bae68ec.js";import Ue from"./calificacion-883023c7.js";import{E as R}from"./EnvironmentOutlined-3293040c.js";import{H as Oe,F as Be}from"./HomeOutlined-c709803c.js";import{S as Te}from"./SearchOutlined-2a9ac022.js";import{E as je}from"./EyeOutlined-76c5aa1d.js";import{F as Le}from"./FormOutlined-7adff4b9.js";import{D as Pe}from"./DeleteOutlined-fd5dbb75.js";import{D as Ye}from"./DownOutlined-1afc1dd0.js";import"./DropdownLink-5fd06449.js";import"./logotiny-c4b525af.js";/* empty css                                                                          */import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-d275fa3a.js";import"./SaveOutlined-c51c17ab.js";import"./AntdIcon-e9a53685.js";import"./ficha-ccbb3009.js";import"./logoDAD-c76d0a0b.js";import"./xlsx-4f9172c7.js";const He={class:"mb-4",style:{width:"100%"}},Ke={class:"ml-0 flex mb-0 mt-0"},Re={class:"flex"},Ae={style:{"margin-top":"-4px"}},Xe=["onClick"],Ge={class:"flex",style:{height:"20px","align-items":"center"}},Je={class:"carpetas-select px-1"},We={key:0},Ze={class:"flex justify-end mt-0 mb-3",style:{"margin-top":"-2px"}},Qe={style:{color:"#0000009d","margin-top":"-6px"}},et={key:0},tt=["onDblclick"],ot={key:2,class:"flex",style:{"justify-content":"center"}},st={key:0},nt={key:1},lt={style:{background:"#476175",height:"42px","margin-left":"-24px","margin-right":"-24px","margin-top":"-24px"}},at={class:"flex justify-between ml-3 mr-1",style:{height:"36px","align-items":"center"}},it={class:"flex"},rt={style:{width:"100%"},class:"mt-4"},dt={style:{color:"#0000009d","margin-top":"-6px"}},ut={class:"mt-2",style:{width:"100%"}},ct={style:{color:"#0000009d","margin-top":"-6px"}},pt={class:"mt-2",style:{width:"100%"}},mt={style:{color:"#0000009d","margin-top":"-6px"}},vt={class:"mt-0 mb-2"},_t={style:{margin:"-24px","margin-top":"-5px"},class:"px-6 pt-4 pb-3 flex justify-end"},ft={class:"mr-2"},gt={key:1,class:"mt-3"},Yt={__name:"calificacion",setup(yt){const c=a([{id:0,nombre:"Simulacros"}]);a([]);const A=a(null),X=a([]),I=a(1),y=a(!1);a("");const v=a(null),S=a(),p=ce({nombre:"",fecha:"",ubigeo:null}),q=a(null),F=a(null),x=a(null),U=a([]);let b;const O=a("1"),B=a([]),h=a(""),G=t=>{c.value.push({id:t.id,nombre:"/ "+t.nombre}),v.value=t.id};w(F,(t,e)=>{p.ubigeo=t}),w(x,(t,e)=>{clearTimeout(b),b=setTimeout(()=>{T()},500)}),w(h,(t,e)=>{clearTimeout(b),b=setTimeout(()=>{j()},400)});const J=(t,e)=>{F.value=e.key},T=async()=>{N.post("/get-ubigeo",{term:x.value}).then(t=>{U.value=t.data.datos.data}).catch(t=>{t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)})},j=async()=>{N.post("/get-sim",{term:h.value}).then(t=>{B.value=t.data.datos.data}).catch(t=>{t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)})};j();const W=async()=>{await S.value.validateFields(),console.log("guardar")},L=async()=>{try{const t=await N.get("/raiz/ver-contenido-carpeta/"+I.value);X.value=t.data.carpetas,A.value=t.data.carpeta}catch(t){t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)}},Z=async t=>{const e=c.value.indexOf(t);e!==-1?c.value.splice(e+1,c.value.length-e):c.value.push(t),I.value=t.id};w(I,(t,e)=>{L()});const Q=t=>{k.value=!1},ee=()=>{y.value=!1};L();const k=a(!1),P=a(0),Y=a(0),te=t=>{k.value=!0,P.value=t.clientY,Y.value=t.clientX,t.preventDefault()},E=t=>{t==="1"?(y.value=!0,k.value=!1):console.log("2")},oe=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"Nombre",dataIndex:"nombre"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Vigente",dataIndex:"estado",align:"center",width:"100px"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"96px"}];return T(),(t,e)=>{const $=ge,H=ye,_=xe,se=be,ne=he,V=ke,le=we,D=Ce,ae=Ie,ie=Ee,re=$e,de=Ve,g=De,ue=ze;return i(),r(M,null,[o(d(pe),{title:"Calificación"}),o(Me,null,{default:n(()=>[s("div",He,[s("div",{class:"p-4",style:{background:"white",width:"100%","min-height":"calc(100vh - 90px)","border-radius":"12px"},onClick:Q,onContextmenu:me(te,["prevent"])},[s("div",Ke,[s("div",Re,[s("div",Ae,[o(d(Oe))]),(i(!0),r(M,null,ve(c.value,l=>(i(),r("div",{key:l.id,onClick:K=>Z(l)},[s("div",Ge,[s("div",Je,C(l.nombre),1)])],8,Xe))),128))])]),c.value.length===1?(i(),r("div",We,[s("div",Ze,[o($,{value:h.value,"onUpdate:value":e[0]||(e[0]=l=>h.value=l),style:{"max-width":"300px","border-radius":"6px",height:"36px"},placeholder:"Buscar"},{prefix:n(()=>[s("span",Qe,[o(d(Te))])]),_:1},8,["value"])]),(i(),_e(ne,{columns:oe,"data-source":B.value,key:t.id,size:"small",pagination:!1,style:{scale:".7rem"}},{bodyCell:n(({column:l,index:K,record:f})=>[l.dataIndex==="nro"?(i(),r("span",et,C(K+1),1)):m("",!0),l.dataIndex==="nombre"?(i(),r("div",{key:1,style:{width:"100%",cursor:"pointer"},onDblclick:z=>G(f)},[s("span",null,C(f.nombre),1)],40,tt)):m("",!0),l.dataIndex==="estado"?(i(),r("div",ot,[f.estado===1?(i(),r("div",st,[o(H,{color:"cyan"},{default:n(()=>e[12]||(e[12]=[u("Vigente")])),_:1})])):(i(),r("div",nt,[o(H,{color:"red"},{default:n(()=>e[13]||(e[13]=[u("No Vigente")])),_:1})]))])):m("",!0),l.dataIndex==="acciones"?(i(),r(M,{key:3},[o(_,{type:"gray",class:"mr-1",style:{color:"#476175"},onClick:z=>t.verFicha(f.id),size:"small"},{icon:n(()=>[o(d(je))]),_:2},1032,["onClick"]),o(_,{onClick:z=>t.abrirEditar(f),class:"mr-1",style:{color:"blue"},size:"small"},{icon:n(()=>[o(d(Le))]),_:2},1032,["onClick"]),o(se,{title:"¿Estas seguro de eliminar?",onConfirm:z=>t.eliminar(f)},{default:n(()=>[o(_,{shape:"",size:"small",style:{color:"crimson"}},{icon:n(()=>[o(d(Pe))]),_:1})]),_:2},1032,["onConfirm"])],64)):m("",!0)]),_:1},8,["data-source"])),k.value?(i(),r("div",{key:0,style:fe([{position:"absolute",border:"solid 1px #d9d9d943","padding-top":"0px","border-radius":"8px",overflow:"hidden"},{top:`${P.value}px`,left:`${Y.value}px`}])},[o(le,{size:"small",style:{"margin-top":"-4px","margin-bottom":"-4px"}},{default:n(()=>[o(V,{key:"1",class:"selec-menu",onClick:e[1]||(e[1]=l=>E("1"))},{default:n(()=>e[14]||(e[14]=[s("div",{style:{"margin-top":"0px"}}," Nuevo Proceso ",-1)])),_:1}),o(V,{key:"2",class:"selec-menu",onClick:e[2]||(e[2]=l=>E("2"))},{default:n(()=>e[15]||(e[15]=[s("div",{style:{"margin-top":"0px"}}," Subir archivo ",-1)])),_:1}),o(V,{key:"2",class:"selec-menu",onClick:e[3]||(e[3]=l=>E("2"))},{default:n(()=>e[16]||(e[16]=[s("div",{style:{"margin-top":"0px"}}," selees ",-1)])),_:1})]),_:1})],4)):m("",!0),o(de,{visible:y.value,"onUpdate:visible":e[10]||(e[10]=l=>y.value=l),closable:!1,centered:"",style:{},footer:!1},{default:n(()=>[s("div",lt,[s("div",at,[e[18]||(e[18]=s("div",{class:"flex pt-2"},[s("div",{class:"mt-0",style:{"margin-top":"2px"}},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 22 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-folder"},[s("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])]),s("span",{class:"ml-2",style:{"font-weight":"500",color:"white","font-size":"1rem"}},"Nuevo proceso")],-1)),s("div",null,[s("span",null,[o(_,{onClick:e[4]||(e[4]=l=>ee()),style:{background:"none",border:"none",color:"white","font-size":"1.1rem"}},{default:n(()=>e[17]||(e[17]=[u("x")])),_:1})])])])]),o(re,{ref_key:"formDatos",ref:S,name:"form",model:p,rules:t.formRules},{default:n(()=>[s("div",it,[s("div",rt,[s("div",null,[o(D,{name:"nombre",rules:[{required:!0,message:"Ingresa el nombre del proceso",trigger:"change"}]},{default:n(()=>[e[19]||(e[19]=s("label",null,[u("Nombre"),s("span",{style:{}},"*")],-1)),o($,{value:p.nombre,"onUpdate:value":e[5]||(e[5]=l=>p.nombre=l),style:{width:"100%","border-radius":"4px",height:"36px"},placeholder:"Nombre del proceso"},{prefix:n(()=>[s("span",dt,[o(d(Be))])]),_:1},8,["value"])]),_:1})]),s("div",ut,[s("label",null,[e[20]||(e[20]=u("Ubicación")),e[21]||(e[21]=s("span",{style:{color:"red"}},"*",-1)),u(" "+C(p.ubigeo),1)]),o(D,{name:"ubigeo",rules:[{required:!0,message:"Seleccione la ubicación",trigger:["change","blur"]}]},{default:n(()=>[o(ae,{value:q.value,"onUpdate:value":e[7]||(e[7]=l=>q.value=l),options:U.value,onSelect:J},{default:n(()=>[o($,{placeholder:"Procedencia del Colegio",value:x.value,"onUpdate:value":e[6]||(e[6]=l=>x.value=l),style:{"border-radius":"4px",height:"36px"}},{prefix:n(()=>[s("span",ct,[o(d(R))])]),suffix:n(()=>[o(d(Ye))]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),s("div",pt,[e[22]||(e[22]=s("label",null,[u("Fecha"),s("span",{style:{color:"red"}},"*")],-1)),o(D,{name:"fecha",rules:[{required:!0,message:"Ingresa tu fecha de nacimiento",trigger:"change"}]},{default:n(()=>[o(ie,{style:{width:"100%","border-radius":"4px",height:"36px"},placeholder:"Seleccionar fec. nacimiento",value:p.fecha,"onUpdate:value":e[8]||(e[8]=l=>p.fecha=l),format:"DD/MM/YYYY"},{prefix:n(()=>[s("span",mt,[o(d(R))])]),_:1},8,["value"])]),_:1})])])])]),_:1},8,["model","rules"]),s("div",vt,[s("div",_t,[s("div",ft,[o(_,{style:{border:"1px solid #476175",color:"#476175",width:"100px",height:"36px","border-radius":"4px"}},{default:n(()=>e[23]||(e[23]=[u(" Cancelar ")])),_:1})]),s("div",null,[o(_,{onClick:e[9]||(e[9]=l=>W()),style:{background:"#476175",border:"none",color:"white",width:"100px",height:"36px","border-radius":"4px"}},{default:n(()=>e[24]||(e[24]=[u(" Guardar ")])),_:1})])])])]),_:1},8,["visible"])])):m("",!0),c.value.length===2?(i(),r("div",gt,[o(ue,{activeKey:O.value,"onUpdate:activeKey":e[11]||(e[11]=l=>O.value=l),type:"card","tab-position":"top"},{default:n(()=>[o(g,{key:"1",tab:"Participantes",style:{margin:"-10px"}},{default:n(()=>[s("div",null,[o(Fe,{proceso:v.value},null,8,["proceso"])])]),_:1}),o(g,{key:"2",tab:"Ides",style:{margin:"-10px"}},{default:n(()=>[s("div",null,[o(Ne,{proceso:v.value},null,8,["proceso"])])]),_:1}),o(g,{key:"3",tab:"Respuestas",style:{margin:"-10px"}},{default:n(()=>[s("div",null,[o(Se,{proceso:v.value},null,8,["proceso"])])]),_:1}),o(g,{key:"4",tab:"Res correctas"},{default:n(()=>[s("div",null,[o(qe,{proceso:v.value},null,8,["proceso"])])]),_:1}),o(g,{key:"5",tab:"Calificación"},{default:n(()=>[o(Ue,{proceso:v.value},null,8,["proceso"])]),_:1})]),_:1},8,["activeKey"])])):m("",!0)],32)])]),_:1})],64)}}};export{Yt as default};
