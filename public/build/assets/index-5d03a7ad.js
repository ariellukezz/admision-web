import{a as e,A as ae,r as C,e as D,i as le,c as T,u as m,w as a,d as A,F as b,j as y,g as I,o as _,X as te,b as t,S as ue,k as L,t as g,f as O,D as oe,m as ne,n as de}from"./app-e8c4dc20.js";import{A as se}from"./AuthenticatedLayout-04e84e36.js";import{F as ie}from"./FormOutlined-189f1880.js";import"./DropdownLink-379e1d88.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";var Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};const Ae=Ie;function k(f){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?Object(arguments[s]):{},c=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),c.forEach(function(r){re(f,r,i[r])})}return f}function re(f,s,i){return s in f?Object.defineProperty(f,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):f[s]=i,f}var F=function(s,i){var c=k({},s,i.attrs);return e(ae,k({},c,{icon:Ae}),null)};F.displayName="SaveOutlined";F.inheritAttrs=!1;const ve=F,Ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Ce={class:"mr-3"},_e={class:"flex justify-between",style:{position:"relative"}},fe={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},ce={style:{"font-size":"1rem","font-weight":"bold"}},Ne={key:1,style:{"font-size":"0.95rem"}},pe=A("span",{style:{color:"blue"}},"M",-1),Oe=A("span",{style:{color:"red"}},"F",-1),me=A("label",null,"Postulante",-1),Se=A("label",null,"Programa",-1),Re={class:""},De=A("label",null,"Modalidad",-1),Te=A("label",null,"Observaciones",-1),he={__name:"index",setup(f){const s=C(null),i=C(""),c=C([]),r=C(!1),S=C(1),P=C(null),M=C(20),d=C({id:null,codigo:"",id_posulante:"",id_programa:"",id_modalidad:"",estado:!0,observacion:""}),E=C({id:"",nombre:"",dni:""});D(i,(u,o)=>{N()}),D(M,(u,o)=>{N()}),D(s,(u,o)=>{u==0&&(s.value=null),S.value=1,N()}),D(r,(u,o)=>{r.value==!1&&d.value.id!=null&&(d.value.id=null,d.value.id_posulante="",d.value.id_programa="",d.value.id_modalidad="",d.value.estado=!0,d.value.observacion="",E.value.nombre=null,E.value.dni=null,E.value.id=null)}),D(S,(u,o)=>{N()});const z=u=>{r.value=!0,d.value.id=u.id,d.value.codigo=u.codigo,d.value.id_programa=u.id_programa,d.value.id_modalidad=u.id_modalidad,d.value.observacion=u.observaciones,E.value.id=u.id_postulante,E.value.dni=u.dni,E.value.nombre=u.dni+" - "+u.nombres+" "+u.paterno+" "+u.materno},N=async()=>{let u=await y.post("get-preinscripciones-admin?page="+S.value,{term:i.value,paginashoja:M.value,programa:s.value});c.value=u.data.datos.data,P.value=u.data.datos.total},Y=()=>{let u={id:d.value.id,id_postulante:E.value.id,id_programa:d.value.id_programa,id_modalidad:d.value.id_modalidad,observacion:d.value.observacion,dni:E.value.dni};y.post("actualizar-preinscripcion",u).then(o=>{N(),h("success",o.data.titulo,o.data.mensaje),r.value=!1})},j=(u,o)=>{let l={id_postulante:u,sexo:o};y.post("actualizar-sexo-postulante",l).then(p=>{N(),h("success",p.data.titulo,p.data.mensaje),r.value=!1})},H=u=>{y.get("eliminar-modalidad/"+u.id).then(o=>{N(),h("warning",o.data.titulo,o.data.mensaje)})},Q=[{title:"DNI",dataIndex:"dni",align:"center"},{title:"Postulante",dataIndex:"postulante"},{title:"Sexo",dataIndex:"sexo",align:"center"},{title:"Programa",dataIndex:"programa"},{title:"Modalidad",dataIndex:"modalidad",align:"center"},{title:"Estado",dataIndex:"estado",align:"center"},{title:"Observación",dataIndex:"observacion"},{title:"Acciones",dataIndex:"acciones",width:"140px",align:"center"}],w=C([]),$=u=>{console.log("selectedRowKeys changed: ",u),w.value=u};le(()=>({selectedRowKeys:m(w),onChange:$,hideDefaultSelections:!0}));const h=(u,o,l)=>{de[u]({message:o,description:l})};return N(),(u,o)=>{const l=I("a-select-option"),p=I("a-select"),V=I("a-input"),Z=I("row"),x=I("a-tag"),R=I("a-button"),B=I("a-divider"),J=I("a-popconfirm"),X=I("a-table"),q=I("a-pagination"),G=I("a-form-item"),K=I("a-textarea"),W=I("a-form"),ee=I("a-modal");return _(),T(b,null,[e(m(te),{title:"Documentos"}),e(se,null,{default:a(()=>[A("div",Ee,[e(Z,{class:"flex justify-between mb-4"},{default:a(()=>[A("div",Ce,[e(p,{ref:"select",value:s.value,"onUpdate:value":o[0]||(o[0]=n=>s.value=n),placeholder:"Seleccionar programa",class:"selector-modalidad",style:{width:"200px"}},{default:a(()=>[e(l,{value:0},{default:a(()=>[t("TODOS")]),_:1}),e(l,{value:1},{default:a(()=>[t("ADMINISTRACIÓN")]),_:1}),e(l,{value:2},{default:a(()=>[t("ANTROPOLOGÍA")]),_:1}),e(l,{value:3},{default:a(()=>[t("ARQUITECTURA Y URBANISMO")]),_:1}),e(l,{value:4},{default:a(()=>[t("ARTE: ARTES PLÁSTICAS")]),_:1}),e(l,{value:5},{default:a(()=>[t("ARTE: DANZA")]),_:1}),e(l,{value:6},{default:a(()=>[t("ARTE: MÚSICA")]),_:1}),e(l,{value:8},{default:a(()=>[t("BIOLOGÍA: ECOLOGÍA")]),_:1}),e(l,{value:9},{default:a(()=>[t("BIOLOGÍA: MICROBIOLOGÍA Y LABORATORIO CLÍNICO")]),_:1}),e(l,{value:10},{default:a(()=>[t("BIOLOGÍA: PESQUERÍA")]),_:1}),e(l,{value:11},{default:a(()=>[t("CIENCIAS CONTABLES")]),_:1}),e(l,{value:12},{default:a(()=>[t("CIENCIAS DE LA COMUNICACIÓN SOCIAL")]),_:1}),e(l,{value:13},{default:a(()=>[t("CIENCIAS FÍSICO MATEMÁTICAS: FÍSICA")]),_:1}),e(l,{value:14},{default:a(()=>[t("CIENCIAS FÍSICO MATEMÁTICAS: MATEMÁTICAS")]),_:1}),e(l,{value:15},{default:a(()=>[t("DERECHO")]),_:1}),e(l,{value:16},{default:a(()=>[t("EDUCACIÓN FÍSICA")]),_:1}),e(l,{value:17},{default:a(()=>[t("EDUCACIÓN INICIAL")]),_:1}),e(l,{value:18},{default:a(()=>[t("EDUCACIÓN PRIMARIA")]),_:1}),e(l,{value:19},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE CIENCIA, TECNOLOGÍA Y AMBIENTE")]),_:1}),e(l,{value:20},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE CIENCIAS SOCIALES")]),_:1}),e(l,{value:21},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE LENGUA, LITERATURA, PSICOLOGÍA Y FILOSOFÍA")]),_:1}),e(l,{value:22},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE MATEMÁTICA, FÍSICA, COMPUTACIÓN E INFORMÁTICA")]),_:1}),e(l,{value:23},{default:a(()=>[t("ENFERMERÍA")]),_:1}),e(l,{value:24},{default:a(()=>[t("INGENIERÍA AGRÍCOLA")]),_:1}),e(l,{value:25},{default:a(()=>[t("INGENIERÍA AGROINDUSTRIAL")]),_:1}),e(l,{value:26},{default:a(()=>[t("INGENIERÍA AGRONÓMICA")]),_:1}),e(l,{value:27},{default:a(()=>[t("INGENIERÍA CIVIL")]),_:1}),e(l,{value:28},{default:a(()=>[t("INGENIERÍA DE MINAS")]),_:1}),e(l,{value:29},{default:a(()=>[t("INGENIERÍA DE SISTEMAS")]),_:1}),e(l,{value:30},{default:a(()=>[t("INGENIERÍA ECONÓMICA")]),_:1}),e(l,{value:31},{default:a(()=>[t("INGENIERÍA ELECTRÓNICA")]),_:1}),e(l,{value:32},{default:a(()=>[t("INGENIERÍA ESTADÍSTICA E INFORMÁTICA")]),_:1}),e(l,{value:33},{default:a(()=>[t("INGENIERÍA GEOLÓGICA")]),_:1}),e(l,{value:34},{default:a(()=>[t("INGENIERÍA MECÁNICA ELÉCTRICA")]),_:1}),e(l,{value:35},{default:a(()=>[t("INGENIERÍA METALÚRGICA")]),_:1}),e(l,{value:36},{default:a(()=>[t("INGENIERÍA QUÍMICA")]),_:1}),e(l,{value:37},{default:a(()=>[t("INGENIERÍA TOPOGRÁFICA Y AGRIMENSURA")]),_:1}),e(l,{value:38},{default:a(()=>[t("MEDICINA HUMANA")]),_:1}),e(l,{value:39},{default:a(()=>[t("MEDICINA VETERINARIA Y ZOOTECNIA")]),_:1}),e(l,{value:40},{default:a(()=>[t("NUTRICIÓN HUMANA")]),_:1}),e(l,{value:41},{default:a(()=>[t("ODONTOLOGÍA")]),_:1}),e(l,{value:42},{default:a(()=>[t("SOCIOLOGÍA")]),_:1}),e(l,{value:43},{default:a(()=>[t("TRABAJO SOCIAL")]),_:1}),e(l,{value:44},{default:a(()=>[t("TURISMO")]),_:1})]),_:1},8,["value"])]),A("div",_e,[e(V,{type:"text",placeholder:"Buscar",value:i.value,"onUpdate:value":o[1]||(o[1]=n=>i.value=n),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),A("div",fe,[e(m(ue))])])]),_:1}),e(X,{columns:Q,"data-source":c.value,pagination:!1,size:"small"},{bodyCell:a(({column:n,index:Le,record:v})=>[n.dataIndex==="dni"?(_(),L(x,{key:0,color:"#476175",style:{"padding-top":"3px"}},{default:a(()=>[A("span",ce,g(v.dni),1)]),_:2},1024)):O("",!0),n.dataIndex==="postulante"?(_(),T("span",Ne,g(v.paterno)+" "+g(v.materno)+", "+g(v.nombres),1)):O("",!0),n.dataIndex==="programa"?(_(),T(b,{key:2},[t(g(v.programa),1)],64)):O("",!0),n.dataIndex==="sexo"?(_(),L(p,{key:3,ref:"select",value:v.sexo,"onUpdate:value":U=>v.sexo=U,placeholder:"Seleccionar",style:{width:"60px"}},{default:a(()=>[e(l,{value:"1"},{default:a(()=>[pe]),_:1}),e(l,{value:"2"},{default:a(()=>[Oe]),_:1})]),_:2},1032,["value","onUpdate:value"])):O("",!0),n.dataIndex==="estado"?(_(),T(b,{key:4},[v.estado===0?(_(),L(x,{key:0,color:"#476175"},{default:a(()=>[t("INSCRITO")]),_:1})):(_(),L(x,{key:1,color:"#b01030"},{default:a(()=>[t("SIN INSCRIPCIÓN")]),_:1}))],64)):O("",!0),n.dataIndex==="acciones"?(_(),T(b,{key:5},[e(R,{type:"success",style:{color:"#476175"},onClick:U=>j(v.id_postulante,v.sexo),size:"small"},{icon:a(()=>[e(m(ve))]),_:2},1032,["onClick"]),e(B,{type:"vertical"}),e(R,{onClick:U=>z(v),style:{color:"blue"},size:"small"},{icon:a(()=>[e(m(ie))]),_:2},1032,["onClick"]),e(B,{type:"vertical"}),c.value.length?(_(),L(J,{key:0,title:"¿Estas seguro de eliminar?",disabled:"",onConfirm:U=>H(v)},{default:a(()=>[e(R,{shape:"",size:"small",style:{color:"crimson"}},{icon:a(()=>[e(m(oe))]),_:1})]),_:2},1032,["onConfirm"])):O("",!0)],64)):O("",!0)]),_:1},8,["data-source"]),e(q,{current:S.value,"onUpdate:current":o[2]||(o[2]=n=>S.value=n),total:P.value,pageSize:M.value,"onUpdate:pageSize":o[3]||(o[3]=n=>M.value=n),"show-less-items":""},null,8,["current","total","pageSize"])])]),_:1}),A("div",null,[e(ee,{visible:r.value,"onUpdate:visible":o[9]||(o[9]=n=>r.value=n),title:"Modificar Pre inscripción",style:{"margin-top":"-40px"}},{footer:a(()=>[e(R,{style:{"margin-left":"10px"},onClick:u.resetForm},{default:a(()=>[t("Cancelar")]),_:1},8,["onClick"]),e(R,{type:"primary",onClick:o[8]||(o[8]=n=>Y())},{default:a(()=>[t("Guardar")]),_:1})]),default:a(()=>[e(W,ne({ref:"formRef",name:"custom-validation",model:u.formState},u.layout,{onFinish:u.handleFinish,onValidate:u.handleValidate,onFinishFailed:u.handleFinishFailed}),{default:a(()=>[e(G,{"has-feedback":"",name:"nombre"},{default:a(()=>[me,e(V,{type:"text",value:E.value.nombre,"onUpdate:value":o[4]||(o[4]=n=>E.value.nombre=n)},null,8,["value"])]),_:1}),e(G,{"has-feedback":"",name:"postulante"},{default:a(()=>[Se,A("div",Re,[e(p,{ref:"select",value:d.value.id_programa,"onUpdate:value":o[5]||(o[5]=n=>d.value.id_programa=n),placeholder:"Seleccionar programa",class:"selector-modalidad",style:{width:"100%"}},{default:a(()=>[e(l,{value:0},{default:a(()=>[t("TODOS")]),_:1}),e(l,{value:1},{default:a(()=>[t("ADMINISTRACIÓN")]),_:1}),e(l,{value:2},{default:a(()=>[t("ANTROPOLOGÍA")]),_:1}),e(l,{value:3},{default:a(()=>[t("ARQUITECTURA Y URBANISMO")]),_:1}),e(l,{value:4},{default:a(()=>[t("ARTE: ARTES PLÁSTICAS")]),_:1}),e(l,{value:5},{default:a(()=>[t("ARTE: DANZA")]),_:1}),e(l,{value:6},{default:a(()=>[t("ARTE: MÚSICA")]),_:1}),e(l,{value:8},{default:a(()=>[t("BIOLOGÍA: ECOLOGÍA")]),_:1}),e(l,{value:9},{default:a(()=>[t("BIOLOGÍA: MICROBIOLOGÍA Y LABORATORIO CLÍNICO")]),_:1}),e(l,{value:10},{default:a(()=>[t("BIOLOGÍA: PESQUERÍA")]),_:1}),e(l,{value:11},{default:a(()=>[t("CIENCIAS CONTABLES")]),_:1}),e(l,{value:12},{default:a(()=>[t("CIENCIAS DE LA COMUNICACIÓN SOCIAL")]),_:1}),e(l,{value:13},{default:a(()=>[t("CIENCIAS FÍSICO MATEMÁTICAS: FÍSICA")]),_:1}),e(l,{value:14},{default:a(()=>[t("CIENCIAS FÍSICO MATEMÁTICAS: MATEMÁTICAS")]),_:1}),e(l,{value:15},{default:a(()=>[t("DERECHO")]),_:1}),e(l,{value:16},{default:a(()=>[t("EDUCACIÓN FÍSICA")]),_:1}),e(l,{value:17},{default:a(()=>[t("EDUCACIÓN INICIAL")]),_:1}),e(l,{value:18},{default:a(()=>[t("EDUCACIÓN PRIMARIA")]),_:1}),e(l,{value:19},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE CIENCIA, TECNOLOGÍA Y AMBIENTE")]),_:1}),e(l,{value:20},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE CIENCIAS SOCIALES")]),_:1}),e(l,{value:21},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE LENGUA, LITERATURA, PSICOLOGÍA Y FILOSOFÍA")]),_:1}),e(l,{value:22},{default:a(()=>[t("EDUCACIÓN SECUNDARIA DE LA ESPECIALIDAD DE MATEMÁTICA, FÍSICA, COMPUTACIÓN E INFORMÁTICA")]),_:1}),e(l,{value:23},{default:a(()=>[t("ENFERMERÍA")]),_:1}),e(l,{value:24},{default:a(()=>[t("INGENIERÍA AGRÍCOLA")]),_:1}),e(l,{value:25},{default:a(()=>[t("INGENIERÍA AGROINDUSTRIAL")]),_:1}),e(l,{value:26},{default:a(()=>[t("INGENIERÍA AGRONÓMICA")]),_:1}),e(l,{value:27},{default:a(()=>[t("INGENIERÍA CIVIL")]),_:1}),e(l,{value:28},{default:a(()=>[t("INGENIERÍA DE MINAS")]),_:1}),e(l,{value:29},{default:a(()=>[t("INGENIERÍA DE SISTEMAS")]),_:1}),e(l,{value:30},{default:a(()=>[t("INGENIERÍA ECONÓMICA")]),_:1}),e(l,{value:31},{default:a(()=>[t("INGENIERÍA ELECTRÓNICA")]),_:1}),e(l,{value:32},{default:a(()=>[t("INGENIERÍA ESTADÍSTICA E INFORMÁTICA")]),_:1}),e(l,{value:33},{default:a(()=>[t("INGENIERÍA GEOLÓGICA")]),_:1}),e(l,{value:34},{default:a(()=>[t("INGENIERÍA MECÁNICA ELÉCTRICA")]),_:1}),e(l,{value:35},{default:a(()=>[t("INGENIERÍA METALÚRGICA")]),_:1}),e(l,{value:36},{default:a(()=>[t("INGENIERÍA QUÍMICA")]),_:1}),e(l,{value:37},{default:a(()=>[t("INGENIERÍA TOPOGRÁFICA Y AGRIMENSURA")]),_:1}),e(l,{value:38},{default:a(()=>[t("MEDICINA HUMANA")]),_:1}),e(l,{value:39},{default:a(()=>[t("MEDICINA VETERINARIA Y ZOOTECNIA")]),_:1}),e(l,{value:40},{default:a(()=>[t("NUTRICIÓN HUMANA")]),_:1}),e(l,{value:41},{default:a(()=>[t("ODONTOLOGÍA")]),_:1}),e(l,{value:42},{default:a(()=>[t("SOCIOLOGÍA")]),_:1}),e(l,{value:43},{default:a(()=>[t("TRABAJO SOCIAL")]),_:1}),e(l,{value:44},{default:a(()=>[t("TURISMO")]),_:1})]),_:1},8,["value"])])]),_:1}),e(G,{"has-feedback":"",name:"tipo"},{default:a(()=>[De,e(p,{ref:"select",value:d.value.id_modalidad,"onUpdate:value":o[6]||(o[6]=n=>d.value.id_modalidad=n),placeholder:"Seleccionar programa",class:"selector-modalidad",style:{width:"100%"}},{default:a(()=>[e(l,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(l,{value:7},{default:a(()=>[t("CONADIS")]),_:1})]),_:1},8,["value"])]),_:1}),e(G,{"has-feedback":"",name:"nombre"},{default:a(()=>[Te,e(K,{type:"text",value:d.value.observacion,"onUpdate:value":o[7]||(o[7]=n=>d.value.observacion=n),autocomplete:"off"},null,8,["value"])]),_:1})]),_:1},16,["model","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible"])])],64)}}};export{he as default};
