import{r as f,x as ie,e as R,f as i,o as c,c as w,a as e,u as h,w as t,F as V,l as N,Z as ue,d as n,b as d,S as re,t as D,s as x,g as k,E as ce,D as _e,n as pe}from"./app-ce8068d7.js";import{A as me}from"./AuthenticatedLayout-885c2546.js";import{S as ve}from"./SaveOutlined-c223f1ac.js";import{F as fe}from"./FormOutlined-ad71384f.js";import"./DropdownLink-da06ef46.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";/* empty css                                                                            */import"./TeamOutlined-1ef8d01d.js";const ge={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},xe={class:"mr-3"},ye={class:"flex justify-between",style:{position:"relative"}},be={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},we={style:{width:"100%","margin-top":"-5px"}},he={style:{"font-weight":"bold","font-size":"1.2rem"}},ke={class:"flex justify-end",style:{}},Ce=n("label",null,"Estado",-1),Ie=n("label",null,"Sexo",-1),De=n("label",null,"Tipo Doc",-1),Ue={key:0},Ae=n("span",{style:{color:"red"}},"*",-1),Se={key:1},Ne=n("label",null,"Codigo",-1),Ee=n("label",null,[d("Nombres "),n("span",{style:{color:"red"}},"*")],-1),Oe=n("label",null,[d("Ap. Paterno "),n("span",{style:{color:"red"}},"*")],-1),ze=n("label",null,"Ap. Materno",-1),je=n("label",null,[d("Condición "),n("span",{style:{color:"red"}},"*")],-1),Re=n("label",null,[d("Dependencia "),n("span",{style:{color:"red"}},"*")],-1),Ve=n("label",null,"Dirección",-1),Fe=n("label",null,"Fec. Nacimiento",-1),Me=n("label",null,"Observaciones",-1),Te={class:"flex justify-end"},qe={style:{"font-size":"1rem","font-weight":"bold"}},Be={key:1,style:{"font-size":"0.95rem"}},$e=n("span",{style:{color:"blue"}},"M",-1),Ke=n("span",{style:{color:"red"}},"F",-1),Ye={class:"mt-2 flex justify-end"},Ge={class:"ml-2"},ot={__name:"Administrativo",setup(He){const y=f(!1),F=f("1"),E=f([]),M=f(null),b=f(10),U=f(""),A=f(1),T=f(),a=ie({id:null,tipo_doc:1,nro_doc:"",codigo:"",nombres:"",paterno:"",materno:"",condicion:"",dependencia:null,sexo:1,direccion:"",fec_nac:"",observacion:"",estado:!0}),q=s=>{a.nro_doc=s.target.value.replace(/\D/g,"")},Y=async()=>{try{const s=await T.value.validateFields(),o=await N.post("save-administrativo",a);o.status===202?console.log(o.data.errors):(g(),O("success",o.data.titulo,o.data.mensaje),y.value=!1,S())}catch(s){console.error(s)}},g=async()=>{let s=await N.post("get-administrativos?page="+A.value,{term:U.value,paginashoja:b.value});E.value=s.data.datos.data,M.value=s.data.datos.total},G=s=>{N.post("eliminar-administrativo",{id:s.id}).then(o=>{g(),O("warning",o.data.titulo,o.data.mensaje)})};f({id:null,codigo:"",id_posulante:"",id_programa:"",id_modalidad:"",estado:!0,observacion:""});const H=(s,o)=>{let p={id_postulante:s,sexo:o};N.post("actualizar-sexo-administrativo",p).then(m=>{g(),S(),O("success",m.data.titulo,m.data.mensaje)})},O=(s,o,p)=>{pe[s]({message:o,description:p})},L=()=>{S(),y.value=!0},P=()=>{y.value=!1,S()},B=s=>{a.id=s.id,a.tipo_doc=1,a.nro_doc=s.dni,a.codigo=s.codigo,a.nombres=s.nombres,a.paterno=s.paterno,a.materno=s.materno,a.condicion=s.condicion,a.dependencia=s.dependencia,a.sexo=parseInt(s.sexo),a.direccion=s.direccion,a.fec_nac=s.fec_nac,a.observacion=s.observacion,s.estado===1?a.estado=!0:a.estado=!1,y.value=!0},S=()=>{a.id=null,a.tipo_doc=1,a.nro_doc=null,a.codigo=null,a.nombres=null,a.paterno=null,a.materno=null,a.condicion=null,a.dependencia=null,a.sexo=1,a.direccion=null,a.fec_nac=null,a.observacion=null,a.estado=!0};R(A,(s,o)=>{g()}),R(U,(s,o)=>{g()}),R(b,(s,o)=>{g()});const X=[{title:"DNI",dataIndex:"dni",align:"center",width:"90px"},{title:"Codigo",dataIndex:"codigo",align:"center"},{title:"Administrativo",dataIndex:"nombres"},{title:"Sexo",dataIndex:"sexo",align:"center"},{title:"Dependencia",dataIndex:"dependencia_name"},{title:"Condición",dataIndex:"tipo_empleo",align:"center"},{title:"Estado",dataIndex:"estado",align:"center"},{title:"Acciones",dataIndex:"acciones",width:"160px",align:"center"}];return g(),(s,o)=>{const p=i("a-button"),m=i("a-input"),Z=i("row"),J=i("a-switch"),$=i("a-divider"),K=i("a-radio"),Q=i("a-radio-group"),u=i("a-select-option"),C=i("a-select"),v=i("a-form-item"),r=i("a-col"),W=i("a-date-picker"),ee=i("a-textarea"),z=i("a-row"),te=i("a-form"),ae=i("a-tab-pane"),oe=i("a-tabs"),le=i("a-modal"),j=i("a-tag"),ne=i("a-popconfirm"),se=i("a-table"),de=i("a-pagination");return c(),w(V,null,[e(h(ue),{title:"Administrativo"}),e(me,null,{default:t(()=>[n("div",ge,[e(Z,{class:"flex justify-between mb-4"},{default:t(()=>[n("div",xe,[e(p,{type:"success",onClick:L},{default:t(()=>[d("Nuevo")]),_:1})]),n("div",ye,[e(m,{type:"text",placeholder:"Buscar",value:U.value,"onUpdate:value":o[0]||(o[0]=l=>U.value=l),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),n("div",be,[e(h(re))])])]),_:1}),e(le,{visible:y.value,"onUpdate:visible":o[17]||(o[17]=l=>y.value=l),style:{"margin-top":"-40px",width:"100%",display:"flex","justify-content":"center"},footer:!1},{default:t(()=>[n("div",we,[n("h1",he,D(a.id===null?"Nuevo administrativo":"Editar administrativo"),1)]),e(oe,{activeKey:F.value,"onUpdate:activeKey":o[16]||(o[16]=l=>F.value=l),type:"card",size:"small"},{default:t(()=>[e(ae,{key:"1",tab:"Datos del Administrativo"},{default:t(()=>[e(z,{style:{"max-width":"1000px",display:"flex","justify-content":"center"}},{default:t(()=>[e(r,{span:24},{default:t(()=>[e(te,{ref_key:"formDatos",ref:T,name:"form",model:a,rules:s.formRules},{default:t(()=>[e(z,{gutter:16},{default:t(()=>[e(r,{xs:24,sm:12,md:24,lg:24},{default:t(()=>[n("div",ke,[n("div",null,[Ce,n("div",null,[e(J,{checked:a.estado,"onUpdate:checked":o[1]||(o[1]=l=>a.estado=l)},null,8,["checked"])])]),e($,{type:"vertical",style:{height:"60px"}}),n("div",null,[Ie,n("div",null,[e(Q,{value:a.sexo,"onUpdate:value":o[2]||(o[2]=l=>a.sexo=l),name:"radioGroup"},{default:t(()=>[e(K,{value:1},{default:t(()=>[d("M")]),_:1}),e(K,{value:2},{default:t(()=>[d("F")]),_:1})]),_:1},8,["value"])])]),e($,{type:"vertical",style:{height:"60px"}}),n("div",null,[De,e(v,{name:"tipo_doc",rules:[{required:!0,message:"Escoja el tipo",trigger:"change"}]},{default:t(()=>[n("div",null,[e(C,{value:a.tipo_doc,"onUpdate:value":o[3]||(o[3]=l=>a.tipo_doc=l),style:{width:"120px"}},{default:t(()=>[e(u,{value:1},{default:t(()=>[d("DNI")]),_:1}),e(u,{value:2},{default:t(()=>[d("Carnet. Ext")]),_:1})]),_:1},8,["value"])])]),_:1})])])]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[a.tipo_doc===1?(c(),w("label",Ue,[d("DNI "),Ae])):(c(),w("label",Se,"N° CARNET EXT.")),e(v,{name:"nro_doc",rules:[{required:!0,message:"Ingrese el N° de documento"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:t(()=>[a.tipo_doc===1?(c(),x(m,{key:0,value:a.nro_doc,"onUpdate:value":o[4]||(o[4]=l=>a.nro_doc=l),onInput:q,maxlength:8},null,8,["value"])):(c(),x(m,{key:1,value:a.nro_doc,"onUpdate:value":o[5]||(o[5]=l=>a.nro_doc=l),onInput:q,maxlength:12},null,8,["value"]))]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[Ne,e(v,null,{default:t(()=>[e(m,{value:a.codigo,"onUpdate:value":o[6]||(o[6]=l=>a.codigo=l)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[Ee,e(v,{name:"nombres",rules:[{required:!0,message:"Ingrese los nombres"}]},{default:t(()=>[e(m,{value:a.nombres,"onUpdate:value":o[7]||(o[7]=l=>a.nombres=l)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[Oe,e(v,{name:"paterno",rules:[{required:!0,message:"Ingrese el primer apellido"}]},{default:t(()=>[e(m,{value:a.paterno,"onUpdate:value":o[8]||(o[8]=l=>a.paterno=l)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[ze,e(v,null,{default:t(()=>[e(m,{value:a.materno,"onUpdate:value":o[9]||(o[9]=l=>a.materno=l)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[je,e(v,{name:"condicion",rules:[{required:!0,message:"Ingrese la condición del administrativo"}]},{default:t(()=>[e(C,{value:a.condicion,"onUpdate:value":o[10]||(o[10]=l=>a.condicion=l),style:{width:"100%"}},{default:t(()=>[e(u,{value:1},{default:t(()=>[d("NOMBRADO")]),_:1}),e(u,{value:2},{default:t(()=>[d("CONTRATADO")]),_:1}),e(u,{value:3},{default:t(()=>[d("CAS")]),_:1}),e(u,{value:4},{default:t(()=>[d("LOCACIÓN")]),_:1}),e(u,{value:5},{default:t(()=>[d("R. H.")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[Re,e(v,{name:"dependencia",rules:[{required:!0,message:"Seleccione la dependencia"}]},{default:t(()=>[e(C,{value:a.dependencia,"onUpdate:value":o[11]||(o[11]=l=>a.dependencia=l),placeholder:"Seleccionar dependencia"},{default:t(()=>[e(u,{value:1},{default:t(()=>[d("RECTORADO")]),_:1}),e(u,{value:2},{default:t(()=>[d("VICERRECTORADO")]),_:1}),e(u,{value:3},{default:t(()=>[d("DIRECCIÓN DE ADMISIÓN")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:16,lg:18},{default:t(()=>[Ve,e(v,null,{default:t(()=>[e(m,{value:a.direccion,"onUpdate:value":o[12]||(o[12]=l=>a.direccion=l)},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:8,lg:6},{default:t(()=>[Fe,e(v,null,{default:t(()=>[e(W,{style:{width:"100%"},placeholder:"Seleccionar fec. nacimiento",value:a.fec_nac,"onUpdate:value":o[13]||(o[13]=l=>a.fec_nac=l),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(r,{xs:24,sm:12,md:24,lg:24},{default:t(()=>[Me,e(v,null,{default:t(()=>[e(ee,{value:a.observacion,"onUpdate:value":o[14]||(o[14]=l=>a.observacion=l)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(r,{span:24},{default:t(()=>[n("div",Te,[e(p,{class:"mr-4",onClick:o[15]||(o[15]=l=>P())},{default:t(()=>[d(" Cancelar ")]),_:1}),e(p,{type:"primary",onClick:Y},{default:t(()=>[d("Guardar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["visible"]),e(se,{columns:X,"data-source":E.value,pagination:!1,size:"small"},{bodyCell:t(({column:l,index:Le,record:_})=>[l.dataIndex==="dni"?(c(),x(j,{key:0,color:"#476175",style:{"padding-top":"3px"}},{default:t(()=>[n("span",qe,D(_.dni),1)]),_:2},1024)):k("",!0),l.dataIndex==="nombres"?(c(),w("span",Be,D(_.paterno)+" "+D(_.materno)+", "+D(_.nombres),1)):k("",!0),l.dataIndex==="sexo"?(c(),x(C,{key:2,ref:"select",value:_.sexo,"onUpdate:value":I=>_.sexo=I,placeholder:"Seleccionar",style:{width:"60px"}},{default:t(()=>[e(u,{value:"1"},{default:t(()=>[$e]),_:1}),e(u,{value:"2"},{default:t(()=>[Ke]),_:1})]),_:2},1032,["value","onUpdate:value"])):k("",!0),l.dataIndex==="estado"?(c(),w(V,{key:3},[_.estado===1?(c(),x(j,{key:0,color:"cyan"},{default:t(()=>[d("Habilitado")]),_:1})):(c(),x(j,{key:1,color:"purple"},{default:t(()=>[d("Desabilitado")]),_:1}))],64)):k("",!0),l.dataIndex==="acciones"?(c(),w(V,{key:4},[e(p,{class:"mr-1",onClick:I=>B(_),style:{color:"#006d89"},size:"small"},{icon:t(()=>[e(h(ce))]),_:2},1032,["onClick"]),e(p,{type:"success",class:"mr-1",style:{color:"#409866"},onClick:I=>H(_.id,_.sexo),size:"small"},{icon:t(()=>[e(h(ve))]),_:2},1032,["onClick"]),e(p,{class:"mr-1",onClick:I=>B(_),style:{color:"blue"},size:"small"},{icon:t(()=>[e(h(fe))]),_:2},1032,["onClick"]),E.value.length?(c(),x(ne,{key:0,title:"¿Seguro de eliminar?","ok-text":"Si","cancel-text":"No",onConfirm:I=>G(_)},{default:t(()=>[e(p,{shape:"",size:"small",style:{color:"crimson"}},{icon:t(()=>[e(h(_e))]),_:1})]),_:2},1032,["onConfirm"])):k("",!0)],64)):k("",!0)]),_:1},8,["data-source"]),n("div",Ye,[e(de,{current:A.value,"onUpdate:current":o[18]||(o[18]=l=>A.value=l),total:M.value,pageSize:b.value,"onUpdate:pageSize":o[19]||(o[19]=l=>b.value=l),"show-less-items":""},null,8,["current","total","pageSize"]),n("div",Ge,[e(C,{value:b.value,"onUpdate:value":o[20]||(o[20]=l=>b.value=l),placeholder:"Seleccionar dependencia"},{default:t(()=>[e(u,{value:10},{default:t(()=>[d("10")]),_:1}),e(u,{value:20},{default:t(()=>[d("20")]),_:1}),e(u,{value:100},{default:t(()=>[d("100")]),_:1})]),_:1},8,["value"])])])])]),_:1})],64)}}};export{ot as default};
