import{_ as ka}from"./logotiny-c4b525af.js";import{_ as Ma}from"./logoDAD-c76d0a0b.js";import{_ as Ba}from"./_plugin-vue_export-helper-c27b6911.js";import{f as A,o as y,s as V,w as b,a as h,d as s,t as L,L as Fa,p as Oa,h as $a,r as e,x as m,e as p,q as Ta,c as W,u as za,g as Ua,F as Y,Z as qa,b as aa,i as Ha,I as ea}from"./app-deedab26.js";import Ka from"./certificado-7e75a80b.js";const R=g=>(Oa("data-v-b9ea431b"),g=g(),$a(),g),Xa={class:"headPre"},Za=R(()=>s("div",{class:"flex justify-between mb-2 logo-container"},[s("div",{class:"logoPre"},[s("img",{src:ka,class:"logo-img"}),s("div",{class:"x"},[s("div",{class:"container-pre"},[s("span",{class:"puntajex"},"DIRECCIÓN DE")]),s("h1",{class:"logoPreAD"},"ADMISIÓN")]),s("img",{src:Ma,class:"logo-img"})])],-1)),Ga={class:"flex justify-center title-proceso-container"},Ja={class:"title-proceso text-center"},Qa=R(()=>s("div",{class:"flex justify-center titulo-pre"},[s("div",null,[s("div",{class:"flex justify-center",style:{height:"40px"}},[s("hr",{class:"line-pre mr-2"}),s("span",{style:{"font-size":"1.4rem"}},"Resultados"),s("hr",{class:"line-pre ml-2"})])])],-1)),Wa=R(()=>s("div",{style:{background:"#267ec5ea",height:"3px",width:"100%"}},null,-1)),Ya={class:"container"},ae={__name:"LayoutPuntaje",props:["nombre"],setup(g){return(k,D)=>{const M=A("a-layout-content"),u=A("a-layout");return y(),V(u,{style:{"min-height":"100vh"}},{default:b(()=>[h(u,null,{default:b(()=>[s("div",Xa,[Za,s("div",Ga,[s("span",Ja,"EXAMEN "+L(g.nombre),1)]),Qa]),Wa,h(M,{class:"content flex justify-center"},{default:b(()=>[s("div",Ya,[Fa(k.$slots,"default",{},void 0,!0)])]),_:3})]),_:3})]),_:3})}}},ee=Ba(ae,[["__scopeId","data-v-b9ea431b"]]),oe={class:"container"},le={__name:"index",props:["procceso_seleccionado"],emits:["ejecutarFuncionHijo"],setup(g,{emit:k}){const D=e([]);(async()=>{let a=await axios.get("/get-puntajes-maximos-proceso/"+r.procceso_seleccionado.id);a.data.estado==!0&&(D.value=a.data.datos)})();const u=e(!0);e(!1);const oa=e(""),ta=e(!1);e(!0),e(!1),e(!1);const P=e("1"),sa=e(0);e(0),e(2);const _=e(0);e("");const da=e(),d=m({dni:"",codigo_secreto:""});e();const o=m({id:null,tipo_doc:1,primerapellido:"",segundo_apellido:"",nombres:"",estado_civil:null,sexo:null,correo:"",celular:"",fec_nacimiento:"",ubigeo:"",ubigeo_residencia:""});e();const i=m({pais:"",dep:null,prov:null,dist:null,direccion:""});e();const v=m({id_colegio:null,egreso:null,pais:125,dep:null,prov:null,dist:null,colegio:""});e();const n=m({id:null,tipo_apoderado:1,dni:null,nombres:null,paterno:null,materno:null});e();const l=m({tipo_apoderado:2,dni:null,nombres:null,paterno:null,materno:null});e();const j=m({modalidad:null,programa:null,tipo_certificado:null,codigo_medico:null,codigo_certificado:null}),ia=e([]),na=e([]),B=e(""),F=e(""),E=e(""),O=e("");p(B,(a,t)=>{U()}),p(F,(a,t)=>{q()});const la=e([]),ra=e([]),ca=e(""),pa=e(""),$=e(null),ua=e(null);p(ca,(a,t)=>{wa()}),p(pa,(a,t)=>{Ca()}),e([]),e([]),e(""),e("");const T=e(""),_a=e("");e([]),p(()=>n.dni,(a,t)=>{a.length==8&&H(1)}),p(()=>l.dni,(a,t)=>{a.length==8&&H(2)}),p(()=>j.tipo_certificado,(a,t)=>{a==="CERTIFICADO AMARILLO"&&(P.value="1"),a==="CERTIFICADO BLANCO"&&(P.value="2"),a==="CONSTANCIA DE ESTUDIOS"&&(P.value="3"),ta.value=!0}),p(()=>d.dni,(a,t)=>{a&&a.length==8&&(ya(),J&&(J.value=[]),c.value=[],f.value=[])}),e(!1);const ga=e([]),ma=async()=>{let a=await axios.get("/get-select-modalidad-proceso/"+r.procceso_seleccionado.id);ga.value=a.data.datos};p(()=>j.modalidad,(a,t)=>{fa()});const va=e([]),fa=async()=>{let a=await axios.post("/get-select-programas-proceso",{id_modalidad:j.modalidad,id_proceso:r.procceso_seleccionado.id});va.value=a.data.datos},w=e(0),ba=()=>{const a="70ab1cd1b9b452982370381fd0be605c85ddc8795aed972afca143fee05fde43";axios.get(`https://apiperu.dev/api/dni/${d.dni}`,{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}).then(t=>{const x=t.data;o.primerapellido=x.data.apellido_paterno,o.segundo_apellido=x.data.apellido_materno,o.nombres=x.data.nombres}).catch(t=>{console.error(t)}),ha()},xa=async()=>{_.value==0&&await da.value.validateFields();let a=await axios.post("/get-postulante-datos-personales",{nro_doc:d.dni,ubigeo:d.ubigeo});a.data.datos&&a.data.datos.length>0?(o.id=a.data.datos[0].id,o.primerapellido=a.data.datos[0].primer_apellido,o.segundo_apellido=a.data.datos[0].segundo_apellido,o.nombres=a.data.datos[0].nombres,o.estado_civil=a.data.datos[0].estado_civil,o.sexo=a.data.datos[0].sexo,o.correo=a.data.datos[0].correo,o.celular=a.data.datos[0].celular,a.data.datos[0].fec_nacimiento&&(o.fec_nacimiento=ea(a.data.datos[0].fec_nacimiento)),o.ubigeo=a.data.datos[0].ubigeo,i.direccion=a.data.datos[0].direccion,E.value=a.data.datos[0].dep,i.dep=a.data.datos[0].departamento,$.value=a.data.datos[0].prov,i.prov=a.data.datos[0].provincia,T.value=a.data.datos[0].dist,i.dist=a.data.datos[0].distrito,i.pais=a.data.datos[0].id_pais,o.ubigeo_residencia=a.data.datos[0].ubigeo_residencia,o.ubigeo=a.data.datos[0].ubigeo,i.direccion=a.data.datos[0].direccion,_.value=1):(ba(),_.value=1)},C=async()=>{let a=await axios.post("/get-postulante-datos-personales2",{nro_doc:d.dni});a.data.datos.length>0&&(o.id=a.data.datos[0].id,o.tipo_doc=a.data.datos[0].tipo_doc,o.primerapellido=a.data.datos[0].primer_apellido,o.segundo_apellido=a.data.datos[0].segundo_apellido,o.nombres=a.data.datos[0].nombres,o.estado_civil=a.data.datos[0].estado_civil,o.sexo=a.data.datos[0].sexo,o.correo=a.data.datos[0].correo,o.celular=a.data.datos[0].celular,a.data.datos[0].fec_nacimiento&&(o.fec_nacimiento=ea(a.data.datos[0].fec_nacimiento)),d.ubigeo=a.data.datos[0].ubigeo,i.direccion=a.data.datos[0].direccion,E.value=a.data.datos[0].dep,i.dep=a.data.datos[0].departamento,$.value=a.data.datos[0].prov,i.prov=a.data.datos[0].provincia,T.value=a.data.datos[0].dist,i.pais=a.data.datos[0].id_pais,i.dist=a.data.datos[0].distrito,o.ubigeo_residencia=a.data.datos[0].ubigeo_residencia,o.ubigeo=a.data.datos[0].ubigeo,i.direccion=a.data.datos[0].direccion)},z=e(null),ya=async()=>{z.value=null;let a=await axios.get("/get-paso-registrado/"+r.procceso_seleccionado.id+"/"+d.dni);a.data.estado==!0?(z.value=a.data.datos,await C(),a.data.datos.nro==6?Va():_.value=a.data.datos.nro):(X.value=!0,u.value=!0,Pa())},ha=async()=>{await axios.post("/save-postulante-dni",{tipo_doc:o.tipo_doc,nro_doc:d.dni,ubigeo_nacimiento:d.ubigeo,paterno:o.primerapellido,materno:o.segundo_apellido,nombres:o.nombres}),C()};p(_,(a,t)=>{_===2&&(xa(),U()),a===3&&(q(),Ia()),a===4&&Aa(),a===5&&o.id&&Da(),a===6&&ma()});const U=async()=>{let a=await axios.post("/get-departamentos-codigo?page=",{term:B.value});ia.value=a.data.datos.data},q=async()=>{let a=await axios.post("/get-departamentos-codigo?page=",{term:F.value});na.value=a.data.datos.data},wa=async a=>{let t=await axios.post("/get-provincias-codigo?page=",{departamento:E.value});la.value=t.data.datos},Ca=async a=>{let t=await axios.post("/get-provincias-codigo?page=",{departamento:O.value});ra.value=t.data.datos},H=async a=>{if(a==1){let t=await axios.post("/get-apoderado-dni",{dni:n.dni});t.data.estado===!0?(n.dni=t.data.datos.dni,n.nombres=t.data.datos.nombres,n.paterno=t.data.datos.paterno,n.materno=t.data.datos.materno):getpadreApi()}else{let t=await axios.post("/get-apoderado-dni",{dni:l.dni});t.data.estado===!0?(l.dni=t.data.datos.dni,l.nombres=t.data.datos.nombres,l.paterno=t.data.datos.paterno,l.materno=t.data.datos.materno):getmadreApi()}},Ia=async()=>{const a=await axios.post("/get-ubigeo-colegio",{id_postulante:o.id});console.log(":::",a.data),a.data&&(v.egreso=a.data[0].egreso,v.id_colegio=a.data[0].value,oa.value=a.data[0].label,v.dep=a.data[0].departamento,O.value=a.data[0].dep,v.prov=a.data[0].provincia,ua.value=a.data[0].prov,v.dist=a.data[0].distrito,_a.value=a.data[0].dist)},Aa=async()=>{const a=await axios.post("/get-apoderado",{id_postulante:o.id,tipo:1});a.data.datos.length!==0&&(n.id=a.data.datos[0].id,n.tipo_apoderado=a.data.datos[0].tipo_apoderado,n.dni=a.data.datos[0].nro_documento,n.nombres=a.data.datos[0].nombres,n.paterno=a.data.datos[0].paterno,n.materno=a.data.datos[0].materno)},Da=async()=>{const a=await axios.post("/get-apoderado",{id_postulante:o.id,tipo:2});a.data.datos.length!==0&&(l.id=a.data.datos[0].id,l.dni=a.data.datos[0].nro_documento,l.nombres=a.data.datos[0].nombres,l.paterno=a.data.datos[0].paterno,l.materno=a.data.datos[0].materno)};e(null),e(null),e(null),e(0),e(null),e(null);const r=g,K=e(null),I=e(!1);e(null),e([]);const Pa=async()=>{w.value=0;try{let a=await axios.get("/get-sancionado/"+d.dni+"/"+r.procceso_seleccionado.id);if(K.value=a.data.datos,K.value!=null){c.value=[],u.value=!1,I.value=!0,f.value=[];return}else Na()}catch(a){console.error("Error al obtener datos de sancionado",a)}},c=e(null),ja=async()=>{c.value=[];try{let a=await axios.get("/get-participante-cepre/"+d.dni);if(a.data.estado===!0)c.value=a.data.datos,o.tipo_doc=1,o.nombres=c.value.nombres,o.primerapellido=c.value.paterno,o.segundo_apellido=c.value.materno,o.sexo=c.value.sexo,o.ubigeo_residencia=c.value.codigo_distrito,v.egreso=c.value.anio_egreso,w.value=1,Z(),C();else{u.value=!1,I.value=!0;return}}catch(a){console.error("Error al obtener datos del participante",a)}},Ea=e(null),Sa=async()=>{let a=await axios.get("/generar-captcha");Ea.value=a.data.captcha},S=e(0),Na=async()=>{S.value=0;try{(await axios.get("/participa-proceso/"+r.procceso_seleccionado.id+"/"+d.dni)).data.estado===!0?(S.value=1,X.value=!1,u.value=!1,_.value=7):r.procceso_seleccionado.id_modalidad_proceso==2?(await ja(),w.value=1):(Z(),C(),w.value=1)}catch(a){console.error("Error al obtener datos del participante",a)}},Va=async()=>{S.value=0;try{(await axios.get("/participa-proceso/"+r.procceso_seleccionado.id+"/"+d.dni)).data.estado===!0?_.value=7:_.value=6}catch(a){console.error("Error al obtener datos del participante",a)}};Sa();const X=e(!1),N=e(null),f=e([]),Z=async()=>{N.value=null;const a=await axios.get("/get-data-prisma/"+d.dni);a.data.estado===!0&&(N.value=a.data.datos),La()},La=async()=>{try{const a=await axios.post("/get-carreras-previas",{participante:N.value,formState:d.dni});if(a.data.mensaje==="No tiene carreras previas"){const t=a.data.anteriores;f.value=[],u.value=t.loading,I.value=t.modalSancionado,G.value=t.confirmacion}else u.value=!1,f.value=a.data.anteriores,I.value=!1,G.value=!1}catch(a){console.error("Error fetching data: ",a)}},G=e(null),J=Ta(()=>{if(f.value)return f.value.filter(a=>a.selected)});return e({}),(a,t)=>{const x=A("a-col"),Ra=A("a-row");return y(),W(Y,null,[h(za(qa),{title:"Resultados"}),sa.value===0?(y(),V(ee,{key:0,nombre:r.procceso_seleccionado.nombre},{default:b(()=>[aa(L(r.procceso_seleccionado.id)+" ",1),s("div",oe,[h(Ra,{gutter:[16,0],class:"form-row mb-0"},{default:b(()=>[(y(!0),W(Y,null,Ha(D.value,Q=>(y(),V(x,{key:Q,span:24,md:24,lg:12,xl:8,xxl:8},{default:b(()=>[aa(L(Q),1)]),_:2},1024))),128))]),_:1})]),h(Ka,{id_proceso:r.procceso_seleccionado.id,dni:"70757838"},null,8,["id_proceso"])]),_:1},8,["nombre"])):Ua("",!0)],64)}}};export{le as default};
