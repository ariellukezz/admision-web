import{r as s,e as h,f as n,o as _,c as g,a as o,u as z,w as i,F as q,l as x,Z as R,d as l,S as D,t as u,g as S,i as E,s as G,G as J}from"./app-996ad603.js";import{A as Z}from"./LayoutDocente-e4184f48.js";import"./DropdownLink-cf057a68.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-b023e7ed.js";const H={style:{}},K={class:"mb-2 flex justify-end"},M={key:0,class:"flex"},Q={style:{"text-transform":"uppercase","font-size":".9rem"}},T={key:1,style:{height:"20px"}},W={style:{display:"none"}},X={style:{height:"20px","border-right":"1px #d9d9d9 solid","margin-right":"10px","padding-right":"20px"}},Y={class:"flex justify-end"},$=["src"],re={__name:"postulantes",setup(ee){const V=s([]),y=s(!1),C=s(""),r=s(""),b=s(0),d=s(1),c=s(20),k=s([]),f=s([]),m=async()=>{let t=await x.post("get-postulantes-requisitos?page="+d.value,{term:r.value,paginasize:c.value});w.value=t.data.datos.data,b.value=t.data.datos.total},B=async()=>{let t=await x.get("get-requisitos");k.value=t.data.datos};h(r,(t,e)=>{m()}),h(d,(t,e)=>{m()}),h(c,(t,e)=>{m()});const w=s([]);m(),B(),(async()=>{let t=await x.post("get-certificados-revision?page="+d.value,{term:r.value,paginasize:c.value});V.value=t.data.datos.data})();const N=[{title:"Nombres",dataIndex:"nombres",key:"nombres",align:"left",width:"400px"},{title:"Requisitos",dataIndex:"requisitos",key:"requisitos"}];return(t,e)=>{const O=n("a-input"),U=n("a-checkbox"),I=n("a-checkbox-group"),j=n("a-table"),A=n("a-pagination"),F=n("a-card"),L=n("a-modal");return _(),g(q,null,[o(z(R),{title:"Postulantes"}),o(Z,null,{default:i(()=>[l("div",H,[o(F,{style:{background:"white"},class:"m-0 p-0"},{default:i(()=>[l("div",K,[o(O,{placeholder:"Buscar",value:r.value,"onUpdate:value":e[0]||(e[0]=a=>r.value=a),style:{"max-width":"300px"}},{suffix:i(()=>[o(z(D))]),_:1},8,["value"])]),l("div",null,[o(j,{size:"small",dataSource:w.value,columns:N,pagination:!1},{bodyCell:i(({column:a,text:ae,record:p})=>[a.dataIndex==="nombres"?(_(),g("div",M,[l("span",Q,u(p.dni)+" "+u(p.nombres)+" "+u(p.paterno)+" "+u(p.materno),1)])):S("",!0),a.dataIndex==="requisitos"?(_(),g("div",T,[l("div",W,u(f.value=JSON.parse(p.requisitos)),1),o(I,{value:f.value,"onUpdate:value":e[1]||(e[1]=v=>f.value=v),class:"checkbox-group-vertical"},{default:i(()=>[(_(!0),g(q,null,E(k.value,(v,P)=>(_(),G(U,{key:v.value,value:v.value,class:J([{"first-item":P===0},"checkbox-item"])},{default:i(()=>[l("div",X,u(v.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])):S("",!0)]),_:1},8,["dataSource"]),l("div",Y,[o(A,{current:d.value,"onUpdate:current":e[2]||(e[2]=a=>d.value=a),pageSize:c.value,"onUpdate:pageSize":e[3]||(e[3]=a=>c.value=a),total:b.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})]),o(L,{width:"80%",height:"90%",visible:y.value,"onUpdate:visible":e[4]||(e[4]=a=>y.value=a),title:"Certificado",style:{"margin-top":"-70px"},onOk:t.handleOk},{default:i(()=>[l("iframe",{src:C.value,width:"100%",height:"450px"},null,8,$)]),_:1},8,["visible","onOk"])]),_:1})],64)}}};export{re as default};
