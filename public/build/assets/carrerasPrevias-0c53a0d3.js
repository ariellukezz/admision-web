import{_ as C}from"./Veterinaria-38d4ac30.js";import{r as p,C as b,o as u,c as f,d as t,a as c,w as n,t as i,y as d,m as P,B as k,F as E,s as j,E as I,R as N,b as B,l as T}from"./app-50495fa5.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const S={class:"flex justify-center"},z={style:{width:"100%",background:"#cdcdcdc","max-width":"1000px","margin-top":"20px"}},R=["onClick"],V={style:{display:"flex","justify-content":"space-between",width:"100%","align-items":"center"}},q={style:{width:"calc(100% - 50px)"}},A={style:{"font-size":".8rem","text-transform":"capitalize"}},F={__name:"carrerasPrevias",setup($){const s=p(null),l=p("76701665"),a=p([{codigo:"150570",career:"Ing. de Sistemas",cod_car:39},{codigo:"164098",career:"Enfermería",cod_car:23},{codigo:"202341",career:"Nutricion",cod_car:27}]),g=async()=>{s.value=null;const e=await d.get("/get-data-prisma/"+l.value);e.estado===!0&&(s.value=e.data.datos),y()},y=async()=>{if(console.log(l.value),s.value!=null){const e=await d.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:s.value.dni,nom_:s.value.nombre,app_:s.value.paterno,apm_:s.value.materno},{headers:{"Content-Type":"application/json"}});a.value=e.data}else{const e=await d.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:l.value,nom_:"DIRECCIÓN",app_:"ADMISIÓN",apm_:"UNAP"},{headers:{"Content-Type":"application/json"}});a.value=e.data}};g();const x=async()=>{d.post("/registrar-carreras-previas",{carreras:_.value,dni:l.value}).then(e=>{confirmarcion.value=e.data.estado}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},h=e=>{e.selected=!e.selected},_=b(()=>{if(a.value)return a.value.filter(e=>e.selected)});return(e,r)=>{const v=T,m=P,w=k;return u(),f("div",S,[t("div",z,[c(m,{style:{display:"flex","justify-content":"center"},class:"pb-0"},{default:n(()=>[c(v,{span:24},{default:n(()=>[c(m,{gutter:16,style:{display:"fleX","justify-content":"center"}},{default:n(()=>[(u(!0),f(E,null,j(a.value,o=>(u(),I(v,{key:o,xs:24,sm:24,md:24,lg:24,style:{"margin-bottom":"10px"}},{default:n(()=>[t("div",{onClick:L=>h(o),class:N([{selected:o.selected},"flex p-4"]),style:{height:"80px","border-radius":"5px",cursor:"pointer",border:"solid 1px #d9d9d9","align-items":"center"}},[t("div",V,[t("div",q,[t("span",A,i(o.career),1)]),r[1]||(r[1]=t("div",{class:"flex justify-center",style:{width:"50px",height:"60px","align-items":"center"}},[t("img",{src:C,width:"50px"})],-1))])],10,R)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t("div",null,[t("pre",null," "+i(s.value)+" ",1)]),t("p",null,"Elementos seleccionados: "+i(_.value),1),t("div",null,[t("pre",null," "+i(a.value)+" ",1)]),t("div",null,[c(w,{onClick:r[0]||(r[0]=o=>x())},{default:n(()=>r[2]||(r[2]=[B("Registrar")])),_:1})])])])}}},G=D(F,[["__scopeId","data-v-59b86e6f"]]);export{G as default};
