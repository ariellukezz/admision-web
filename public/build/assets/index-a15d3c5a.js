import{r as i,J as Ie,e as b,o as g,c as U,a as l,u as x,w as o,F as ee,y as C,a2 as le,Z as Ee,d as s,E as D,b as u,t as F,f as S,n as we,I as Ue,_ as Ce,S as De,j as Se,B as ke,H as Ne,h as Ae,i as Re,m as Oe,T as Ve,U as qe,k as Fe,g as Pe,l as je,V as Be,K as Ke,L as Le,q as Me,M as Te}from"./app-a1cd82ed.js";import{L as Ye}from"./LayoutSimulacro-7a189e9b.js";import{_ as ze}from"./_plugin-vue_export-helper-c27b6911.js";import{S as $e}from"./SearchOutlined-28fc7348.js";import{E as Ge}from"./EyeOutlined-edeaeac3.js";import{F as He}from"./FormOutlined-9ea2444d.js";import{D as Ze}from"./DeleteOutlined-56344ab3.js";import{D as T}from"./DownOutlined-f5af91e0.js";import"./NavLink-d08b3531.js";import"./logotiny-c4b525af.js";import"./TopMenu-34317ead.js";import"./DropdownLink-14b8c534.js";import"./AntdIcon-b642ca2d.js";const Je={class:"mb-4",style:{width:"100%"}},Qe={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},We={class:"flex justify-end mt-5 mb-4 mr-4"},Xe={class:"flex justify-between",style:{position:"relative"}},he={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},el={key:1},ll={class:"flex justify-between mb-6 mt-2 pr-4"},ol={clas:"",style:{scale:"0.9"}},al={class:"flex justify-center"},tl={class:"flex justify-end",style:{}},nl={key:0},sl={key:1},ul={class:"flex justify-end"},rl={__name:"index",setup(il){const k=i(""),N=i(1),Y=i(0),y=i(10),z=i(!1),A=i(!1),R=i(null),P=i(null),I=i(null),$=i([]),j=i(null),O=i(null),V=i(null),G=i([]),B=i(null);i(null);const K=i(null),H=i([]),Z=i(),t=Ie({id:null,tipo_doc:1,nro_doc:"",paterno:"",materno:"",nombres:"",sexo:null,fec_nac:"",celular:"",correo:"",pais:1,ubigeo_residencia:"",grado:1,ubigeo_colegio:null,id_colegio:null,terminos:!1,id_pago:null}),J=a=>{t.nro_doc=a.target.value.replace(/\D/g,"")},oe=a=>{t.celular=a.target.value.replace(/\D/g,"")},ae=(a,e)=>{P.value=e.key,t.ubigeo_residencia=e.key},te=(a,e)=>{O.value=e.key},ne=(a,e)=>{O.value=e.key,t.id_colegio=e.key};function se(a,e){return new Promise((d,q)=>{if(!e)q(new Error(""));else{const r=new Date(e),v=new Date,_=new Date;v.setFullYear(v.getFullYear()-41),_.setFullYear(_.getFullYear()-13),r>_||r<v?q(new Error("Debes tener entre 13 y 30 años")):d()}})}const ue=async()=>{z.value=!0;try{const a=await Z.value.validateFields(),e=await C.post("save-simulacro-participante",t);e.status===202?console.log(e.data.errors):(A.value=!1,e.data.estado===!0&&(de("success",e.data.titulo,""),E(),pe()))}catch(a){console.error(a)}z.value=!1},Q=i([]),E=async()=>{let a=await C.post("get-participantes-simulacro?page="+N.value,{term:k.value,paginashoja:y.value});Y.value=a.data.datos.total,Q.value=a.data.datos.data,a.data.datos.data[0].fec_nac&&(t.fec_nac=le(a.data.datos.data[0].fec_nac))};E(),b(N,(a,e)=>{E()}),b(y,(a,e)=>{E()}),b(k,(a,e)=>{E()}),b(O,(a,e)=>{ie()}),b(I,(a,e)=>{a.length>=3&&W()}),b(V,(a,e)=>{a.length>=3&&X()});const re=a=>{A.value=!0,t.id=a.id_participante,t.tipo_doc=1,t.nro_doc=a.nro_doc,t.nombres=a.nombres,t.paterno=a.paterno,t.materno=a.materno,t.sexo=a.sexo,t.celular=a.celular,t.correo=a.correo,t.fec_nac=le(a.fec_nac),t.grado=a.instruccion,t.ubigeo_residencia=a.ubigeo,t.ubigeo_colegio=a.ubigeocolegio,t.id_colegio=a.idcolegio,R.value=a.lugar,j.value=a.lugarcolegio,B.value=a.colegio},W=async()=>{C.post("/get-ubigeo",{term:I.value}).then(a=>{$.value=a.data.datos.data}).catch(a=>{a.response?console.error("Error de servidor:",a.response.data):a.request?console.error("Error de red:",a.request):console.error("Error de configuración:",a.message)})},X=async()=>{C.post("/get-ubigeo",{term:V.value}).then(a=>{G.value=a.data.datos.data}).catch(a=>{a.response?console.error("Error de servidor:",a.response.data):a.request?console.error("Error de red:",a.request):console.error("Error de configuración:",a.message)})},ie=async()=>{C.post("/get-colegios-ubigeo",{term:K.value,ubigeo:O.value}).then(a=>{H.value=a.data.datos.data}).catch(a=>{a.response?console.error("Error de servidor:",a.response.data):a.request?console.error("Error de red:",a.request):console.error("Error de configuración:",a.message)})},de=(a,e,d)=>{we[a]({message:e,description:d})},pe=()=>{t.tipo_doc=1,t.paterno="",t.materno="",t.nombres="",t.sexo=null,t.fec_nac="",t.celular="",t.correo="",t.pais=1,t.ubigeo_residencia="",t.grado=1,t.ubigeo_colegio=null,t.id_colegio=null,t.terminos=!1,t.id_pago=null,P.valu=!0,R.value=null,P.value=null,I.value=null},me=i([{title:"Nro_Doc",dataIndex:"nro_doc"},{title:"Nombres",dataIndex:"nombres",responsive:["xs","sm","md","lg"]},{title:"Sexo",dataIndex:"sexo",responsive:["md"]},{title:"F. Nac",dataIndex:"fec_nacimiento",responsive:["lg"]},{title:"Instruccion",dataIndex:"instruccion",width:"120px",align:"center"},{title:"Lugar",dataIndex:"lugar",responsive:["lg"]},{title:"Acciones",dataIndex:"acciones",width:"120px",align:"center"}]);return W(),X(),(a,e)=>{const d=Ue,q=Ce,r=De,v=Se,_=ke,ve=Ne,fe=Ae,ge=Re,c=Oe,h=Ve,_e=qe,m=Fe,ce=Pe,p=je,xe=Be,L=Ke,M=Le,be=Me,ye=Te;return g(),U(ee,null,[l(x(Ee),{title:"participantes"}),l(Ye,null,{default:o(()=>[s("div",Je,[s("div",Qe,[s("div",We,[s("div",Xe,[l(d,{type:"text",placeholder:"Buscar",value:k.value,"onUpdate:value":e[0]||(e[0]=n=>k.value=n),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),s("div",he,[l(x($e))])])]),s("div",null,[l(fe,{dataSource:Q.value,columns:me.value,pagination:!1},{bodyCell:o(({column:n,index:dl,record:f})=>[n.dataIndex==="nro_doc"?(g(),D(q,{key:0,color:"#4f4f4f",style:{width:"80px"}},{default:o(()=>[u(F(f.nro_doc),1)]),_:2},1024)):S("",!0),n.dataIndex==="nombres"?(g(),U("div",el,[s("span",null,F(f.nombres)+" "+F(f.paterno)+" "+F(f.materno),1)])):S("",!0),n.dataIndex==="instruccion"?(g(),D(v,{key:2,ref:"select",value:f.instruccion,"onUpdate:value":w=>f.instruccion=w,placeholder:"Seleccionar",style:{width:"100px"}},{default:o(()=>[l(r,{value:1},{default:o(()=>e[24]||(e[24]=[s("span",null,"SEC TERMINADA",-1)])),_:1}),l(r,{value:2},{default:o(()=>e[25]||(e[25]=[s("span",null,"5TO AÑO",-1)])),_:1}),l(r,{value:3},{default:o(()=>e[26]||(e[26]=[s("span",null,"4TO AÑO",-1)])),_:1}),l(r,{value:4},{default:o(()=>e[27]||(e[27]=[s("span",null,"3ER AÑO",-1)])),_:1})]),_:2},1032,["value","onUpdate:value"])):S("",!0),n.dataIndex==="sexo"?(g(),D(v,{key:3,ref:"select",value:f.sexo,"onUpdate:value":w=>f.sexo=w,placeholder:"Seleccionar",style:{width:"60px"}},{default:o(()=>[l(r,{value:"1"},{default:o(()=>e[28]||(e[28]=[s("span",{style:{color:"blue"}},"M",-1)])),_:1}),l(r,{value:"2"},{default:o(()=>e[29]||(e[29]=[s("span",{style:{color:"red"}},"F",-1)])),_:1})]),_:2},1032,["value","onUpdate:value"])):S("",!0),n.dataIndex==="acciones"?(g(),U(ee,{key:4},[l(_,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:o(()=>[l(x(Ge))]),_:1}),l(_,{class:"mr-1",onClick:w=>re(f),style:{color:"blue"},size:"small"},{icon:o(()=>[l(x(He))]),_:2},1032,["onClick"]),l(ve,{title:"¿Estas seguro de eliminar?",onConfirm:w=>a.eliminar(f),disabled:""},{default:o(()=>[l(_,{size:"small",style:{color:"crimson"},disabled:""},{icon:o(()=>[l(x(Ze),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):S("",!0)]),_:1},8,["dataSource","columns"])]),s("div",ll,[s("div",null,[l(ge,{current:N.value,"onUpdate:current":e[1]||(e[1]=n=>N.value=n),"page-size":y.value,simple:"",total:Y.value,"show-less-items":""},null,8,["current","page-size","total"])]),s("div",ol,[l(v,{value:y.value,"onUpdate:value":e[2]||(e[2]=n=>y.value=n),style:{width:"90px"}},{default:o(()=>[l(r,{value:3},{default:o(()=>e[30]||(e[30]=[u("3 Reg.")])),_:1}),l(r,{value:10},{default:o(()=>e[31]||(e[31]=[u("10 Reg.")])),_:1}),l(r,{value:20},{default:o(()=>e[32]||(e[32]=[u("20 Reg.")])),_:1}),l(r,{value:50},{default:o(()=>e[33]||(e[33]=[u("50 Reg.")])),_:1}),l(r,{value:100},{default:o(()=>e[34]||(e[34]=[u("100 Reg.")])),_:1})]),_:1},8,["value"])])])])]),l(ye,{visible:A.value,"onUpdate:visible":e[23]||(e[23]=n=>A.value=n),footer:!1,centered:"",style:{width:"100%","max-width":"900px"}},{default:o(()=>[s("div",al,[l(c,{style:{display:"flex","justify-content":"center"}},{default:o(()=>[l(p,{span:24},{default:o(()=>[l(be,{ref_key:"formDatos",ref:Z,name:"form",model:t,rules:a.formRules},{default:o(()=>[l(c,null,{default:o(()=>e[35]||(e[35]=[s("div",{style:{"margin-bottom":"-10px"}},[s("h1",{class:"titulo-form"},"Datos Personales")],-1)])),_:1}),l(c,{gutter:16},{default:o(()=>[l(p,{xs:24,sm:12,md:24,lg:24},{default:o(()=>[s("div",tl,[s("div",null,[e[38]||(e[38]=s("label",null,"Sexo",-1)),l(m,{name:"sexo",rules:[{required:!0,message:"Seleccione el sexo"}]},{default:o(()=>[s("div",null,[l(_e,{value:t.sexo,"onUpdate:value":e[3]||(e[3]=n=>t.sexo=n),name:"radioGroup"},{default:o(()=>[l(h,{value:"1"},{default:o(()=>e[36]||(e[36]=[u("M")])),_:1}),l(h,{value:"2"},{default:o(()=>e[37]||(e[37]=[u("F")])),_:1})]),_:1},8,["value"])])]),_:1})]),l(ce,{type:"vertical",style:{height:"60px"}}),s("div",null,[e[41]||(e[41]=s("label",null,"Tipo Doc",-1)),l(m,{name:"tipo_doc",rules:[{required:!0,message:"Escoja el tipo",trigger:"change"}]},{default:o(()=>[s("div",null,[l(v,{value:t.tipo_doc,"onUpdate:value":e[4]||(e[4]=n=>t.tipo_doc=n),style:{width:"120px"}},{default:o(()=>[l(r,{value:1},{default:o(()=>e[39]||(e[39]=[u("DNI")])),_:1}),l(r,{value:2},{default:o(()=>e[40]||(e[40]=[u("Carnet. Ext")])),_:1})]),_:1},8,["value"])])]),_:1})])])]),_:1}),l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[t.tipo_doc===1?(g(),U("label",nl,e[42]||(e[42]=[u("DNI "),s("span",{style:{color:"red"}},"*",-1)]))):(g(),U("label",sl,"N° Carnet Ext.")),l(m,{name:"nro_doc",rules:[{required:!0,message:"Ingrese el N° de documento"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:o(()=>[t.tipo_doc===1?(g(),D(d,{key:0,value:t.nro_doc,"onUpdate:value":e[5]||(e[5]=n=>t.nro_doc=n),onInput:J,maxlength:8,disabled:t.terminos},null,8,["value","disabled"])):(g(),D(d,{key:1,value:t.nro_doc,"onUpdate:value":e[6]||(e[6]=n=>t.nro_doc=n),onInput:J,maxlength:12,disabled:t.terminos},null,8,["value","disabled"]))]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[43]||(e[43]=s("label",null,[u("Nombres"),s("span",{style:{color:"red"}},"*")],-1)),l(m,{name:"nombres",rules:[{required:!0,message:"Ingrese los nombres"}]},{default:o(()=>[l(d,{value:t.nombres,"onUpdate:value":e[7]||(e[7]=n=>t.nombres=n)},null,8,["value"])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[44]||(e[44]=s("label",null,[u("Primer apellido"),s("span",{style:{color:"red"}},"*")],-1)),l(m,{name:"paterno",rules:[{required:!0,message:"Ingrese su primer apellido"}]},{default:o(()=>[l(d,{value:t.paterno,"onUpdate:value":e[8]||(e[8]=n=>t.paterno=n)},null,8,["value"])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[45]||(e[45]=s("label",null,[u("Segundo apellido "),s("span",{style:{color:"red"}},"*")],-1)),l(m,{name:"materno",rules:[{required:!0,message:"Ingrese su segundo apellido"}]},{default:o(()=>[l(d,{value:t.materno,"onUpdate:value":e[9]||(e[9]=n=>t.materno=n)},null,8,["value"])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[46]||(e[46]=s("label",null,"Celular",-1)),l(m,{name:"celular",rules:[{required:!0,message:"Ingrese el N° de celular"},{min:8,message:"El numero debe tener almenos 9 digitos",trigger:"blur"}]},{default:o(()=>[l(d,{value:t.celular,"onUpdate:value":e[10]||(e[10]=n=>t.celular=n),onInput:oe,maxlength:9},null,8,["value"])]),_:1})]),_:1}),l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[47]||(e[47]=s("label",null,"Fec. Nacimiento",-1)),l(m,{name:"fec_nac",rules:[{required:!0,message:"Ingresa tu fecha de nacimiento",trigger:"change"},{validator:se,trigger:"change"}]},{default:o(()=>[l(xe,{style:{width:"100%"},placeholder:"Seleccionar fec. nacimiento",value:t.fec_nac,"onUpdate:value":e[11]||(e[11]=n=>t.fec_nac=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1},8,["rules"])]),_:1}),l(p,{xs:24,sm:24,md:24,lg:24},{default:o(()=>[e[48]||(e[48]=s("label",null,"Correo electrónico",-1)),l(m,{name:"correo",rules:[{required:!0,message:"Ingresa un correo valido",trigger:"change"},{type:"email",message:"Ingresa un correo valido"}]},{default:o(()=>[l(d,{value:t.correo,"onUpdate:value":e[12]||(e[12]=n=>t.correo=n)},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(c,null,{default:o(()=>e[49]||(e[49]=[s("div",{style:{"margin-top":"-10px"}},[s("h1",{class:"titulo-form"},"Datos Residencia")],-1)])),_:1}),l(c,{gutter:16},{default:o(()=>[l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[58]||(e[58]=s("label",null,"País",-1)),l(m,{name:"pais"},{default:o(()=>[l(v,{value:t.pais,"onUpdate:value":e[13]||(e[13]=n=>t.pais=n),placeholder:"Seleccione el país"},{default:o(()=>[l(r,{value:1},{default:o(()=>e[50]||(e[50]=[u("PERÚ")])),_:1}),l(r,{value:2},{default:o(()=>e[51]||(e[51]=[u("BOLIVIA")])),_:1}),l(r,{value:3},{default:o(()=>e[52]||(e[52]=[u("CHILE")])),_:1}),l(r,{value:4},{default:o(()=>e[53]||(e[53]=[u("VENEZUELA")])),_:1}),l(r,{value:5},{default:o(()=>e[54]||(e[54]=[u("COLOMBIA")])),_:1}),l(r,{value:6},{default:o(()=>e[55]||(e[55]=[u("ECUADOR")])),_:1}),l(r,{value:7},{default:o(()=>e[56]||(e[56]=[u("ARGENTINA")])),_:1}),l(r,{value:8},{default:o(()=>e[57]||(e[57]=[u("BRASIL")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(p,{xs:24,sm:24,md:24,lg:16},{default:o(()=>[e[59]||(e[59]=s("label",null,[u("Dep / Prov / Dist "),s("span",{style:{color:"red"}},"*")],-1)),l(m,{name:"ubigeo_residencia"},{default:o(()=>[l(M,{value:R.value,"onUpdate:value":e[15]||(e[15]=n=>R.value=n),options:$.value,onSelect:ae},{default:o(()=>[l(d,{placeholder:"Departamento",value:I.value,"onUpdate:value":e[14]||(e[14]=n=>I.value=n),onKeypress:a.handleKeyPress},{suffix:o(()=>[l(L,{title:"Extra information"},{default:o(()=>[l(x(T))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1})]),_:1}),l(c,null,{default:o(()=>e[60]||(e[60]=[s("div",{style:{"margin-top":"-10px"}},[s("h1",{class:"titulo-form"},"Datos de estudios")],-1)])),_:1}),l(c,{gutter:16},{default:o(()=>[l(p,{xs:24,sm:12,md:8,lg:8},{default:o(()=>[e[65]||(e[65]=s("label",null,[u("Grado de instrucción"),s("span",{style:{color:"red"}},"*")],-1)),l(m,{name:"grado"},{default:o(()=>[l(v,{value:t.grado,"onUpdate:value":e[16]||(e[16]=n=>t.grado=n),style:{width:"100%"}},{default:o(()=>[l(r,{value:1},{default:o(()=>e[61]||(e[61]=[u("SECUNDARIA CONCLUIDA")])),_:1}),l(r,{value:2},{default:o(()=>e[62]||(e[62]=[u("SECUNDARIA 5TO AÑO")])),_:1}),l(r,{value:3},{default:o(()=>e[63]||(e[63]=[u("SECUNDARIA 4T0 AÑO")])),_:1}),l(r,{value:4},{default:o(()=>e[64]||(e[64]=[u("SECUNDARIA 3ER AÑO")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(p,{xs:24,sm:24,md:24,lg:16},{default:o(()=>[e[66]||(e[66]=s("label",null,[u("Ubic. colegio (dep/prov/dist)"),s("span",{style:{color:"red"}},"*")],-1)),l(m,{name:"ubigeo_colegio"},{default:o(()=>[l(M,{value:j.value,"onUpdate:value":e[18]||(e[18]=n=>j.value=n),options:G.value,onSelect:te},{default:o(()=>[l(d,{placeholder:"Procedencia del Colegio",value:V.value,"onUpdate:value":e[17]||(e[17]=n=>V.value=n),onKeypress:a.handleKeyPress},{suffix:o(()=>[l(L,{title:"Extra information"},{default:o(()=>[l(x(T))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1}),l(p,{xs:24,sm:24,md:24,lg:24},{default:o(()=>[e[67]||(e[67]=s("label",null,"Nombre del colegio",-1)),l(m,null,{default:o(()=>[l(M,{value:B.value,"onUpdate:value":e[20]||(e[20]=n=>B.value=n),options:H.value,onSelect:ne},{default:o(()=>[l(d,{placeholder:"Procedencia del Colegio",value:K.value,"onUpdate:value":e[19]||(e[19]=n=>K.value=n),onKeypress:a.handleKeyPress},{suffix:o(()=>[l(L,{title:"Extra information"},{default:o(()=>[l(x(T))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1})]),_:1}),l(c,null,{default:o(()=>[l(p,{span:24},{default:o(()=>[s("div",ul,[l(_,{class:"mr-4",onClick:e[21]||(e[21]=n=>a.Cancelar())},{default:o(()=>e[68]||(e[68]=[u(" Cancelar ")])),_:1}),l(_,{type:"primary",style:{width:"90px",background:"#340691","border-radius":"4px",border:"none"},onClick:e[22]||(e[22]=n=>ue())},{default:o(()=>e[69]||(e[69]=[u("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])]),_:1},8,["visible"])]),_:1})],64)}}},Ul=ze(rl,[["__scopeId","data-v-ca4f1f14"]]);export{Ul as default};
