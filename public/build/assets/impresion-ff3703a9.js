import{r as y,e as N,c,a as e,u as p,w as a,F as C,o as d,X as re,d as l,t as z,b as t,f as r,D as pe,P as X,L as V,i as Q,g as m,p as _e,h as ve}from"./app-d14f2261.js";import{A as me}from"./LayoutDocente-52e41466.js";import{_ as fe}from"./_plugin-vue_export-helper-c27b6911.js";import{F as J}from"./FormOutlined-f2fae6c8.js";import"./DropdownLink-7c0baaa2.js";import"./logotiny-c4b525af.js";const ye=A=>(_e("data-v-ff9c460f"),A=A(),ve(),A),ge={style:{padding:"0px 15px"}},he={class:"flex justify-end"},be=ye(()=>l("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),ke={style:{height:"34px"}},xe={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Ie={style:{"margin-top":"-10px"}},Ce={style:{"font-size":".8rem","text-transform":"uppercase"}},Se={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},we={class:"container-principal"},Ee={class:"container-postulante"},Pe={class:"mr-3 container-imagen"},Ae=["src"],Me=["src"],De={class:"datos-postulante"},Ue={class:"mb-2"},Ne={class:"mb-2"},ze={class:"mb-2"},Ve={class:"flex"},Fe={class:"mr-3"},Be={style:{width:"100%"}},je={class:"container-postulante mb-2"},Oe={style:{width:"100%"}},Ke={class:"container-postulante mb-2"},$e={style:{width:"100%"}},Le={class:"container-postulante"},Te={style:{width:"100%"}},qe={class:"mb-2"},He={class:"mt-4 container-huellas"},Re={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},Ge=["src"],We=["src"],Xe={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Qe=["src"],Je=["src"],Ye={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},Ze={key:0},ea={key:1},aa={key:0},ta={key:1},oa={class:"flex",style:{"align-items":"center"}},la={key:0,style:{color:"red","margin-top":"-8px"}},ia={key:0},sa={key:1},na={key:1},da={class:"flex",style:{"align-items":"center"}},ca={key:0,style:{color:"red","margin-top":"-8px"}},ua={key:0,type:"primary",ghost:""},ra={key:1,type:"danger",ghost:""},pa=["href"],_a={key:0,type:"primary",ghost:""},va={key:1,type:"danger",ghost:""},ma={key:0,type:"primary",ghost:""},fa={key:1,type:"danger",ghost:""},ya={key:0,style:{width:"100%"}},ga=["src"],ha=["src"],ba={__name:"impresion",props:{baseUrl:String},setup(A){const k=window.location.origin,Y=y(!1),w=y(""),x=y("1"),_=y(null),F=y(null),B=y(null),j=y([]),u=y({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",cod_programa:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),O=y([]),M=y([]),D=y([]),Z=()=>{console.log("onSelect",_)},ee=n=>{console.log("handleKeyPress",n)},K=async(n="",s=1)=>{let b=await axios.post("get-postulantes?page="+s,{term:w.value});j.value=b.data.datos.data},$=y(null),ae=async()=>{let n=await axios.get("https://sistemas.cepreuna.edu.pe/api/v1/"+_.value,{headers:{Authorization:"cepreuna_v1_api"}});n.data&&($.value=n.data[0])},te=async()=>{let n=await axios.get("get-apoderados-postulante/"+_.value);O.value=n.data.datos},L=async()=>{let n=await axios.get("get-vouchers-postulante/"+_.value);M.value=n.data.datos},T=async()=>{let n=await axios.get("get-documentos-postulante/"+_.value);D.value=n.data.datos},oe=async()=>{let n=await axios.get("get-preinscripciones-postulante/"+_.value);F.value=n.data.datos},q=async()=>{let n=await axios.get("get-inscripciones-postulante/"+_.value);B.value=n.data.datos},H=async()=>{$.value.habilitado==1&&(await axios.post("inscribir",{postulante:u.value}),le(_.value),_.value="",w.value=""),u.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};N(w,(n,s)=>{K()}),N(_,(n,s)=>{ae(),q(),L(),T()}),N(x,(n,s)=>{x.value==2&&te(),x.value==3&&L(),x.value==4&&T(),x.value==5&&q(),x.value==6&&oe()});const le=n=>{var s=document.createElement("iframe");s.style.display="none",s.src=k+"/documentos/cepre2023-II/"+n+"/inscripcion-1.pdf",document.body.appendChild(s),s.contentWindow.focus(),s.contentWindow.print()},ie=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],se=[{title:"N° Operación",dataIndex:"operacion",key:"operacion"},{title:"Fecha",dataIndex:"fecha",key:"fecha"},{title:"Hora",dataIndex:"hora",key:"hora"},{title:"Concepto",dataIndex:"codigo",key:"codigo"},{title:"Monto",dataIndex:"monto",key:"monto"}],ne=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"verificado"},{title:"Acciones",dataIndex:"acciones"}],R=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return K(),(n,s)=>{const b=m("a-input"),de=m("a-auto-complete"),g=m("a-label"),ce=m("a-date-picker"),o=m("a-select-option"),U=m("a-select"),G=m("a-col"),I=m("a-button"),S=m("a-tab-pane"),h=m("a-tag"),W=m("a-divider"),E=m("a-table"),ue=m("a-tabs");return d(),c(C,null,[e(p(re),{title:"Inscripciones-impresión"}),e(me,null,{default:a(()=>[l("div",null,[e(ue,{activeKey:x.value,"onUpdate:activeKey":s[12]||(s[12]=i=>x.value=i),type:"card"},{default:a(()=>[e(S,{key:"1",tab:"Inscripcion"},{default:a(()=>[l("div",ge,[l("div",he,[l("div",null,[be,e(de,{value:_.value,"onUpdate:value":s[1]||(s[1]=i=>_.value=i),options:j.value,style:{width:"300px"},onSelect:Z,onSearch:n.onSearch},{option:a(({value:i,label:f})=>[l("div",ke,[l("div",null,[l("span",xe,z(i),1)]),l("div",Ie,[l("span",Ce,z(f),1)])])]),default:a(()=>[e(b,{placeholder:"Buscar",value:w.value,"onUpdate:value":s[0]||(s[0]=i=>w.value=i),onKeypress:ee},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),l("div",Se,[l("div",we,[e(G,{flex:"1 1"},{default:a(()=>[l("div",Ee,[l("div",Pe,[u.value.primer_apellido!==""?(d(),c("img",{key:0,src:p(k)+"/fotos/inscripcion/"+u.value.dni_temp+".jpg"},null,8,Ae)):(d(),c("img",{key:1,src:p(k)+"/fotos/postulantex.jpg"},null,8,Me))]),l("div",De,[l("div",Ue,[e(g,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(b,{value:u.value.primer_apellido,"onUpdate:value":s[2]||(s[2]=i=>u.value.primer_apellido=i),placeholder:"Primer apellido"},null,8,["value"])]),l("div",Ne,[e(g,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(b,{value:u.value.segundo_apellido,"onUpdate:value":s[3]||(s[3]=i=>u.value.segundo_apellido=i),placeholder:"Segundo apellido"},null,8,["value"])]),l("div",ze,[e(g,null,{default:a(()=>[t("Prenombres")]),_:1}),e(b,{value:u.value.nombres,"onUpdate:value":s[4]||(s[4]=i=>u.value.nombres=i),placeholder:"Prenombres"},null,8,["value"])]),l("div",Ve,[l("div",Fe,[e(g,null,{default:a(()=>[t("Fecha Nac")]),_:1}),l("div",null,[e(ce,{value:n.fecha,"onUpdate:value":s[5]||(s[5]=i=>n.fecha=i)},null,8,["value"])])]),l("div",Be,[e(g,null,{default:a(()=>[t("Sexo")]),_:1}),e(U,{ref:"select",value:u.value.sexo,"onUpdate:value":s[6]||(s[6]=i=>u.value.sexo=i),style:{width:"100%"}},{default:a(()=>[e(o,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(o,{value:"0"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),l("div",null,[l("div",je,[l("div",Oe,[e(g,null,{default:a(()=>[t("Colegio")]),_:1}),e(b,{value:u.value.colegio,"onUpdate:value":s[7]||(s[7]=i=>u.value.colegio=i),placeholder:"Colegio"},null,8,["value"])])]),l("div",Ke,[l("div",$e,[e(g,null,{default:a(()=>[t("Procedencia")]),_:1}),e(b,{value:u.value.procedencia,"onUpdate:value":s[8]||(s[8]=i=>u.value.procedencia=i),placeholder:"Procedencia"},null,8,["value"])])]),l("div",Le,[l("div",Te,[e(g,null,{default:a(()=>[t("Proceso")]),_:1}),e(b,{value:u.value.proceso,"onUpdate:value":s[9]||(s[9]=i=>u.value.proceso=i),placeholder:"Proceso"},null,8,["value"])])])])]),_:1}),e(G,{flex:"0 1 400px"},{default:a(()=>[l("div",null,[l("div",qe,[e(g,null,{default:a(()=>[t("Modalidad")]),_:1}),e(U,{ref:"select",value:u.value.modalidad,"onUpdate:value":s[10]||(s[10]=i=>u.value.modalidad=i),style:{width:"100%"}},{default:a(()=>[e(o,{value:7},{default:a(()=>[t("PERSONAS CON DISCAPACIDAD")]),_:1}),e(o,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(o,{value:9},{default:a(()=>[t("CEPREUNA")]),_:1})]),_:1},8,["value"])]),l("div",null,[e(g,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(U,{ref:"select",value:u.value.programa,"onUpdate:value":s[11]||(s[11]=i=>u.value.programa=i),style:{width:"100%"},disabled:!0},{default:a(()=>[e(o,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(o,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(o,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(o,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(o,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(o,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(o,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(o,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(o,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(o,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(o,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(o,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(o,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(o,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(o,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(o,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(o,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(o,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(o,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(o,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(o,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(o,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(o,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(o,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(o,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(o,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(o,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(o,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(o,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(o,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(o,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(o,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(o,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(o,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(o,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(o,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(o,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(o,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(o,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),l("div",He,[l("div",Re,[u.value.primer_apellido!==""?(d(),c("img",{key:0,src:p(k)+"/fotos/huella/"+u.value.dni_temp+".jpg"},null,8,Ge)):(d(),c("img",{key:1,src:p(k)+"/huellas/huella.jpg"},null,8,We))]),l("div",Xe,[u.value.primer_apellido!==""?(d(),c("img",{key:0,src:p(k)+"/fotos/huella/"+u.value.dni_temp+"x.jpg"},null,8,Qe)):(d(),c("img",{key:1,src:p(k)+"/huellas/huella.jpg"},null,8,Je))])])]),_:1})])]),l("div",Ye,[Y.value==!1?(d(),c("div",Ze,[e(I,{type:"primary",onClick:H},{default:a(()=>[t("Inscribir")]),_:1})])):(d(),c("div",ea,[e(I,{type:"primary",disabled:"",onClick:H},{default:a(()=>[t("Inscribir")]),_:1})]))])])]),_:1}),e(S,{key:"2",tab:"Apoderados"},{default:a(()=>[e(E,{dataSource:O.value,columns:ie},{bodyCell:a(({column:i,index:f,record:v})=>[i.dataIndex==="parentesco"?(d(),c(C,{key:0},[v.parentesco=="Padre"?(d(),c("div",aa,[e(h,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):r("",!0),v.parentesco=="Madre"?(d(),c("div",ta,[e(h,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):r("",!0)],64)):r("",!0),i.dataIndex==="acciones"?(d(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:P=>n.abrirEditar(n.filiales[f]),size:"small"},{icon:a(()=>[e(p(J))]),_:2},1032,["onClick"]),e(W,{type:"vertical"}),e(I,{type:"danger",disabled:"",onClick:P=>n.eliminar(n.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(p(pe))]),_:2},1032,["onClick"])],64)):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"3",style:{}},{tab:a(()=>[l("div",oa,[M.value.length===0&&u.value.dni_temp!==""?(d(),c("div",la,[l("span",null,[e(p(X))])])):r("",!0),t(" vouchers ")])]),default:a(()=>[e(E,{dataSource:M.value,columns:se},{bodyCell:a(({column:i,index:f,record:v})=>[i.dataIndex==="codigo"?(d(),c(C,{key:0},[v.codigo==26?(d(),c("div",ia,[e(h,{color:"green"},{default:a(()=>[t(" Derechos de admisión ")]),_:1})])):r("",!0),v.codigo==39?(d(),c("div",sa,[e(h,{color:"pink"},{default:a(()=>[t(" Examen médico ")]),_:1})])):r("",!0)],64)):r("",!0),i.dataIndex==="monto"?(d(),c("div",na,[l("span",null,"S/ "+z(v.monto.toFixed(2)),1)])):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"4"},{tab:a(()=>[l("div",da,[D.value.length<3&&u.value.dni_temp!==""?(d(),c("div",ca,[l("span",null,[e(p(X))])])):r("",!0),t(" Documentos ")])]),default:a(()=>[e(E,{dataSource:D.value,columns:ne,size:"small"},{bodyCell:a(({column:i,index:f,record:v})=>[i.dataIndex==="verificado"?(d(),c(C,{key:0},[v.verificado==1?(d(),c("div",ua,[e(h,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(d(),c("div",ra,[e(h,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):r("",!0),i.dataIndex==="acciones"?(d(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:P=>n.abrirEditar(n.filiales[f]),size:"small"},{icon:a(()=>[e(p(J))]),_:2},1032,["onClick"]),e(W,{type:"vertical"}),l("a",{href:"../../"+v.url,target:"_blank"},[e(I,{type:"primary",onClick:P=>n.eliminar(n.filiales[f]),shape:"",size:"small"},{icon:a(()=>[e(p(V))]),_:2},1032,["onClick"])],8,pa)],64)):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"5",tab:"Inscripciones"},{default:a(()=>[e(E,{dataSource:B.value,columns:R,size:"small"},{bodyCell:a(({column:i,index:f,record:v})=>[i.dataIndex==="estado"?(d(),c(C,{key:0},[v.estado==1?(d(),c("div",_a,[e(h,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(d(),c("div",va,[e(h,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):r("",!0),i.dataIndex==="acciones"?(d(),Q(I,{key:1,type:"primary",disabled:"",onClick:P=>n.abrirEditar(n.filiales[f]),size:"small"},{icon:a(()=>[e(p(V))]),_:2},1032,["onClick"])):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"6",tab:"Pre inscripciones"},{default:a(()=>[e(E,{dataSource:F.value,columns:R,size:"small"},{bodyCell:a(({column:i,index:f,record:v})=>[i.dataIndex==="estado"?(d(),c(C,{key:0},[v.estado==1?(d(),c("div",ma,[e(h,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(d(),c("div",fa,[e(h,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):r("",!0),i.dataIndex==="acciones"?(d(),Q(I,{key:1,type:"primary",disabled:"",onClick:P=>n.abrirEditar(n.filiales[f]),size:"small"},{icon:a(()=>[e(p(V))]),_:2},1032,["onClick"])):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"7",tab:"Constancia"},{default:a(()=>[_.value?(d(),c("div",ya,[l("iframe",{src:"https://inscripciones.admision.unap.edu.pe/documentos/cepre2023-II/"+_.value+"/inscripcion-1.pdf",width:"100%",style:{height:"calc(100vh - 140px)"},scrolling:"yes",frameborder:"1"},null,8,ga),l("iframe",{src:p(k)+"/documentos/cepre2023-II/"+_.value+"/inscripcion-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,ha)])):r("",!0)]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},Ea=fe(ba,[["__scopeId","data-v-ff9c460f"]]);export{Ea as default};
