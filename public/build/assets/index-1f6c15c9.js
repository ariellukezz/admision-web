import{r as p,e as A,o as m,c as _,a as o,u as S,w as t,F as P,Z as Q,d as u,b as s,f as b,t as g,n as W,B as X,I as Y,_ as h,g as ee,h as oe,i as te,S as ae,j as le,k as ne,l as se,m as ue,p as de,q as ie,M as re}from"./app-02daa48e.js";import{_ as pe}from"./AuthenticatedLayout-0d088217.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{S as _e}from"./SearchOutlined-2412f6e3.js";import{F as ve}from"./FormOutlined-68f5ffc1.js";import{D as fe}from"./DeleteOutlined-58102e21.js";import"./logotiny-c4b525af.js";import"./Header-71d983ce.js";import"./AntdIcon-666c3050.js";import"./DownOutlined-b680cb82.js";/* empty css                                                            */const ge={class:"m-4"},ce={class:"mb-4"},be={class:"flex justify-end"},xe={key:0},ye={key:0},ke={key:1},Ie={key:2},Fe={key:1,style:{"text-transform":"uppercase"}},Se={key:2,style:{"text-transform":"uppercase"}},we={class:"flex justify-end mt-1"},Ue={style:{scale:".9"}},Ce={class:"custom-form"},Ae={style:{padding:"0px 10px"}},ze={class:"flex justify-end"},De={__name:"index",setup(Ne){const x=p(1),z=p(0),c=p(10),F=p(""),D=p([]),N=p(null),n=p({id:null,tipo_doc:1,nro_documento:"",paterno:"",materno:null,nombres:"",tipo_apoderado:1,observacion:null}),q={tipo_doc:[{required:!0,message:"Seleccione el tipo de documento",trigger:"change"}],nro_documento:[{required:!0,message:"Ingrese el número de documento",trigger:"blur"}],paterno:[{required:!0,message:"Ingrese el apellido paterno",trigger:"blur"}],materno:[{required:!0,message:"Ingrese el apellido materno",trigger:"blur"}],nombres:[{required:!0,message:"Ingrese los nombres",trigger:"blur"}],tipo_apoderado:[{required:!0,message:"Seleccione el tipo de apoderado",trigger:"change"}]},M={labelCol:{span:24,backgroundColor:"red"},wrapperCol:{span:20}},T=a=>{console.log("Form submitted:",a)},B=a=>{console.log("Form validation failed:",a)},O=()=>{N.value.resetFields()},R=()=>{axios.post("/admin/save-apoderados-admin",n.value).then(a=>{y(),k.value=!1,V(a.data.tipo,a.data.titulo,a.data.mensaje)}).catch(a=>{console.error(a)})},y=()=>{axios.post("/admin/get-apoderados-admin?page="+x.value,{pages:c.value,term:F.value}).then(a=>{D.value=a.data.datos.data,x.value=a.data.datos.current_page,z.value=a.data.datos.total,console.log(a.data)}).catch(a=>{console.error(a)})};y();const k=p(!1),$=()=>{k.value=!0},j=a=>{n.value.id=a.id,n.value.tipo_doc=1,n.value.nro_documento=a.dni,n.value.paterno=a.paterno,n.value.materno=a.materno,n.value.nombres=a.nombres,n.value.tipo_apoderado=a.tipo_apoderado,n.value.observacion=a.observacion,k.value=!0};A(F,(a,e)=>{y()}),A(x,(a,e)=>{y()}),A(c,(a,e)=>{y()});const E=[{title:"Tipo",dataIndex:"tipo_apoderado",width:"70px",align:"center"},{title:"DNI",dataIndex:"dni"},{title:"Apoderado",dataIndex:"nombres"},{title:"Postulante",dataIndex:"postulante"},{title:"Action",dataIndex:"action"}],V=(a,e,v)=>{W[a]({message:e,description:v})};return(a,e)=>{const v=X,I=Y,w=h,G=ee,Z=oe,H=te,i=ae,U=le,r=ne,f=se,C=ue,J=de,K=ie,L=re;return m(),_(P,null,[o(S(Q),{title:"Apoderado"}),o(pe,null,{default:t(()=>[u("div",ge,[u("div",ce,[u("div",be,[o(v,{style:{display:"none"},type:"primary",onClick:e[0]||(e[0]=l=>$())},{default:t(()=>e[14]||(e[14]=[s("Abrir")])),_:1}),o(I,{placeholder:"Buscar",value:F.value,"onUpdate:value":e[1]||(e[1]=l=>F.value=l),style:{"max-width":"300px"}},{suffix:t(()=>[o(S(_e))]),_:1},8,["value"])])]),u("div",null,[o(Z,{columns:E,"data-source":D.value,pagination:!1,size:"small"},{bodyCell:t(({column:l,record:d})=>[l.dataIndex==="tipo_apoderado"?(m(),_("div",xe,[d.tipo_apoderado==1?(m(),_("div",ye,[o(w,{color:"blue"},{default:t(()=>e[15]||(e[15]=[s("PADRE")])),_:1})])):b("",!0),d.tipo_apoderado==2?(m(),_("div",ke,[o(w,{color:"pink"},{default:t(()=>e[16]||(e[16]=[s("MADRE")])),_:1})])):b("",!0),d.tipo_apoderado==3?(m(),_("div",Ie,[o(w,{color:"orange"},{default:t(()=>e[17]||(e[17]=[s("TUTOR")])),_:1})])):b("",!0)])):b("",!0),l.dataIndex==="nombres"?(m(),_("span",Fe,g(d.nombres)+" "+g(d.paterno)+" "+g(d.materno),1)):b("",!0),l.dataIndex==="postulante"?(m(),_("span",Se,g(d.dni_postulante)+" - "+g(d.postulante)+" "+g(d.primer_apellido)+" "+g(d.segundo_apellido),1)):l.dataIndex==="action"?(m(),_(P,{key:3},[o(v,{type:"primary",onClick:Pe=>j(d),size:"small"},{icon:t(()=>[o(S(ve))]),_:2},1032,["onClick"]),o(G,{type:"vertical"}),o(v,{type:"danger",shape:"",size:"small"},{icon:t(()=>[o(S(fe))]),_:1})],64)):b("",!0)]),_:1},8,["data-source"]),u("div",we,[o(H,{current:x.value,"onUpdate:current":e[2]||(e[2]=l=>x.value=l),total:z.value,pageSize:c.value,"onUpdate:pageSize":e[3]||(e[3]=l=>c.value=l),"show-less-items":""},null,8,["current","total","pageSize"]),u("div",Ue,[o(U,{value:c.value,"onUpdate:value":e[4]||(e[4]=l=>c.value=l),placeholder:"Seleccione",style:{"font-size":"0.6rem",width:"100px"}},{default:t(()=>[o(i,{value:1},{default:t(()=>e[18]||(e[18]=[s("1/Pag")])),_:1}),o(i,{value:10},{default:t(()=>e[19]||(e[19]=[s("10/Pag")])),_:1}),o(i,{value:20},{default:t(()=>e[20]||(e[20]=[s("20/Pag")])),_:1}),o(i,{value:50},{default:t(()=>e[21]||(e[21]=[s("50/Pag")])),_:1}),o(i,{value:100},{default:t(()=>e[22]||(e[22]=[s("100/Pag")])),_:1})]),_:1},8,["value"])])])]),o(L,{visible:k.value,"onUpdate:visible":e[13]||(e[13]=l=>k.value=l),class:"card-size",style:{"margin-top":"-30px"}},{title:t(()=>e[23]||(e[23]=[u("div",{class:"custom-title"},[u("h3",{style:{"font-size":"1.2rem","margin-top":"5px","font-weight":"600"}},"Apoderado Nuevo")],-1)])),footer:t(()=>[o(r,{"wrapper-col":{span:20,offset:4}},{default:t(()=>[u("div",ze,[o(v,{type:"primary",onClick:e[12]||(e[12]=l=>R())},{default:t(()=>e[30]||(e[30]=[s("Guardar")])),_:1}),o(v,{style:{"margin-left":"10px"},onClick:O},{default:t(()=>e[31]||(e[31]=[s("Reset")])),_:1})])]),_:1})]),default:t(()=>[o(K,{ref_key:"formRef",ref:N,name:"apoderadoForm",model:n.value,rules:q,layout:M,class:"",onFinish:T,onFinishFailed:B},{default:t(()=>[u("div",Ce,[o(C,{gutter:[0,0]},{default:t(()=>[o(f,{span:8,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{label:"Tipo de Documento",name:"tipo_doc"},{default:t(()=>[o(U,{value:n.value.tipo_doc,"onUpdate:value":e[5]||(e[5]=l=>n.value.tipo_doc=l),placeholder:"Seleccione",style:{"min-width":"210px"}},{default:t(()=>[o(i,{value:1},{default:t(()=>e[24]||(e[24]=[s("DNI")])),_:1}),o(i,{value:2},{default:t(()=>e[25]||(e[25]=[s("Carnet Ext.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),o(f,{span:8,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{label:"Nro. Documento",name:"nro_documento"},{default:t(()=>[o(I,{value:n.value.nro_documento,"onUpdate:value":e[6]||(e[6]=l=>n.value.nro_documento=l)},null,8,["value"])]),_:1})]),_:1}),o(f,{span:8,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{label:"Apellido Paterno",name:"paterno"},{default:t(()=>[o(I,{value:n.value.paterno,"onUpdate:value":e[7]||(e[7]=l=>n.value.paterno=l)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o(C,{gutter:[0,0]},{default:t(()=>[o(f,{span:8,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{label:"Tipo de Apoderado",name:"tipo_apoderado"},{default:t(()=>[o(U,{value:n.value.tipo_apoderado,"onUpdate:value":e[8]||(e[8]=l=>n.value.tipo_apoderado=l),placeholder:"Seleccione"},{default:t(()=>[o(i,{value:1},{default:t(()=>e[26]||(e[26]=[s("Padre")])),_:1}),o(i,{value:2},{default:t(()=>e[27]||(e[27]=[s("Madre")])),_:1}),o(i,{value:3},{default:t(()=>e[28]||(e[28]=[s("Tutor")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),o(f,{span:8,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{label:"Nombres",name:"nombres"},{default:t(()=>[o(I,{value:n.value.nombres,"onUpdate:value":e[9]||(e[9]=l=>n.value.nombres=l)},null,8,["value"])]),_:1})]),_:1}),o(f,{span:8,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{label:"Apellido Materno",name:"materno"},{default:t(()=>[o(I,{value:n.value.materno,"onUpdate:value":e[10]||(e[10]=l=>n.value.materno=l)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),u("div",Ae,[o(C,{gutter:[20,16]},{default:t(()=>[o(f,{span:20,class:"ant-col-xs-24 col-item"},{default:t(()=>[o(r,{name:"observacion"},{default:t(()=>[e[29]||(e[29]=u("label",null,"Observación:",-1)),o(J,{value:n.value.observacion,"onUpdate:value":e[11]||(e[11]=l=>n.value.observacion=l)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model"])]),_:1},8,["visible"])])]),_:1})],64)}}},Ze=me(De,[["__scopeId","data-v-e0cdec35"]]);export{Ze as default};
