import{a as o,r as g,J as ne,e as se,o as f,c as C,u as k,w as a,F as ie,y as F,Z as de,d as n,b as i,E,f as _,G as re,a2 as D,n as ue,B as pe,I as me,_ as fe,h as ce,N as ve,k as ge,j as _e,l as be,aG as ye,V as xe,p as we,m as ke,q as Ce,M as Fe}from"./app-75c04735.js";import{_ as Oe}from"./AuthenticatedLayout-7a3f5989.js";import{A as Ie}from"./AntdIcon-15b90b2a.js";import{S as Ee}from"./SearchOutlined-d15a90ab.js";import{F as Ne}from"./FormOutlined-e72a8364.js";import{D as Ue}from"./DeleteOutlined-74a14f28.js";import"./logotiny-c4b525af.js";import"./Header-80ff929f.js";import"./DropdownLink-e5ac2743.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DownOutlined-e7c96a23.js";/* empty css                                                            */var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};const he=Pe;function S(c){for(var r=1;r<arguments.length;r++){var u=arguments[r]!=null?Object(arguments[r]):{},v=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(u).filter(function(b){return Object.getOwnPropertyDescriptor(u,b).enumerable}))),v.forEach(function(b){Le(c,b,u[b])})}return c}function Le(c,r,u){return r in c?Object.defineProperty(c,r,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[r]=u,c}var h=function(r,u){var v=S({},r,u.attrs);return o(Ie,S({},v,{icon:he}),null)};h.displayName="LinkOutlined";h.inheritAttrs=!1;const je=h,Ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Me={class:"flex justify-between mb-4"},Re={class:"mr-3"},Te={class:"flex justify-between",style:{position:"relative"}},De={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Se={key:0,class:"flex",style:{"justify-content":"center"}},Ve={key:1,class:"flex",style:{"justify-content":"center"}},$e={key:0},qe={key:1},ze={key:2,class:"flex",style:{"justify-content":"space-between"}},Ye={style:{background:"#476175",height:"36px","margin-left":"-24px","margin-right":"-24px","margin-top":"-24px","margin-bottom":"28px"}},Be={class:"flex justify-between ml-3 mr-1",style:{height:"36px","align-items":"center"}},Ge={class:"flex justify-end",style:{"margin-top":"-15px","margin-bottom":"0px"}},Xe={class:"mr-4"},so={__name:"procesos",setup(c){const r=window.location.origin,u=g(""),v=g([]),b=g([]),y=g([]),x=g(!1),L=g([]),j=g(null),l=ne({id:null,nombre:"",convocatoria:"",slug:"",sede:null,tipo:null,ciclo:null,modalidad:null,fec_examen:"",anio:new Date().getFullYear(),estado:!0,f_inicio:"",f_fin:"",url:"",observacion:""}),V=()=>{x.value=!0};let A;se(u,(t,e)=>{clearTimeout(A),A=setTimeout(()=>{N()},500)});const $=t=>{console.log(t),l.value=null,x.value=!0,l.id=t.id,l.nombre=t.nombre,l.slug=t.slug,l.sede=t.id_sede,l.convocatoria=t.convocatoria,l.url=t.url,l.ciclo=t.ciclo,l.fec_examen=t.fecha_examen,t.fec_inicio&&(l.f_inicio=D(t.fec_inicio)),t.fec_fin&&(l.f_fin=D(t.fec_fin)),l.tipo=t.id_tipo,l.observacion=t.observacion,l.modalidad=t.id_modalidad,l.anio=t.anio,t.estado==1?l.estado=!0:l.estado=!1},N=async(t="",e=1)=>{let d=await F.post("/admin/procesos/get-procesos?page="+e,{term:u.value});y.value=d.data.datos.data},q=async(t="",e=1)=>{let d=await F.post("get-sedes?page="+e);v.value=d.data.datos.data},z=async(t="",e=1)=>{let d=await F.get("procesos/get-tipos?page="+e);b.value=d.data.datos},Y=async(t="",e=1)=>{let d=await F.get("procesos/get-modalidades?page="+e);L.value=d.data.datos},B=async()=>{await j.value.validateFields(),F.post("save-proceso",l).then(t=>{M("success",t.data.titulo,t.data.mensaje),N(),x.value=!1})},G=t=>{F.get("eliminar-proceso/"+t.id).then(e=>{N(),M("warning","PROCESO ELIMINADO",e.data.mensaje)})},X=[{title:"Nombre",dataIndex:"nombre"},{title:"Sede",dataIndex:"sede",align:"center"},{title:"Tipo",dataIndex:"tipo",align:"center",width:"120px"},{title:"Modalidad",dataIndex:"modalidad",align:"center",width:"120px"},{title:"Año",dataIndex:"anio",width:"40px"},{title:"Estado",dataIndex:"estado",align:"center",width:"60px"},{title:"Acciones",dataIndex:"acciones",width:"50px"}],M=(t,e,d)=>{ue[t]({message:e,description:d})},J=()=>{x.value=!1},Z=()=>{x.value=!1},H=g([{value:"1",label:"I"},{value:"2",label:"II"}]),Q=t=>{window.open(r+"/"+t.slug+"/preinscripcion","_blank")};return N(),q(),z(),Y(),(t,e)=>{const d=pe,w=me,O=fe,W=ce,K=ve,p=ge,U=_e,m=be,ee=ye,R=xe,oe=we,le=ke,te=Ce,ae=Fe;return f(),C(ie,null,[o(k(de),{title:"Procesos"}),o(Oe,null,{default:a(()=>[n("div",Ae,[n("div",Me,[n("div",Re,[o(d,{type:"primary",style:{background:"#476175",border:"none","border-radius":"5px"},onClick:V},{default:a(()=>e[18]||(e[18]=[i("Nuevo")])),_:1})]),n("div",Te,[o(w,{type:"text",placeholder:"Buscar",value:u.value,"onUpdate:value":e[0]||(e[0]=s=>u.value=s),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),n("div",De,[o(k(Ee))])])]),o(W,{columns:X,"data-source":y.value,pagination:{pageSize:10},size:"small"},{bodyCell:a(({column:s,index:I,record:P})=>[s.dataIndex==="modalidad"?(f(),C("div",Se,[y.value[I].modalidad==="CEPREUNA"?(f(),E(O,{key:0,color:"cyan"},{default:a(()=>e[19]||(e[19]=[i("CEPREUNA")])),_:1})):_("",!0),y.value[I].modalidad==="GENERAL"?(f(),E(O,{key:1,color:"orange"},{default:a(()=>e[20]||(e[20]=[i("GENERAL")])),_:1})):_("",!0),y.value[I].modalidad==="EXTRAORDINARIO"?(f(),E(O,{key:2,color:"pink"},{default:a(()=>e[21]||(e[21]=[i(" EXTRAORDINARIO")])),_:1})):_("",!0)])):_("",!0),s.dataIndex==="estado"?(f(),C("div",Ve,[y.value[I].estado==1?(f(),C("div",$e,[o(O,{color:"green"},{default:a(()=>e[22]||(e[22]=[i("VIGENTE")])),_:1})])):_("",!0),y.value[I].estado==0?(f(),C("div",qe,[o(O,{color:"red"},{default:a(()=>e[23]||(e[23]=[i("NO VIGENTE")])),_:1})])):_("",!0)])):_("",!0),s.dataIndex==="acciones"?(f(),C("div",ze,[o(d,{type:"",onClick:T=>Q(P),style:{color:"blue"},size:"small"},{icon:a(()=>[o(k(je))]),_:2},1032,["onClick"]),o(d,{onClick:T=>$(P),style:{color:"#476175"},size:"small"},{icon:a(()=>[o(k(Ne))]),_:2},1032,["onClick"]),o(d,{type:"",onClick:T=>G(P),style:{color:"crimson"},shape:"",size:"small"},{icon:a(()=>[o(k(Ue))]),_:2},1032,["onClick"])])):_("",!0)]),_:1},8,["data-source"])]),o(ae,{visible:x.value,"onUpdate:visible":e[17]||(e[17]=s=>x.value=s),closable:!1,style:{"margin-top":"-50px"},width:"800px"},{footer:a(()=>[o(d,{style:{"margin-left":"10px"},onClick:e[15]||(e[15]=s=>Z())},{default:a(()=>e[38]||(e[38]=[i("Cancelar")])),_:1}),o(d,{type:"primary",style:{background:"#476175",border:"none"},onClick:e[16]||(e[16]=s=>B())},{default:a(()=>e[39]||(e[39]=[i("Guardar")])),_:1})]),default:a(()=>[n("div",Ye,[n("div",Be,[e[25]||(e[25]=n("div",null,[n("span",{style:{"font-weight":"bold",color:"white","font-size":"1rem"}},"Nuevo Proceso")],-1)),n("div",null,[n("span",null,[o(d,{onClick:e[1]||(e[1]=s=>J()),style:{background:"none",border:"none",color:"white"}},{default:a(()=>e[24]||(e[24]=[i("X")])),_:1})])])])]),o(te,re({ref_key:"formProceso",ref:j,name:"proceso",model:l,rules:t.formRules},t.layout,{onFinish:t.handleFinish,onValidate:t.handleValidate,onFinishFailed:t.handleFinishFailed}),{default:a(()=>[n("div",Ge,[n("div",Xe,[o(p,{label:"Estado",name:"estado"},{default:a(()=>[o(K,{checked:l.estado,"onUpdate:checked":e[2]||(e[2]=s=>l.estado=s)},null,8,["checked"])]),_:1})]),o(p,{name:"ciclo",label:"ciclo",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[n("div",null,[o(U,{ref:"ciclo",style:{"min-width":"120px",width:"100%"},onFocus:t.focus,onChange:t.handleChange,options:H.value,value:l.ciclo,"onUpdate:value":e[3]||(e[3]=s=>l.ciclo=s)},null,8,["onFocus","onChange","options","value"])])]),_:1})]),o(le,{gutter:[16,0],class:"form-row"},{default:a(()=>[o(m,{span:24,md:24,lg:24,xl:24,xxl:24},{default:a(()=>[o(p,{name:"nombre",rules:[{required:!0,message:"Este campo es obligatorio"}]},{default:a(()=>[n("div",null,[e[26]||(e[26]=n("label",{for:""},[i("Nombre ("),n("span",{style:{color:"red"}},"*"),i(")")],-1)),o(w,{type:"text",style:{width:"100%"},value:l.nombre,"onUpdate:value":e[4]||(e[4]=s=>l.nombre=s),autocomplete:"off"},null,8,["value"])])]),_:1})]),_:1}),o(m,{span:24,md:12,lg:8,xl:8,xxl:8},{default:a(()=>[o(p,{name:"convocatoria"},{default:a(()=>[n("div",null,[e[27]||(e[27]=n("label",{for:""},"N° convocatoria",-1)),o(w,{type:"text",style:{width:"100%"},value:l.convocatoria,"onUpdate:value":e[5]||(e[5]=s=>l.convocatoria=s),autocomplete:"off"},null,8,["value"])])]),_:1})]),_:1}),o(m,{span:24,md:12,lg:16,xl:16,xxl:16},{default:a(()=>[o(p,{name:"slug",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[n("div",null,[e[28]||(e[28]=n("label",{for:""},[i("Slug("),n("span",{style:{color:"red"}},"*"),i(")")],-1)),o(w,{type:"text",style:{width:"100%"},value:l.slug,"onUpdate:value":e[6]||(e[6]=s=>l.slug=s),autocomplete:"off"},null,8,["value"])])]),_:1})]),_:1}),o(m,{span:24,md:12,lg:12,xl:8,xxl:24},{default:a(()=>[o(p,{name:"sede",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[n("div",null,[e[29]||(e[29]=n("label",{for:""},[i("Sede ("),n("span",{style:{color:"red"}},"*"),i(")")],-1)),o(U,{ref:"Tipo",style:{width:"100%"},onFocus:t.focus,onChange:t.handleChange,options:v.value,value:l.sede,"onUpdate:value":e[7]||(e[7]=s=>l.sede=s)},null,8,["onFocus","onChange","options","value"])])]),_:1})]),_:1}),o(m,{span:24,md:12,lg:12,xl:8,xxl:24},{default:a(()=>[n("div",null,[e[30]||(e[30]=n("label",{for:""},[i("Tipo estudio ("),n("span",{style:{color:"red"}},"*"),i(")")],-1)),o(p,{name:"tipo",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[o(U,{ref:"Tipo",style:{width:"100%"},options:b.value,onFocus:t.focus,onChange:t.handleChange,value:l.tipo,"onUpdate:value":e[8]||(e[8]=s=>l.tipo=s)},null,8,["options","onFocus","onChange","value"])]),_:1})])]),_:1}),o(m,{span:24,md:12,lg:12,xl:8,xxl:24},{default:a(()=>[n("div",null,[e[31]||(e[31]=n("label",{for:""},[i("Mod. Examen ("),n("span",{style:{color:"red"}},"*"),i(")")],-1)),o(p,{name:"modalidad",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[o(U,{ref:"Tipo",style:{width:"100%"},options:L.value,onFocus:t.focus,onChange:t.handleChange,value:l.modalidad,"onUpdate:value":e[9]||(e[9]=s=>l.modalidad=s)},null,8,["options","onFocus","onChange","value"])]),_:1})])]),_:1}),o(m,{span:24,md:12,lg:12,xl:8,xxl:24},{default:a(()=>[n("div",null,[e[32]||(e[32]=n("label",{for:""},[i("Año ("),n("span",{style:{color:"red"}},"*"),i(")")],-1)),o(p,{name:"anio",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[o(ee,{style:{width:"100%"},value:l.anio,"onUpdate:value":e[10]||(e[10]=s=>l.anio=s)},null,8,["value"])]),_:1})])]),_:1}),o(m,{span:24,md:12,lg:12,xl:8,xxl:24},{default:a(()=>[n("div",null,[e[33]||(e[33]=n("label",{for:""}," Fec. inicio",-1)),o(p,{name:"estado"},{default:a(()=>[o(R,{value:l.f_inicio,"onUpdate:value":e[11]||(e[11]=s=>l.f_inicio=s),format:"DD/MM/YYYY",placeholder:"fecha inicio",style:{width:"100%"}},null,8,["value"])]),_:1})])]),_:1}),o(m,{span:24,md:12,lg:12,xl:8,xxl:24},{default:a(()=>[n("div",null,[e[34]||(e[34]=n("label",{for:""}," Fec. fin",-1)),o(p,{name:"estado"},{default:a(()=>[o(R,{value:l.f_fin,"onUpdate:value":e[12]||(e[12]=s=>l.f_fin=s),format:"DD/MM/YYYY",placeholder:"fecha fin",style:{width:"100%"}},null,8,["value"])]),_:1})])]),_:1}),o(m,{span:24,md:24,lg:8,xl:8,xxl:8},{default:a(()=>[o(p,{name:"fec_examen",rules:[{required:!0,message:"campo obligatorio"}]},{default:a(()=>[n("div",null,[e[35]||(e[35]=n("label",{for:""},"Fec. examen",-1)),o(w,{type:"text",style:{width:"100%"},value:l.fec_examen,"onUpdate:value":e[13]||(e[13]=s=>l.fec_examen=s),autocomplete:"off"},null,8,["value"])])]),_:1})]),_:1}),o(m,{span:24,md:24,lg:16,xl:16,xxl:16},{default:a(()=>[o(p,{name:"url"},{default:a(()=>[n("div",null,[e[36]||(e[36]=n("label",{for:""},"URL",-1)),l.slug!=null?(f(),E(w,{key:0,type:"text",style:{width:"100%"},value:k(r)+"/"+l.slug+"/preinscripcion",autocomplete:"off",disabled:""},null,8,["value"])):(f(),E(w,{key:1,type:"text",style:{width:"100%"},value:k(r)+"/"+l.slug+"/preinscripcion",autocomplete:"off",disabled:""},null,8,["value"]))])]),_:1})]),_:1}),o(m,{span:24,md:24,lg:24,xl:24,xxl:24},{default:a(()=>[o(p,{name:"observacion"},{default:a(()=>[n("div",null,[e[37]||(e[37]=n("label",{for:""},"Observacion",-1)),o(oe,{type:"text",style:{width:"100%"},value:l.observacion,"onUpdate:value":e[14]||(e[14]=s=>l.observacion=s),autocomplete:"off"},null,8,["value"])])]),_:1})]),_:1})]),_:1})]),_:1},16,["model","rules","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible"])]),_:1})],64)}}};export{so as default};
