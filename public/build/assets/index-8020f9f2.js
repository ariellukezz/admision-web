import{r as v,x as X,e as z,f as d,o as u,c as _,a as e,u as k,w as o,F as S,l as C,Z as Y,d as a,b as r,S as ee,t as p,g as m,s as D,E as te,D as oe,n as ae}from"./app-865e2c32.js";import{A as ne}from"./AuthenticatedLayout-97b09b3f.js";import{F as le}from"./FormOutlined-bf29d07b.js";import"./DropdownLink-91b84a00.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";/* empty css                                                                            */import"./TeamOutlined-def63045.js";const se={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},re={class:"mr-3"},ie={class:"flex justify-between",style:{position:"relative"}},de={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},ue={style:{}},me={key:0},pe={style:{"font-size":".9rem"}},ce={key:1},_e={style:{"font-size":".9rem"}},ve={key:2},ge={style:{"font-size":".9rem"}},fe={key:3},be={style:{"font-size":".9rem"}},xe={key:4,class:"flex",style:{"justify-content":"center"}},ye={key:5,class:"flex",style:{"justify-content":"center"}},he={key:0},ke={key:1},we={class:"flex",style:{"justify-content":"flex-end"}},Ie=a("div",{style:{"margin-bottom":"16px","margin-top":"0px"}},[a("h1",{style:{"font-size":"1.2rem"}},"Observados")],-1),Ce=a("div",null,[a("label",null,[r("DNI ("),a("span",{style:{color:"red"}},"*"),r(")")])],-1),Fe=a("div",null,[a("label",null,[r("Nombres ("),a("span",{style:{color:"red"}},"*"),r(")")])],-1),ze=a("div",null,[a("label",null,[r("Paterno ("),a("span",{style:{color:"red"}},"*"),r(")")])],-1),De=a("div",null,[a("label",null,[r("Materno ("),a("span",{style:{color:"red"}},"*"),r(")")])],-1),Ne=a("div",null,[a("label",null,[r("Motivo ("),a("span",{style:{color:"red"}},"*"),r(")")])],-1),Oe=a("div",{class:"flex justify-between"},[a("label",null,[r("Proceso ("),a("span",{style:{color:"red"}},"*"),r(")")])],-1),Ue=a("div",null,[a("label",null,"Observación:")],-1),$e={__name:"index",setup(Ae){const w=v(""),I=v(1),N=v(null);v("PUNO");const O=v([]),x=v(!1),j=v(""),U=v([]),A=v(),t=X({id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null}),M=()=>{x.value=!0,t.id=null,t.dni=null,t.nombres=null,t.paterno=null,t.materno=null,t.motivo=null,t.id_proceso=null};z(w,(s,n)=>{y()}),z(j,(s,n)=>{getDepartamentos()}),z(I,(s,n)=>{y()});const q=s=>{x.value=!0,t.id=s.id,t.dni=s.dni,t.nombres=s.nombres,t.paterno=s.paterno,t.materno=s.materno,t.motivo=s.motivo,t.id_proceso=s.id_proceso},B=async()=>{let s=await C.get("get-select-procesos");O.value=s.data.datos},y=async(s="")=>{let n=await C.post("get-observados-lista?page="+I.value,{term:w.value});U.value=n.data.datos.data,N.value=n.data.datos.total},$=async()=>{await A.value.validateFields(),C.post("save-observado",t).then(s=>{y(),t.value={id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null},V(s.data.tipo,s.data.titulo,""),t.id=null,t.dni=null,t.nombres=null,t.paterno=null,t.materno=null,t.motivo=null,t.id_proceso=null,x.value=!1})},G=s=>{C.get("eliminar-programa/"+s.id).then(n=>{y(),V("warning","PROGRAMA ELIMINADO",n.data.mensaje)})},L=[{title:"Cod",dataIndex:"dni",width:"100px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombres"},{title:"Motivo",dataIndex:"motivo",align:"center",responsive:["md"]},{title:"Proceso",dataIndex:"id_proceso",align:"center",width:"150px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],V=(s,n,g)=>{ae[s]({message:n,description:g})},R=s=>{console.log("Detalle:",s)};return B(),y(),(s,n)=>{const g=d("a-button"),b=d("a-input"),T=d("row"),h=d("a-tag"),Z=d("a-table"),H=d("a-pagination"),c=d("a-form-item"),f=d("a-col"),F=d("a-row"),J=d("a-select"),K=d("a-textarea"),Q=d("a-form"),W=d("a-modal");return u(),_(S,null,[e(k(Y),{title:"Pagos"}),e(ne,null,{default:o(()=>[a("div",se,[e(T,{class:"flex justify-between mb-4"},{default:o(()=>[a("div",re,[e(g,{type:"primary",style:{"border-radius":"5px",background:"#476175",border:"none"},onClick:M},{default:o(()=>[r("Agregar")]),_:1})]),a("div",ie,[e(b,{type:"text",placeholder:"Buscar",value:w.value,"onUpdate:value":n[0]||(n[0]=l=>w.value=l),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),a("div",de,[e(k(ee))])])]),_:1}),a("div",ue,[e(Z,{columns:L,"data-source":U.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:o(({column:l,index:P,record:i})=>[l.dataIndex==="dni"?(u(),_("div",me,[a("span",pe,p(i.dni),1)])):m("",!0),l.dataIndex==="nombres"?(u(),_("div",ce,[a("span",_e,p(i.paterno)+" "+p(i.materno)+" "+p(i.nombres),1)])):m("",!0),l.dataIndex==="motivo"?(u(),_("div",ve,[a("span",ge,p(i.motivo),1)])):m("",!0),l.dataIndex==="id_proceso"?(u(),_("div",fe,[a("span",be,p(i.nombre_proceso),1)])):m("",!0),l.dataIndex==="area"?(u(),_("div",xe,[i.area=="BIOMÉDICAS"?(u(),D(h,{key:0,style:{"font-size":".8rem"},color:"cyan"},{default:o(()=>[r(p(i.area),1)]),_:2},1024)):m("",!0),i.area=="SOCIALES"?(u(),D(h,{key:1,style:{"font-size":".8rem"},color:"purple"},{default:o(()=>[r(p(i.area),1)]),_:2},1024)):m("",!0),i.area=="INGENIERÍAS"?(u(),D(h,{key:2,style:{"font-size":".8rem"},color:"blue"},{default:o(()=>[r(p(i.area),1)]),_:2},1024)):m("",!0)])):m("",!0),l.dataIndex==="estado"?(u(),_("div",ye,[i.estado==1?(u(),_("div",he,[e(h,{color:"green"},{default:o(()=>[r("Si")]),_:1})])):m("",!0),i.estado==0?(u(),_("div",ke,[e(h,{color:"red"},{default:o(()=>[r("No")]),_:1})])):m("",!0)])):m("",!0),l.dataIndex==="acciones"?(u(),_(S,{key:6},[e(g,{disabled:"",type:"",onClick:E=>R(i),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:o(()=>[e(k(te))]),_:2},1032,["onClick"]),e(g,{type:"",onClick:E=>q(i),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:o(()=>[e(k(le))]),_:2},1032,["onClick"]),e(g,{class:"",onClick:E=>G(i),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:o(()=>[e(k(oe))]),_:2},1032,["onClick"])],64)):m("",!0)]),_:1},8,["data-source","scroll"])]),a("div",we,[e(H,{current:I.value,"onUpdate:current":n[1]||(n[1]=l=>I.value=l),simple:"","page-size":"50",total:N.value},null,8,["current","total"])])]),a("div",null,[e(W,{visible:x.value,"onUpdate:visible":n[10]||(n[10]=l=>x.value=l),style:{"margin-top":"-40px"}},{footer:o(()=>[e(g,{style:{"margin-left":"10px"},onClick:s.resetForm},{default:o(()=>[r("Cancelar")]),_:1},8,["onClick"]),e(g,{type:"primary",onClick:n[9]||(n[9]=l=>$())},{default:o(()=>[r("Guardar")]),_:1})]),default:o(()=>[e(Q,{ref_key:"formObservados",ref:A,model:t,name:"observado",onFinish:s.onFinish,onFinishFailed:s.onFinishFailed},{default:o(()=>[a("div",null,[Ie,e(F,{gutter:[16,0],class:"form-row mb-0"},{default:o(()=>[e(f,{span:24,md:12,lg:12,xl:12,xxl:12},{default:o(()=>[e(c,null,{default:o(()=>[Ce,e(c,{name:"dni",rules:[{required:!0,message:"Ingresa el DNI",trigger:"change"}]},{default:o(()=>[e(b,{value:t.dni,"onUpdate:value":n[2]||(n[2]=l=>t.dni=l)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(f,{span:24,md:12,lg:12,xl:12,xxl:12},{default:o(()=>[e(c,null,{default:o(()=>[Fe,e(c,{name:"nombres",rules:[{required:!0,message:"Ingresa los nombres",trigger:"change"}]},{default:o(()=>[e(b,{value:t.nombres,"onUpdate:value":n[3]||(n[3]=l=>t.nombres=l)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{gutter:[16,0],class:"form-row mb-0"},{default:o(()=>[e(f,{span:24,md:12,lg:12,xl:12,xxl:12},{default:o(()=>[e(c,null,{default:o(()=>[ze,e(c,{name:"paterno",rules:[{required:!0,message:"Ingresa el apellido paterno",trigger:"change"}]},{default:o(()=>[e(b,{value:t.paterno,"onUpdate:value":n[4]||(n[4]=l=>t.paterno=l)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(f,{span:24,md:12,lg:12,xl:12,xxl:12},{default:o(()=>[De,e(c,{name:"materno",rules:[{required:!0,message:"Ingresa el apellido materno",trigger:"change"}]},{default:o(()=>[e(b,{value:t.materno,"onUpdate:value":n[5]||(n[5]=l=>t.materno=l)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(F,{gutter:[16,0],class:"form-row",style:{"margin-top":"-20px"}},{default:o(()=>[e(f,{span:24,md:12,lg:12,xl:8,xxl:8},{default:o(()=>[e(c,{name:"motivo",rules:[{required:!0,message:"Ingresa un motivo",trigger:"change"}]},{default:o(()=>[Ne,e(b,{value:t.motivo,"onUpdate:value":n[6]||(n[6]=l=>t.motivo=l)},null,8,["value"])]),_:1})]),_:1}),e(f,{span:24,md:12,lg:12,xl:16,xxl:16},{default:o(()=>[e(c,{name:"id_proceso",rules:[{required:!0,message:"Ingresa el ID de proceso",trigger:"change"}]},{default:o(()=>[Oe,e(J,{value:t.id_proceso,"onUpdate:value":n[7]||(n[7]=l=>t.id_proceso=l),options:O.value,style:{width:"100%"},onChange:s.handleChange},{option:o(({label:l,value:P})=>[a("span",null,p(l)+" (ID: "+p(P)+")",1)]),_:1},8,["value","options","onChange"])]),_:1})]),_:1}),e(f,{span:24,md:24,lg:24,xl:24,xxl:24},{default:o(()=>[e(c,{name:"observacion"},{default:o(()=>[Ue,e(K,{value:t.observacion,"onUpdate:value":n[8]||(n[8]=l=>t.observacion=l)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1},8,["visible"])])]),_:1})],64)}}};export{$e as default};
