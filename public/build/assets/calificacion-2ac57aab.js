import{r as n,x as pe,e as C,f as i,o as r,c,a as t,u as d,w as a,F as D,l as U,Z as me,d as o,j as _e,i as ve,t as E,S as fe,s as ge,g as _,b as u,E as he,D as ye,k as xe,m as be,y as ke}from"./app-ac99223e.js";import{L as we}from"./LayoutCalificador-93f0d99c.js";import Ce from"./leer-ide-c4108327.js";import Ee from"./leer-resp-6094be8f.js";import Ie from"./leer-patron-6fcb42c2.js";import $e from"./participantes-c001d1f0.js";import Ve from"./calificacion-1f9ffd02.js";import{E as A}from"./EnvironmentOutlined-50c267c1.js";import{H as Ne}from"./HomeOutlined-13440532.js";import{F as Se}from"./FormOutlined-7e7a3b6d.js";import"./DropdownLink-89df0c90.js";import"./logotiny-c4b525af.js";/* empty css                                                                          */import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-d219dbc8.js";import"./SaveOutlined-1852da7f.js";import"./ficha-0832f5e4.js";import"./logoDAD-c76d0a0b.js";import"./xlsx-03fd725b.js";const ze={class:"mb-4",style:{width:"100%"}},De=["onContextmenu"],Ue={class:"ml-0 flex mb-0 mt-0"},qe={class:"flex"},Fe={style:{"margin-top":"-4px"}},Me=["onClick"],Oe={class:"flex",style:{height:"20px","align-items":"center"}},je={class:"carpetas-select px-1"},Be={key:0},Te={class:"flex justify-end mt-0 mb-3",style:{"margin-top":"-2px"}},Ye={style:{color:"#0000009d","margin-top":"-6px"}},Ke={key:0},Le=["onDblclick"],Pe={key:2,class:"flex",style:{"justify-content":"center"}},Re={key:0},He={key:1},Ae=o("div",{style:{"margin-top":"0px"}}," Nuevo Proceso ",-1),Ge=o("div",{style:{"margin-top":"0px"}}," Subir archivo ",-1),Xe=o("div",{style:{"margin-top":"0px"}}," selees ",-1),Ze={style:{background:"#476175",height:"42px","margin-left":"-24px","margin-right":"-24px","margin-top":"-24px"}},Je={class:"flex justify-between ml-3 mr-1",style:{height:"36px","align-items":"center"}},Qe=o("div",{class:"flex pt-2"},[o("div",{class:"mt-0",style:{"margin-top":"2px"}},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 22 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-folder"},[o("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])]),o("span",{class:"ml-2",style:{"font-weight":"500",color:"white","font-size":"1rem"}},"Nuevo proceso")],-1),We={class:"flex"},et={style:{width:"100%"},class:"mt-4"},tt=o("label",null,[u("Nombre"),o("span",{style:{}},"*")],-1),ot={style:{color:"#0000009d","margin-top":"-6px"}},st={class:"mt-2",style:{width:"100%"}},at=o("span",{style:{color:"red"}},"*",-1),lt={style:{color:"#0000009d","margin-top":"-6px"}},nt={class:"mt-2",style:{width:"100%"}},it=o("label",null,[u("Fecha"),o("span",{style:{color:"red"}},"*")],-1),rt={style:{color:"#0000009d","margin-top":"-6px"}},ct={class:"mt-0 mb-2"},dt={style:{margin:"-24px","margin-top":"-5px"},class:"px-6 pt-4 pb-3 flex justify-end"},ut={class:"mr-2"},pt={key:1,class:"mt-3"},Ut={__name:"calificacion",setup(mt){const p=n([{id:0,nombre:"Simulacros"}]);n([]);const G=n(null),X=n([]),I=n(1),y=n(!1);n("");const v=n(null),q=n(),m=pe({nombre:"",fecha:"",ubigeo:null}),F=n(null),M=n(null),x=n(null),O=n([]);let b;const j=n("1"),B=n([]),k=n(""),Z=e=>{p.value.push({id:e.id,nombre:"/ "+e.nombre}),v.value=e.id};C(M,(e,s)=>{m.ubigeo=e}),C(x,(e,s)=>{clearTimeout(b),b=setTimeout(()=>{T()},500)}),C(k,(e,s)=>{clearTimeout(b),b=setTimeout(()=>{Y()},400)});const J=(e,s)=>{M.value=s.key},T=async()=>{U.post("/get-ubigeo",{term:x.value}).then(e=>{O.value=e.data.datos.data}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},Y=async()=>{U.post("/get-sim",{term:k.value}).then(e=>{B.value=e.data.datos.data}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})};Y();const Q=async()=>{await q.value.validateFields(),console.log("guardar")},K=async()=>{try{const e=await U.get("/raiz/ver-contenido-carpeta/"+I.value);X.value=e.data.carpetas,G.value=e.data.carpeta}catch(e){e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)}},W=async e=>{const s=p.value.indexOf(e);s!==-1?p.value.splice(s+1,p.value.length-s):p.value.push(e),I.value=e.id};C(I,(e,s)=>{K()});const ee=e=>{w.value=!1},te=()=>{y.value=!1};K();const w=n(!1),L=n(0),P=n(0),oe=e=>{w.value=!0,L.value=e.clientY,P.value=e.clientX,e.preventDefault()},$=e=>{e==="1"?(y.value=!0,w.value=!1):console.log("2")},se=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"Nombre",dataIndex:"nombre"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Vigente",dataIndex:"estado",align:"center",width:"100px"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"96px"}];return T(),(e,s)=>{const V=i("a-input"),R=i("a-tag"),f=i("a-button"),ae=i("a-popconfirm"),le=i("a-table"),N=i("a-menu-item"),ne=i("a-menu"),S=i("a-form-item"),ie=i("a-auto-complete"),re=i("a-date-picker"),ce=i("a-form"),de=i("a-modal"),h=i("a-tab-pane"),ue=i("a-tabs");return r(),c(D,null,[t(d(me),{title:"Calificación"}),t(we,null,{default:a(()=>[o("div",ze,[o("div",{class:"p-4",style:{background:"white",width:"100%","min-height":"calc(100vh - 90px)","border-radius":"12px"},onClick:ee,onContextmenu:_e(oe,["prevent"])},[o("div",Ue,[o("div",qe,[o("div",Fe,[t(d(Ne))]),(r(!0),c(D,null,ve(p.value,l=>(r(),c("div",{key:l.id,onClick:H=>W(l)},[o("div",Oe,[o("div",je,E(l.nombre),1)])],8,Me))),128))])]),p.value.length===1?(r(),c("div",Be,[o("div",Te,[t(V,{value:k.value,"onUpdate:value":s[0]||(s[0]=l=>k.value=l),style:{"max-width":"300px","border-radius":"6px",height:"36px"},placeholder:"Buscar"},{prefix:a(()=>[o("span",Ye,[t(d(fe))])]),_:1},8,["value"])]),(r(),ge(le,{columns:se,"data-source":B.value,key:e.id,size:"small",pagination:!1,style:{scale:".7rem"}},{bodyCell:a(({column:l,index:H,record:g})=>[l.dataIndex==="nro"?(r(),c("span",Ke,E(H+1),1)):_("",!0),l.dataIndex==="nombre"?(r(),c("div",{key:1,style:{width:"100%",cursor:"pointer"},onDblclick:z=>Z(g)},[o("span",null,E(g.nombre),1)],40,Le)):_("",!0),l.dataIndex==="estado"?(r(),c("div",Pe,[g.estado===1?(r(),c("div",Re,[t(R,{color:"cyan"},{default:a(()=>[u("Vigente")]),_:1})])):(r(),c("div",He,[t(R,{color:"red"},{default:a(()=>[u("No Vigente")]),_:1})]))])):_("",!0),l.dataIndex==="acciones"?(r(),c(D,{key:3},[t(f,{type:"gray",class:"mr-1",style:{color:"#476175"},onClick:z=>e.verFicha(g.id),size:"small"},{icon:a(()=>[t(d(he))]),_:2},1032,["onClick"]),t(f,{onClick:z=>e.abrirEditar(g),class:"mr-1",style:{color:"blue"},size:"small"},{icon:a(()=>[t(d(Se))]),_:2},1032,["onClick"]),t(ae,{title:"¿Estas seguro de eliminar?",onConfirm:z=>e.eliminar(g)},{default:a(()=>[t(f,{shape:"",size:"small",style:{color:"crimson"}},{icon:a(()=>[t(d(ye))]),_:1})]),_:2},1032,["onConfirm"])],64)):_("",!0)]),_:1},8,["data-source"])),w.value?(r(),c("div",{key:0,style:xe([{position:"absolute",border:"solid 1px #d9d9d943","padding-top":"0px","border-radius":"8px",overflow:"hidden"},{top:`${L.value}px`,left:`${P.value}px`}])},[t(ne,{size:"small",style:{"margin-top":"-4px","margin-bottom":"-4px"}},{default:a(()=>[t(N,{key:"1",class:"selec-menu",onClick:s[1]||(s[1]=l=>$("1"))},{default:a(()=>[Ae]),_:1}),t(N,{key:"2",class:"selec-menu",onClick:s[2]||(s[2]=l=>$("2"))},{default:a(()=>[Ge]),_:1}),t(N,{key:"2",class:"selec-menu",onClick:s[3]||(s[3]=l=>$("2"))},{default:a(()=>[Xe]),_:1})]),_:1})],4)):_("",!0),t(de,{visible:y.value,"onUpdate:visible":s[10]||(s[10]=l=>y.value=l),closable:!1,centered:"",style:{},footer:!1},{default:a(()=>[o("div",Ze,[o("div",Je,[Qe,o("div",null,[o("span",null,[t(f,{onClick:s[4]||(s[4]=l=>te()),style:{background:"none",border:"none",color:"white","font-size":"1.1rem"}},{default:a(()=>[u("x")]),_:1})])])])]),t(ce,{ref_key:"formDatos",ref:q,name:"form",model:m,rules:e.formRules},{default:a(()=>[o("div",We,[o("div",et,[o("div",null,[t(S,{name:"nombre",rules:[{required:!0,message:"Ingresa el nombre del proceso",trigger:"change"}]},{default:a(()=>[tt,t(V,{value:m.nombre,"onUpdate:value":s[5]||(s[5]=l=>m.nombre=l),style:{width:"100%","border-radius":"4px",height:"36px"},placeholder:"Nombre del proceso"},{prefix:a(()=>[o("span",ot,[t(d(be))])]),_:1},8,["value"])]),_:1})]),o("div",st,[o("label",null,[u("Ubicación"),at,u(" "+E(m.ubigeo),1)]),t(S,{name:"ubigeo",rules:[{required:!0,message:"Seleccione la ubicación",trigger:["change","blur"]}]},{default:a(()=>[t(ie,{value:F.value,"onUpdate:value":s[7]||(s[7]=l=>F.value=l),options:O.value,onSelect:J},{default:a(()=>[t(V,{placeholder:"Procedencia del Colegio",value:x.value,"onUpdate:value":s[6]||(s[6]=l=>x.value=l),style:{"border-radius":"4px",height:"36px"}},{prefix:a(()=>[o("span",lt,[t(d(A))])]),suffix:a(()=>[t(d(ke))]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),o("div",nt,[it,t(S,{name:"fecha",rules:[{required:!0,message:"Ingresa tu fecha de nacimiento",trigger:"change"}]},{default:a(()=>[t(re,{style:{width:"100%","border-radius":"4px",height:"36px"},placeholder:"Seleccionar fec. nacimiento",value:m.fecha,"onUpdate:value":s[8]||(s[8]=l=>m.fecha=l),format:"DD/MM/YYYY"},{prefix:a(()=>[o("span",rt,[t(d(A))])]),_:1},8,["value"])]),_:1})])])])]),_:1},8,["model","rules"]),o("div",ct,[o("div",dt,[o("div",ut,[t(f,{style:{border:"1px solid #476175",color:"#476175",width:"100px",height:"36px","border-radius":"4px"}},{default:a(()=>[u(" Cancelar ")]),_:1})]),o("div",null,[t(f,{onClick:s[9]||(s[9]=l=>Q()),style:{background:"#476175",border:"none",color:"white",width:"100px",height:"36px","border-radius":"4px"}},{default:a(()=>[u(" Guardar ")]),_:1})])])])]),_:1},8,["visible"])])):_("",!0),p.value.length===2?(r(),c("div",pt,[t(ue,{activeKey:j.value,"onUpdate:activeKey":s[11]||(s[11]=l=>j.value=l),type:"card","tab-position":"top"},{default:a(()=>[t(h,{key:"1",tab:"Participantes",style:{margin:"-10px"}},{default:a(()=>[o("div",null,[t($e,{proceso:v.value},null,8,["proceso"])])]),_:1}),t(h,{key:"2",tab:"Ides",style:{margin:"-10px"}},{default:a(()=>[o("div",null,[t(Ce,{proceso:v.value},null,8,["proceso"])])]),_:1}),t(h,{key:"3",tab:"Respuestas",style:{margin:"-10px"}},{default:a(()=>[o("div",null,[t(Ee,{proceso:v.value},null,8,["proceso"])])]),_:1}),t(h,{key:"4",tab:"Res correctas"},{default:a(()=>[o("div",null,[t(Ie,{proceso:v.value},null,8,["proceso"])])]),_:1}),t(h,{key:"5",tab:"Calificación"},{default:a(()=>[t(Ve,{proceso:v.value},null,8,["proceso"])]),_:1})]),_:1},8,["activeKey"])])):_("",!0)],40,De)])]),_:1})],64)}}};export{Ut as default};
