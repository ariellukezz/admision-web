import{a as t,A as _e,r as i,z as fe,e as I,f as r,o as c,c as d,u as p,w as n,F as U,l as j,Z as ge,d as o,j as he,i as be,t as z,S as ye,s as xe,g as h,b as v,E as ke,D as we,k as Ce,m as Oe,x as Ee}from"./app-8d78a206.js";import{L as $e}from"./LayoutCalificador-32c7d3c5.js";import Ie from"./leer-ide-25cdc1d7.js";import ze from"./leer-resp-3eb7182b.js";import Se from"./leer-patron-d56e58f7.js";import Ve from"./participantes-d3e86123.js";import Ne from"./calificacion-71dc3f74.js";import{H as De}from"./HomeOutlined-e7ed6900.js";import{F as Me}from"./FormOutlined-cd89fb5d.js";import"./DropdownLink-f1b96100.js";import"./logotiny-c4b525af.js";/* empty css                                                                          */import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-02dc6e8e.js";import"./SaveOutlined-b7cacdb7.js";import"./ficha-0b9f342d.js";import"./logoDAD-c76d0a0b.js";import"./xlsx-4f9172c7.js";var Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};const je=Ue;function J(m){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?Object(arguments[l]):{},f=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(u).filter(function(_){return Object.getOwnPropertyDescriptor(u,_).enumerable}))),f.forEach(function(_){qe(m,_,u[_])})}return m}function qe(m,l,u){return l in m?Object.defineProperty(m,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):m[l]=u,m}var q=function(l,u){var f=J({},l,u.attrs);return t(_e,J({},f,{icon:je}),null)};q.displayName="EnvironmentOutlined";q.inheritAttrs=!1;const Q=q;const Fe={class:"mb-4",style:{width:"100%"}},Pe={class:"ml-0 flex mb-0 mt-0"},Ae={class:"flex"},Be={style:{"margin-top":"-4px"}},Te=["onClick"],Ye={class:"flex",style:{height:"20px","align-items":"center"}},Le={class:"carpetas-select px-1"},Re={key:0},He={class:"flex justify-end mt-0 mb-3",style:{"margin-top":"-2px"}},Ke={style:{color:"#0000009d","margin-top":"-6px"}},Ge={key:0},Xe=["onDblclick"],Ze={key:2,class:"flex",style:{"justify-content":"center"}},Je={key:0},Qe={key:1},We=o("div",{style:{"margin-top":"0px"}}," Nuevo Proceso ",-1),et=o("div",{style:{"margin-top":"0px"}}," Subir archivo ",-1),tt=o("div",{style:{"margin-top":"0px"}}," selees ",-1),ot={style:{background:"#476175",height:"42px","margin-left":"-24px","margin-right":"-24px","margin-top":"-24px"}},at={class:"flex justify-between ml-3 mr-1",style:{height:"36px","align-items":"center"}},nt=o("div",{class:"flex pt-2"},[o("div",{class:"mt-0",style:{"margin-top":"2px"}},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 22 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-folder"},[o("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])]),o("span",{class:"ml-2",style:{"font-weight":"500",color:"white","font-size":"1rem"}},"Nuevo proceso")],-1),st={class:"flex"},lt={style:{width:"100%"},class:"mt-4"},it=o("label",null,[v("Nombre"),o("span",{style:{}},"*")],-1),rt={style:{color:"#0000009d","margin-top":"-6px"}},ct={class:"mt-2",style:{width:"100%"}},dt=o("span",{style:{color:"red"}},"*",-1),ut={style:{color:"#0000009d","margin-top":"-6px"}},pt={class:"mt-2",style:{width:"100%"}},mt=o("label",null,[v("Fecha"),o("span",{style:{color:"red"}},"*")],-1),vt={style:{color:"#0000009d","margin-top":"-6px"}},_t={class:"mt-0 mb-2"},ft={style:{margin:"-24px","margin-top":"-5px"},class:"px-6 pt-4 pb-3 flex justify-end"},gt={class:"mr-2"},ht={key:1,class:"mt-3"},qt={__name:"calificacion",setup(m){const l=i([{id:0,nombre:"Simulacros"}]);i([]);const u=i(null),f=i([]),_=i(1),w=i(!1);i("");const b=i(null),F=i(),g=fe({nombre:"",fecha:"",ubigeo:null}),P=i(null),A=i(null),C=i(null),B=i([]);let O;const T=i("1"),Y=i([]),E=i(""),W=e=>{l.value.push({id:e.id,nombre:"/ "+e.nombre}),b.value=e.id};I(A,(e,a)=>{g.ubigeo=e}),I(C,(e,a)=>{clearTimeout(O),O=setTimeout(()=>{L()},500)}),I(E,(e,a)=>{clearTimeout(O),O=setTimeout(()=>{R()},400)});const ee=(e,a)=>{A.value=a.key},L=async()=>{j.post("/get-ubigeo",{term:C.value}).then(e=>{B.value=e.data.datos.data}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},R=async()=>{j.post("/get-sim",{term:E.value}).then(e=>{Y.value=e.data.datos.data}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})};R();const te=async()=>{await F.value.validateFields(),console.log("guardar")},H=async()=>{try{const e=await j.get("/raiz/ver-contenido-carpeta/"+_.value);f.value=e.data.carpetas,u.value=e.data.carpeta}catch(e){e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)}},oe=async e=>{const a=l.value.indexOf(e);a!==-1?l.value.splice(a+1,l.value.length-a):l.value.push(e),_.value=e.id};I(_,(e,a)=>{H()});const ae=e=>{$.value=!1},ne=()=>{w.value=!1};H();const $=i(!1),K=i(0),G=i(0),se=e=>{$.value=!0,K.value=e.clientY,G.value=e.clientX,e.preventDefault()},S=e=>{e==="1"?(w.value=!0,$.value=!1):console.log("2")},le=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"Nombre",dataIndex:"nombre"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Vigente",dataIndex:"estado",align:"center",width:"100px"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"96px"}];return L(),(e,a)=>{const V=r("a-input"),X=r("a-tag"),y=r("a-button"),ie=r("a-popconfirm"),re=r("a-table"),N=r("a-menu-item"),ce=r("a-menu"),D=r("a-form-item"),de=r("a-auto-complete"),ue=r("a-date-picker"),pe=r("a-form"),me=r("a-modal"),k=r("a-tab-pane"),ve=r("a-tabs");return c(),d(U,null,[t(p(ge),{title:"Calificación"}),t($e,null,{default:n(()=>[o("div",Fe,[o("div",{class:"p-4",style:{background:"white",width:"100%","min-height":"calc(100vh - 90px)","border-radius":"12px"},onClick:ae,onContextmenu:he(se,["prevent"])},[o("div",Pe,[o("div",Ae,[o("div",Be,[t(p(De))]),(c(!0),d(U,null,be(l.value,s=>(c(),d("div",{key:s.id,onClick:Z=>oe(s)},[o("div",Ye,[o("div",Le,z(s.nombre),1)])],8,Te))),128))])]),l.value.length===1?(c(),d("div",Re,[o("div",He,[t(V,{value:E.value,"onUpdate:value":a[0]||(a[0]=s=>E.value=s),style:{"max-width":"300px","border-radius":"6px",height:"36px"},placeholder:"Buscar"},{prefix:n(()=>[o("span",Ke,[t(p(ye))])]),_:1},8,["value"])]),(c(),xe(re,{columns:le,"data-source":Y.value,key:e.id,size:"small",pagination:!1,style:{scale:".7rem"}},{bodyCell:n(({column:s,index:Z,record:x})=>[s.dataIndex==="nro"?(c(),d("span",Ge,z(Z+1),1)):h("",!0),s.dataIndex==="nombre"?(c(),d("div",{key:1,style:{width:"100%",cursor:"pointer"},onDblclick:M=>W(x)},[o("span",null,z(x.nombre),1)],40,Xe)):h("",!0),s.dataIndex==="estado"?(c(),d("div",Ze,[x.estado===1?(c(),d("div",Je,[t(X,{color:"cyan"},{default:n(()=>[v("Vigente")]),_:1})])):(c(),d("div",Qe,[t(X,{color:"red"},{default:n(()=>[v("No Vigente")]),_:1})]))])):h("",!0),s.dataIndex==="acciones"?(c(),d(U,{key:3},[t(y,{type:"gray",class:"mr-1",style:{color:"#476175"},onClick:M=>e.verFicha(x.id),size:"small"},{icon:n(()=>[t(p(ke))]),_:2},1032,["onClick"]),t(y,{onClick:M=>e.abrirEditar(x),class:"mr-1",style:{color:"blue"},size:"small"},{icon:n(()=>[t(p(Me))]),_:2},1032,["onClick"]),t(ie,{title:"¿Estas seguro de eliminar?",onConfirm:M=>e.eliminar(x)},{default:n(()=>[t(y,{shape:"",size:"small",style:{color:"crimson"}},{icon:n(()=>[t(p(we))]),_:1})]),_:2},1032,["onConfirm"])],64)):h("",!0)]),_:1},8,["data-source"])),$.value?(c(),d("div",{key:0,style:Ce([{position:"absolute",border:"solid 1px #d9d9d943","padding-top":"0px","border-radius":"8px",overflow:"hidden"},{top:`${K.value}px`,left:`${G.value}px`}])},[t(ce,{size:"small",style:{"margin-top":"-4px","margin-bottom":"-4px"}},{default:n(()=>[t(N,{key:"1",class:"selec-menu",onClick:a[1]||(a[1]=s=>S("1"))},{default:n(()=>[We]),_:1}),t(N,{key:"2",class:"selec-menu",onClick:a[2]||(a[2]=s=>S("2"))},{default:n(()=>[et]),_:1}),t(N,{key:"2",class:"selec-menu",onClick:a[3]||(a[3]=s=>S("2"))},{default:n(()=>[tt]),_:1})]),_:1})],4)):h("",!0),t(me,{visible:w.value,"onUpdate:visible":a[10]||(a[10]=s=>w.value=s),closable:!1,centered:"",style:{},footer:!1},{default:n(()=>[o("div",ot,[o("div",at,[nt,o("div",null,[o("span",null,[t(y,{onClick:a[4]||(a[4]=s=>ne()),style:{background:"none",border:"none",color:"white","font-size":"1.1rem"}},{default:n(()=>[v("x")]),_:1})])])])]),t(pe,{ref_key:"formDatos",ref:F,name:"form",model:g,rules:e.formRules},{default:n(()=>[o("div",st,[o("div",lt,[o("div",null,[t(D,{name:"nombre",rules:[{required:!0,message:"Ingresa el nombre del proceso",trigger:"change"}]},{default:n(()=>[it,t(V,{value:g.nombre,"onUpdate:value":a[5]||(a[5]=s=>g.nombre=s),style:{width:"100%","border-radius":"4px",height:"36px"},placeholder:"Nombre del proceso"},{prefix:n(()=>[o("span",rt,[t(p(Oe))])]),_:1},8,["value"])]),_:1})]),o("div",ct,[o("label",null,[v("Ubicación"),dt,v(" "+z(g.ubigeo),1)]),t(D,{name:"ubigeo",rules:[{required:!0,message:"Seleccione la ubicación",trigger:["change","blur"]}]},{default:n(()=>[t(de,{value:P.value,"onUpdate:value":a[7]||(a[7]=s=>P.value=s),options:B.value,onSelect:ee},{default:n(()=>[t(V,{placeholder:"Procedencia del Colegio",value:C.value,"onUpdate:value":a[6]||(a[6]=s=>C.value=s),style:{"border-radius":"4px",height:"36px"}},{prefix:n(()=>[o("span",ut,[t(p(Q))])]),suffix:n(()=>[t(p(Ee))]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),o("div",pt,[mt,t(D,{name:"fecha",rules:[{required:!0,message:"Ingresa tu fecha de nacimiento",trigger:"change"}]},{default:n(()=>[t(ue,{style:{width:"100%","border-radius":"4px",height:"36px"},placeholder:"Seleccionar fec. nacimiento",value:g.fecha,"onUpdate:value":a[8]||(a[8]=s=>g.fecha=s),format:"DD/MM/YYYY"},{prefix:n(()=>[o("span",vt,[t(p(Q))])]),_:1},8,["value"])]),_:1})])])])]),_:1},8,["model","rules"]),o("div",_t,[o("div",ft,[o("div",gt,[t(y,{style:{border:"1px solid #476175",color:"#476175",width:"100px",height:"36px","border-radius":"4px"}},{default:n(()=>[v(" Cancelar ")]),_:1})]),o("div",null,[t(y,{onClick:a[9]||(a[9]=s=>te()),style:{background:"#476175",border:"none",color:"white",width:"100px",height:"36px","border-radius":"4px"}},{default:n(()=>[v(" Guardar ")]),_:1})])])])]),_:1},8,["visible"])])):h("",!0),l.value.length===2?(c(),d("div",ht,[t(ve,{activeKey:T.value,"onUpdate:activeKey":a[11]||(a[11]=s=>T.value=s),type:"card","tab-position":"top"},{default:n(()=>[t(k,{key:"1",tab:"Participantes",style:{margin:"-10px"}},{default:n(()=>[o("div",null,[t(Ve,{proceso:b.value},null,8,["proceso"])])]),_:1}),t(k,{key:"2",tab:"Ides",style:{margin:"-10px"}},{default:n(()=>[o("div",null,[t(Ie,{proceso:b.value},null,8,["proceso"])])]),_:1}),t(k,{key:"3",tab:"Respuestas",style:{margin:"-10px"}},{default:n(()=>[o("div",null,[t(ze,{proceso:b.value},null,8,["proceso"])])]),_:1}),t(k,{key:"4",tab:"Res correctas"},{default:n(()=>[o("div",null,[t(Se,{proceso:b.value},null,8,["proceso"])])]),_:1}),t(k,{key:"5",tab:"Calificación"},{default:n(()=>[t(Ne,{proceso:b.value},null,8,["proceso"])]),_:1})]),_:1},8,["activeKey"])])):h("",!0)],32)])]),_:1})],64)}}};export{qt as default};
