import{r as m,e as B,c as v,a as e,u as j,w as t,F as P,j as g,o as _,X as ne,d as l,t as z,Q as K,k as A,x as ie,b as C,f as b,n as de,g as p,p as ue,h as re,s as ce}from"./app-751a8cf3.js";import{A as pe}from"./LayoutDocente-d0b4e83a.js";import _e from"./voucher-7b2a0902.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{f as ve}from"./index-92fa7fc8.js";import{C as ge}from"./CreditCardOutlined-1c981f41.js";import"./DropdownLink-d20e6d0a.js";import"./logotiny-c4b525af.js";const i=q=>(ue("data-v-d2b4d979"),q=q(),re(),q),fe=i(()=>l("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),he={style:{height:"34px"}},be={style:{"font-weight":"700",color:"black","font-size":".7rem"}},ye={style:{"margin-top":"-10px"}},xe={style:{"font-size":".8rem","text-transform":"uppercase"}},we={style:{height:"40px","margin-left":"-10px"}},ke={style:{"font-weight":"bold"}},Ue={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},je=i(()=>l("div",{class:"flex mb-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos personales")],-1)),Ce={key:0},qe=i(()=>l("label",null,"Primer Apellido",-1)),Ee=i(()=>l("label",null,"Segundo Apellido",-1)),Ie=i(()=>l("label",null,"Prenombres",-1)),Se=i(()=>l("label",null,"Tipo documento",-1)),De=i(()=>l("label",null,"Sexo",-1)),ze=i(()=>l("label",null,"Fecha de nacimiento",-1)),Pe={class:"mb-3"},Ne=["src"],Ve=i(()=>l("div",{class:"flex justify-center"}," H. Der.",-1)),Fe=["src"],Me=i(()=>l("div",{class:"flex justify-center"}," H. Izq.",-1)),Be=["src"],Ke={class:"flex justify-end mb-0"},Ae=i(()=>l("span",{style:{"font-weight":"bold"}}," Actualizar Datos ",-1)),Oe={class:"flex justify-center",style:{"margin-top":"-15px"}},Te={style:{padding:"0px 2px","font-size":"2.6rem","margin-top":"2px","font-weight":"bold"}},Le={key:0,class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},Re=i(()=>l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso anterior",-1)),Ye=[Re],He={key:1},We=i(()=>l("label",null,"Ciclo",-1)),$e=i(()=>l("label",null,"Carrera",-1)),Je=i(()=>l("label",null,"Codigo",-1)),Qe=i(()=>l("div",{class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso")],-1)),Xe=i(()=>l("label",null,"Proceso",-1)),Ge=i(()=>l("label",null,"Modalidad",-1)),Ze=i(()=>l("label",null,"Programa",-1)),et=i(()=>l("label",null,"Puntaje",-1)),tt=i(()=>l("label",null,"Fecha ingreso",-1)),lt=i(()=>l("div",{class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Correo y codigo")],-1)),at=i(()=>l("label",null,"Correo",-1)),ot=i(()=>l("label",null,"Codigo",-1)),st={class:"",style:{width:"100%",height:"380px"}},nt={key:0},it={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},dt={key:0},ut=["src"],rt={style:{height:"380px"}},ct={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},pt={key:0},_t=["src"],mt={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},vt={key:0},gt=["src"],ft=i(()=>l("div",null,null,-1)),ht={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},bt={__name:"imprimir",setup(q){const E=window.location.origin,x=m(null),d=m(null),N=m([]),I=m([]),O=m(),T=()=>{O.value=Math.floor(Math.random()*100)+1},S=m([]);m(!0);const V=m([]),L=async()=>{let s=await g.get("get-requisitos");V.value=s.data.datos},R=m(null),a=m({id:null,nro_doc:"",tipo_doc:null,nombres:null,sexo:null,fec_nacimiento:null,primer_apellido:"",segundo_apellido:"",proceso:"",puntaje:"",programa:"",fecha:""}),Y=async()=>{let s=await g.get("get-ingresante-general/"+x.value);a.value.id=s.data.datos.id,a.value.nro_doc=s.data.datos.nro_doc,a.value.tipo_doc=s.data.datos.tipo_doc,a.value.sexo=s.data.datos.sexo,s.data.datos.fec_nacimiento&&(a.value.fec_nacimiento=ce(s.data.datos.fec_nacimiento)),a.value.nombres=s.data.datos.nombres,a.value.primer_apellido=s.data.datos.primer_apellido,a.value.segundo_apellido=s.data.datos.segundo_apellido,a.value.proceso=s.data.datos.proceso,a.value.puntaje=s.data.datos.puntaje,a.value.programa=s.data.datos.programa,s.data.datos.fecha&&(a.value.fecha=s.data.datos.fecha),Z()},H=async()=>{let s=await g.post("actualizar-ingresante",{id:a.value.id,tipo_doc:a.value.tipo_doc,sexo:a.value.sexo,fec_nacimiento:ve(new Date(a.value.fec_nacimiento),"yyyy-MM-dd"),nombres:a.value.nombres,paterno:a.value.primer_apellido,materno:a.value.segundo_apellido});ee(s.data.tipo,s.data.titulo,s.data.mensaje),J()},W=async(s="",o=1)=>{let r=await g.post("get-postulantes?page="+o,{term:x.value});N.value=r.data.datos.data},$=async()=>{S.value=[];let s=await g.post("get-postulante-requisitos",{dni:d.value});s.data.estado===!0&&(S.value=JSON.parse(s.data.datos.requisitos))},J=async()=>{T();let s=await g.post("get-postulante-dni",{dni:d.value});postulante.value.id=s.data.datos.id_postulante,postulante.value.dni_temp=s.data.datos.dni};B(x,(s,o)=>{W()}),B(d,(s,o)=>{$(),Y(),X()});const Q=async()=>{let s=await g.post("control-biometrico",{dni:d.value,codigo:f.value.codigo,correo:f.value.correo});G(s.data.datos)},f=m({correo:"",codigo:""}),X=async()=>{let s=await g.get("get-codigo/"+d.value);f.value=s.data.datos},G=s=>{var o=document.createElement("iframe");o.style.display="none",o.src=E+"/documentos/control-biometrico-general/"+s+".pdf",document.body.appendChild(o),o.contentWindow.focus(),o.contentWindow.print()},Z=async()=>{try{const s=await g.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:a.value.nro_doc,nom_:a.value.nombres,app_:a.value.primer_apellido,apm_:a.value.segundo_apellido},{headers:{"Content-Type":"application/json"}});I.value=s.data,console.log("::",s.data)}catch(s){console.error("Error:",s)}};L();const ee=(s,o,r)=>{de[s]({message:o,description:r})};return(s,o)=>{const r=p("a-input"),te=p("a-auto-complete"),u=p("a-col"),h=p("a-row"),le=p("a-checkbox"),ae=p("a-checkbox-group"),c=p("a-form-item"),D=p("a-select-option"),F=p("a-select"),oe=p("a-date-picker"),M=p("a-button"),w=p("a-card"),y=p("a-tab-pane"),se=p("a-tabs");return _(),v(P,null,[e(j(ne),{title:"Revisión de documentos"}),e(pe,null,{default:t(()=>[l("div",null,[e(w,{style:{background:"white"},class:"mb-0 p-0"},{default:t(()=>[e(h,{gutter:16,class:"mb-3"},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:t(()=>[l("div",null,[fe,e(te,{value:d.value,"onUpdate:value":o[1]||(o[1]=n=>d.value=n),options:N.value,style:{width:"300px"},onSelect:s.onSelect,onSearch:s.onSearch},{suffix:t(()=>[e(j(ge))]),option:t(({value:n,label:k})=>[l("div",he,[l("div",null,[l("span",be,z(n),1)]),l("div",ye,[l("span",xe,z(k),1)])])]),default:t(()=>[e(r,{ref_key:"dniInput",ref:R,placeholder:"Buscar",value:x.value,"onUpdate:value":o[0]||(o[0]=n=>x.value=n),onKeypress:s.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24},{default:t(()=>[l("div",we,[e(ae,{value:S.value,"onUpdate:value":o[2]||(o[2]=n=>S.value=n)},{default:t(()=>[(_(!0),v(P,null,K(V.value,(n,k)=>(_(),A(le,{key:n.value,value:n.value,class:ie([{"first-item":k===0},"checkbox-item"])},{default:t(()=>[l("span",ke,z(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1})]),_:1}),e(h,{gutter:16},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:t(()=>[l("div",Ue,[e(se,{activeKey:s.activeKey,"onUpdate:activeKey":o[17]||(o[17]=n=>s.activeKey=n),type:"card",style:{}},{default:t(()=>[e(y,{key:"7",tab:"Datos",class:"pl-2 pr-2"},{default:t(()=>[je,a.value?(_(),v("div",Ce,[e(w,null,{default:t(()=>[e(h,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[qe,e(r,{value:a.value.primer_apellido,"onUpdate:value":o[3]||(o[3]=n=>a.value.primer_apellido=n)},null,8,["value"])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ee,e(r,{value:a.value.segundo_apellido,"onUpdate:value":o[4]||(o[4]=n=>a.value.segundo_apellido=n)},null,8,["value"])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ie,e(r,{value:a.value.nombres,"onUpdate:value":o[5]||(o[5]=n=>a.value.nombres=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Se,l("div",null,[e(F,{ref:"tipodocumento",value:a.value.tipo_doc,"onUpdate:value":o[6]||(o[6]=n=>a.value.tipo_doc=n),style:{width:"100%"}},{default:t(()=>[e(D,{value:1},{default:t(()=>[C("DNI")]),_:1}),e(D,{value:2},{default:t(()=>[C("Carné Ext.")]),_:1})]),_:1},8,["value"])])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[De,l("div",null,[e(F,{ref:"sexoigresante",value:a.value.sexo,"onUpdate:value":o[7]||(o[7]=n=>a.value.sexo=n),style:{width:"100%"}},{default:t(()=>[e(D,{value:"1"},{default:t(()=>[C("MASCULINO")]),_:1}),e(D,{value:"2"},{default:t(()=>[C("FEMENINO")]),_:1})]),_:1},8,["value"])])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[ze,e(oe,{placeholder:"Selecciona tu fecha de nacimiento",style:{width:"100%"},value:a.value.fec_nacimiento,"onUpdate:value":o[8]||(o[8]=n=>a.value.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:2,xl:2},{default:t(()=>[l("div",Pe,[l("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+a.value.nro_doc+"x.jpg",height:"80"},null,8,Ne),Ve]),l("div",null,[l("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+a.value.nro_doc+".jpg",height:"80"},null,8,Fe),Me])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[l("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/inscripcion/"+a.value.nro_doc+".jpg",width:"250"},null,8,Be)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:17},{default:t(()=>[l("div",Ke,[e(M,{class:"btn-actualizar",onClick:o[9]||(o[9]=n=>H())},{default:t(()=>[Ae]),_:1})])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:8,xl:7},{default:t(()=>[l("div",Oe,[l("span",Te,"DNI "+z(a.value.nro_doc),1)])]),_:1})]),_:1})]),_:1}),I.value!==[]?(_(),v("div",Le,Ye)):b("",!0),I.value!==[]?(_(),v("div",He,[(_(!0),v(P,null,K(I.value,(n,k)=>(_(),A(w,{key:k},{default:t(()=>[e(h,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[We,e(r,{value:n.cycle,"onUpdate:value":U=>n.cycle=U},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,null,{default:t(()=>[$e,e(r,{value:n.career,"onUpdate:value":U=>n.career=U},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Je,e(r,{value:n.code,"onUpdate:value":U=>n.code=U},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):b("",!0),Qe,e(w,null,{default:t(()=>[e(h,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Xe,e(r,{value:a.value.programa,"onUpdate:value":o[10]||(o[10]=n=>a.value.programa=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ge,e(r,{value:a.value.proceso,"onUpdate:value":o[11]||(o[11]=n=>a.value.proceso=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ze,e(r,{value:a.value.programa,"onUpdate:value":o[12]||(o[12]=n=>a.value.programa=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[et,e(r,{value:a.value.puntaje,"onUpdate:value":o[13]||(o[13]=n=>a.value.puntaje=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[tt,e(r,{value:a.value.fecha,"onUpdate:value":o[14]||(o[14]=n=>a.value.fecha=n)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),lt,e(w,null,{default:t(()=>[e(h,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:16,xl:16},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[at,e(r,{value:f.value.correo,"onUpdate:value":o[15]||(o[15]=n=>f.value.correo=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:8,xl:8},{default:t(()=>[e(c,null,{default:t(()=>[ot,e(r,{value:f.value.codigo,"onUpdate:value":o[16]||(o[16]=n=>f.value.codigo=n)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})])):b("",!0)]),_:1}),e(y,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:t(()=>[l("div",st,[d.value!==null&&d.value.length===8?(_(),v("div",nt,[e(_e,{dni:d.value},null,8,["dni"])])):b("",!0)])]),_:1}),e(y,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:t(()=>[l("div",null,[l("div",it,[d.value!==null&&d.value.length===8?(_(),v("div",dt,[l("iframe",{src:j(E)+"/documentos/cepre2023-II/"+d.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,ut)])):b("",!0)])])]),_:1}),e(y,{key:"3",tab:"Certificado"},{default:t(()=>[l("div",rt,[l("div",ct,[d.value!==null&&d.value.length===8?(_(),v("div",pt,[l("iframe",{src:j(E)+"/documentos/cepre2023-II/"+d.value+"/certificado-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,_t)])):b("",!0)])])]),_:1}),e(y,{key:"4",tab:"Ex vocacional"},{default:t(()=>[l("div",null,[l("div",mt,[d.value!==null&&d.value.length===8?(_(),v("div",vt,[l("iframe",{src:j(E)+"/documentos/cepre2023-II/"+d.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,gt)])):b("",!0)])])]),_:1}),e(y,{key:"6",tab:"D. Biométricos"},{default:t(()=>[ft]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),l("div",ht,[e(M,{type:"primary",onClick:o[18]||(o[18]=n=>Q())},{default:t(()=>[C("Imprimir")]),_:1})])]),_:1})])]),_:1})],64)}}},Et=me(bt,[["__scopeId","data-v-d2b4d979"]]);export{Et as default};
