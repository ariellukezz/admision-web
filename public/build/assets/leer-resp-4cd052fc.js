import{r as d,e as ie,D as re,o as s,c as r,d as p,a as o,w as a,E as m,f as i,x as de,v as ue,y as N,U as pe,I as ce,h as me,M as fe,z as ve,b as u,u as f,t as S,F as R,a4 as H,n as xe,aL as _e,_ as ge,B as ye,H as be,aX as ke,A as he}from"./app-8369d941.js";import we from"./ficha-90d0149a.js";import{S as Ie}from"./SearchOutlined-207fd9c8.js";import{S as Ce}from"./SaveOutlined-c4bc0218.js";import{F as P}from"./FormOutlined-057721f5.js";import{D as X}from"./DeleteOutlined-cadc4f0e.js";import{E as $e}from"./EyeOutlined-678d42b2.js";import"./logotiny-c4b525af.js";import"./logoDAD-c76d0a0b.js";import"./AntdIcon-b45eea86.js";const Ee={class:"pl-4",style:{background:"white",width:"100%","min-height":"calc(100vh - 190px)","border-radius":"12px"}},De={class:"flex justify-between mt-2"},ze={style:{color:"#0000009d","margin-top":"-6px"}},Ne={key:0,class:"mt-3 mb-3",style:{"margin-left":"-5px"}},Se={key:0},Me=["onDblclick"],Ae={key:2,class:"flex",style:{"justify-content":"center"}},Be={key:0},Ue={key:1},Le={key:2},Oe={key:1,class:"mt-3 mb-3",style:{"margin-left":"-5px"}},Te={key:0},Fe={key:2,style:{display:"flex",gap:"3px","padding-right":"0px"}},Ve={class:"ant-upload-drag-icon"},Qe={__name:"leer-resp",props:["proceso"],setup(M){const Y=window.location.origin,g=d("contenido");d();const y=d([]),A=d(null),B=M,b=d(!1);d(1);const G=t=>{const e=t.file.status;e!=="uploading"&&console.log(t.file,y.value),e==="done"?(H.success(`${t.file.name} archivo(s) subido(s) exitosamente.`),C(),h(),b.value=!1):e==="error"&&H.error(`${t.file.name} falló al subir.`)},J=()=>{y.value=null},k=d(!1),U=d(0),L=d(0),K=t=>{k.value=!0,U.value=t.clientY,L.value=t.clientX,t.preventDefault()},I=t=>{t==="1"&&(b.value=!0,k.value=!1)},Q=t=>{k.value=!1},O=d([]),T=d([]),_=d(""),C=async()=>{N.post("/get-archivos-res",{term:_.value,proceso:B.proceso}).then(t=>{O.value=t.data.datos.data}).catch(t=>{t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)})},h=async()=>{N.post("/get-res",{term:_.value,proceso:B.proceso}).then(t=>{T.value=t.data.datos.data}).catch(t=>{t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)})};let F;ie(_,(t,e)=>{clearTimeout(F),F=setTimeout(()=>{h()},300)});const $=d(!1),W=t=>{A.value=t,$.value=!0};C(),h();const Z=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"Tipo",dataIndex:"tipo",align:"center",width:"100px"},{title:"Nombre",dataIndex:"nombre"},{title:"Area",dataIndex:"area"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Registros",dataIndex:"registros",align:"center"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"96px"}],ee=[{title:"N°",dataIndex:"nro",width:"40px",align:"center"},{title:"N° lectura",dataIndex:"n_lectura",align:"center",width:"80px"},{title:"DNI",dataIndex:"dni",align:"center",width:"90px"},{title:"Tip",dataIndex:"tipo",width:"60px",align:"center",width:"40px"},{title:"Litho",dataIndex:"res_litho",align:"center",width:"80px"},{title:"Respuestas",dataIndex:"respuestas",align:"left"},{title:"Observaciones",dataIndex:"observaciones",align:"center"},{title:"Acciones",dataIndex:"acciones",align:"center",width:"106px"}],E=t=>{N.get("eliminar-archivo/"+t.id).then(e=>{C(),h(),te("error",e.data.titulo,e.data.mensaje)})},te=(t,e,w)=>{xe[t]({message:e,description:w})};return(t,e)=>{const w=_e,oe=pe,ae=ce,c=ge,x=ye,V=be,q=me,ne=re("inbox-outlined"),se=ke,j=fe,D=he,le=ve;return s(),r("div",{style:{},onClick:Q,onContextmenu:ue(K,["prevent"])},[p("div",Ee,[p("div",De,[o(oe,{value:g.value,"onUpdate:value":e[0]||(e[0]=l=>g.value=l),style:{"margin-left":"-3px"}},{default:a(()=>[o(w,{value:"contenido",style:{"border-radius":"9px 0px 0px 9px"}},{default:a(()=>e[8]||(e[8]=[u("Respuestas")])),_:1}),o(w,{value:"archivos",style:{"border-radius":"0px 9px 9px 0px"}},{default:a(()=>e[9]||(e[9]=[u("Archivos")])),_:1})]),_:1},8,["value"]),o(ae,{value:_.value,"onUpdate:value":e[1]||(e[1]=l=>_.value=l),style:{"max-width":"260px","border-radius":"6px",height:"32px"},placeholder:"Buscar"},{prefix:a(()=>[p("span",ze,[o(f(Ie))])]),_:1},8,["value"])]),g.value==="archivos"?(s(),r("div",Ne,[(s(),m(q,{columns:Z,"data-source":O.value,key:t.id,size:"small",pagination:!1,style:{scale:".7rem"}},{bodyCell:a(({column:l,index:z,record:n})=>[l.dataIndex==="nro"?(s(),r("span",Se,S(z+1),1)):i("",!0),l.dataIndex==="nombre"?(s(),r("div",{key:1,style:{width:"100%",cursor:"pointer"},onDblclick:v=>t.customRow(n)},[p("span",null,S(n.nombre),1)],40,Me)):i("",!0),l.dataIndex==="area"?(s(),r("div",Ae,[n.area===1?(s(),r("div",Be,[o(c,{color:"cyan"},{default:a(()=>e[10]||(e[10]=[u("Biomedicas")])),_:1})])):i("",!0),n.area===2?(s(),r("div",Ue,[o(c,{color:"orange"},{default:a(()=>e[11]||(e[11]=[u("Ingenierías")])),_:1})])):i("",!0),n.area===3?(s(),r("div",Le,[o(c,{color:"purple"},{default:a(()=>e[12]||(e[12]=[u("Sociales")])),_:1})])):i("",!0)])):i("",!0),l.dataIndex==="acciones"?(s(),r(R,{key:3},[o(x,{type:"success",class:"mr-1",style:{color:"#476175"},onClick:v=>t.cambiarSexo(n.id_postulante,n.sexo),size:"small"},{icon:a(()=>[o(f(Ce))]),_:2},1032,["onClick"]),o(x,{onClick:v=>t.abrirEditar(n),class:"mr-1",style:{color:"blue"},size:"small"},{icon:a(()=>[o(f(P))]),_:2},1032,["onClick"]),o(V,{title:"¿Estas seguro de eliminar?",onConfirm:v=>E(n)},{default:a(()=>[o(x,{shape:"",size:"small",style:{color:"crimson"}},{icon:a(()=>[o(f(X))]),_:1})]),_:2},1032,["onConfirm"])],64)):i("",!0)]),_:1},8,["data-source"]))])):i("",!0),g.value==="contenido"?(s(),r("div",Oe,[(s(),m(q,{columns:ee,"data-source":T.value,key:t.id,size:"small",scroll:{y:"calc(100vh - 300px)"},pagination:!1,style:{scale:".7rem"}},{bodyCell:a(({column:l,index:z,record:n})=>[l.dataIndex==="nro"?(s(),r("span",Te,S(z+1),1)):i("",!0),l.dataIndex==="observaciones"?(s(),r(R,{key:1},[n.dni===null&&n.ide_litho!==null?(s(),m(c,{key:0,color:"pink"},{default:a(()=>e[13]||(e[13]=[u(" Sin DNI")])),_:1})):i("",!0),n.len_doc!==8&&n.ide_litho!==null&&n.dni!==null?(s(),m(c,{key:1,color:"green"},{default:a(()=>e[14]||(e[14]=[u(" Dni erroneo")])),_:1})):i("",!0),n.vaula===0?(s(),m(c,{key:2,color:"blue"},{default:a(()=>e[15]||(e[15]=[u(" Error de aula")])),_:1})):i("",!0),n.tipo===""&&n.ide_litho!==null?(s(),m(c,{key:3,color:"yellow"},{default:a(()=>e[16]||(e[16]=[u(" Sin tipo")])),_:1})):i("",!0),n.c_tipo===0&&n.ide_litho!==null?(s(),m(c,{key:4,color:"navy"},{default:a(()=>e[17]||(e[17]=[u(" Tipo diferente")])),_:1})):i("",!0),n.c_aula===0&&n.ide_litho!==null?(s(),m(c,{key:5,color:"brown"},{default:a(()=>e[18]||(e[18]=[u(" Aula diferente")])),_:1})):i("",!0),n.ide_litho===null?(s(),m(c,{key:6,color:"crimson"},{default:a(()=>e[19]||(e[19]=[u(" SIN IDE")])),_:1})):i("",!0)],64)):i("",!0),l.dataIndex==="acciones"?(s(),r("div",Fe,[o(x,{size:"small",onClick:v=>W(n.id),style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"gray",display:"flex","align-items":"center"}},{default:a(()=>[o(f($e))]),_:2},1032,["onClick"]),o(x,{size:"small",onClick:v=>t.abrirEditar(n),style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#af7200",display:"flex","align-items":"center"}},{default:a(()=>[o(f(P))]),_:2},1032,["onClick"]),o(V,{title:"¿Estas seguro de eliminar?",onConfirm:v=>E(n)},{default:a(()=>[o(x,{size:"small",onClick:v=>E(n),style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"crimson",display:"flex","align-items":"center"}},{default:a(()=>[o(f(X))]),_:2},1032,["onClick"])]),_:2},1032,["onConfirm"])])):i("",!0)]),_:1},8,["data-source"]))])):i("",!0),o(j,{open:b.value,"onUpdate:open":e[3]||(e[3]=l=>b.value=l),title:"Cargar fichas de respuestas",onOk:J,centered:!0,style:{"max-height":"calc(100vh - 100px)","overflow-x":"scroll",cursor:"pointer"}},{default:a(()=>[e[22]||(e[22]=p("div",{class:"flex justify-between mb-4"},null,-1)),o(se,{fileList:y.value,"onUpdate:fileList":e[2]||(e[2]=l=>y.value=l),name:"file",multiple:!0,action:f(Y)+"/calificacion/carga-res/"+M.proceso+"/",onChange:G,onDrop:t.handleDrop,"list-type":"picture"},{default:a(()=>[p("p",Ve,[o(ne)]),e[20]||(e[20]=p("p",{class:"ant-upload-text",style:{width:"100%"}},"Haz clic o arrastra archivos a esta área para cargar",-1)),e[21]||(e[21]=p("p",{class:"ant-upload-hint"}," Soporte para carga única o múltiple. Prohibido subir datos de la empresa u otros archivos prohibidos. ",-1))]),_:1},8,["fileList","action","onDrop"])]),_:1},8,["open"])]),k.value?(s(),r("div",{key:0,style:de([{position:"absolute",border:"solid 1px #d9d9d943","padding-top":"0px","border-radius":"8px",overflow:"hidden"},{top:`${U.value}px`,left:`${L.value}px`}])},[o(le,{size:"small",style:{"margin-top":"-4px","margin-bottom":"-4px"}},{default:a(()=>[o(D,{key:"1",class:"selec-menu",onClick:e[4]||(e[4]=l=>I("1"))},{default:a(()=>e[23]||(e[23]=[p("div",{style:{"margin-top":"0px"}}," Cargar respuestas ",-1)])),_:1}),o(D,{key:"2",class:"selec-menu",onClick:e[5]||(e[5]=l=>I("2"))},{default:a(()=>e[24]||(e[24]=[p("div",{style:{"margin-top":"0px"}}," Nueva respuesta ",-1)])),_:1}),o(D,{key:"2",class:"selec-menu",onClick:e[6]||(e[6]=l=>I("2"))},{default:a(()=>e[25]||(e[25]=[p("div",{style:{"margin-top":"0px"}}," asdfas ",-1)])),_:1})]),_:1})],4)):i("",!0),o(j,{open:$.value,"onUpdate:open":e[7]||(e[7]=l=>$.value=l),centered:!0,footer:!1,style:{scale:".85",width:"880px"}},{default:a(()=>[o(we,{id_resp:A.value},null,8,["id_resp"])]),_:1},8,["open"])],32)}}};export{Qe as default};
