import{r as p,x as Q,H as W,e as I,f as u,o as g,c as D,a as e,u as b,w as a,F as N,l as A,Z as X,d as s,S as ee,s as E,E as le,g as C,b as _,t as V,D as ae,I as oe,n as te}from"./app-acd8360d.js";import{A as ne}from"./AuthenticatedLayout-d08a5d42.js";import{f as se}from"./index-12b205fe.js";import{F as ie}from"./FormOutlined-168b5ce7.js";import"./DropdownLink-3f4f9a7d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";import"./TeamOutlined-af57a68c.js";const de={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},ue={class:"mr-3"},re={class:"flex justify-between",style:{position:"relative"}},_e={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},ce=s("label",null,"Tipo Doc",-1),me=s("label",null,"DNI",-1),pe=s("label",null,"Ap. Paterno",-1),ve=s("label",null,"Ap. Materno",-1),fe=s("label",null,"Ap. Casada",-1),ge=s("label",null,"Nombres",-1),be=s("label",null,"Sexo",-1),xe=s("label",null,"Fec. Nacimiento",-1),ye=s("label",null,"Ubigeo Nacimiento",-1),we=s("label",null,"Ubigeo residencia",-1),Ue=s("label",null,"Celular",-1),Ce=s("label",null,"Correo",-1),Pe=s("label",null,"Estado Civil",-1),ke=s("label",null,"Dirección",-1),Ie=s("label",null,"Año egreso",-1),De=s("label",null,"Observaciones",-1),Ne=s("label",null,"Colegio",-1),Ve={class:"flex justify-end"},ze={__name:"index",setup(qe){p("");const F=n=>{c.value=!0,l.id=n.id,l.nro_doc=n.nro_doc,l.tipo_doc=n.tipo_doc,l.primer_apellido=n.primer_apellido,l.segundo_apellido=n.segundo_apellido,l.apellido_casada=n.apellido_casada,l.nombres=n.nombres,l.sexo=n.sexo,l.fec_nacimiento=oe(n.fec_nacimiento),l.ubigeo_nacimiento=n.ubigeo_nacimiento,l.ubigeo_residencia=n.ubigeo_residencia,l.celular=n.celular,l.email=n.email,l.estado_civil=n.estado_civil,l.direccion=n.direccion,l.anio_egreso=n.anio_egreso,l.observaciones=n.observaciones,l.id_colegio=n.id_colegio},l=Q({nro_doc:"",tipo_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),j=async()=>{let n=await A.post("save-postulante-admin",{id:l.id,tipo_doc:l.tipo_doc,nro_doc:l.nro_doc,primer_apellido:l.primer_apellido,segundo_apellido:l.segundo_apellido,apellido_casada:l.apellido_casada,nombres:l.nombres,sexo:l.sexo,fec_nacimiento:se(new Date(l.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:l.ubigeo_nacimiento,ubigeo_residencia:l.ubigeo_residencia,celular:l.celular,correo:l.email,estado_civil:l.estado_civil,direccion:l.direccion,egreso:l.anio_egreso,observaciones:l.observaciones,colegio:l.id_colegio});c.value=!1,n.data.estado===!0&&z(n.data.tipo,n.data.titulo,n.data.mensaje),U()};W(()=>{});const x=p(""),y=p([]);p([]);const c=p(!1),w=p(1),q=p(null),B=p({id:null,codigo:"",nombre:""}),O=()=>{c.value=!0};I(x,(n,o)=>{U()}),I(c,(n,o)=>{c.value==!1&&B.value.id!=null&&(l.value=null)});const U=async()=>{let n=await A.post("get-postulantes-admin?page="+w.value,{term:x.value});y.value=n.data.datos.data,q.value=n.data.datos.total},S=[{title:"Ver",dataIndex:"ver_postulante"},{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],z=(n,o,m)=>{te[n]({message:o,description:m})};I(w,(n,o)=>{U()});const Y=async n=>{try{window.location.href="postulante-perfil/"+n}catch(o){console.error(o)}};return U(),(n,o)=>{const m=u("a-button"),r=u("a-input"),$=u("row"),R=u("a-divider"),T=u("a-popconfirm"),h=u("a-table"),G=u("a-pagination"),v=u("a-select-option"),P=u("a-select"),d=u("a-form-item"),i=u("a-col"),H=u("a-date-picker"),k=u("a-row"),L=u("a-form"),Z=u("a-card"),J=u("a-modal");return g(),D(N,null,[e(b(X),{title:"Postulantes"}),e(ne,null,{default:a(()=>[s("div",de,[e($,{class:"flex justify-between mb-4"},{default:a(()=>[s("div",ue,[e(m,{type:"primary",onClick:O})]),s("div",re,[e(r,{type:"text",placeholder:"Buscar",value:x.value,"onUpdate:value":o[0]||(o[0]=t=>x.value=t),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),s("div",_e,[e(b(ee))])])]),_:1}),e(h,{columns:S,"data-source":y.value,pagination:!1,size:"small"},{bodyCell:a(({column:t,index:K,record:f})=>[t.dataIndex==="ver_postulante"?(g(),E(m,{key:0,type:"true",onClick:M=>Y(f.nro_doc),size:"small",style:{height:"30px",display:"flex","align-items":"center"}},{default:a(()=>[e(b(le))]),_:2},1032,["onClick"])):C("",!0),t.dataIndex==="nombres"?(g(),D(N,{key:1},[_(V(f.nombres)+" "+V(f.primer_apellido)+" "+V(f.segundo_apellido),1)],64)):C("",!0),t.dataIndex==="acciones"?(g(),D(N,{key:2},[e(m,{type:"primary",onClick:M=>F(f),size:"small"},{icon:a(()=>[e(b(ie))]),_:2},1032,["onClick"]),e(R,{type:"vertical"}),y.value.length?(g(),E(T,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:M=>n.eliminar(y.value[K])},{default:a(()=>[e(m,{type:"danger",shape:"",size:"small"},{icon:a(()=>[e(b(ae))]),_:1})]),_:2},1032,["onConfirm"])):C("",!0)],64)):C("",!0)]),_:1},8,["data-source"]),e(G,{current:w.value,"onUpdate:current":o[1]||(o[1]=t=>w.value=t),total:q.value,"show-less-items":""},null,8,["current","total"])]),s("div",null,[e(J,{visible:c.value,"onUpdate:visible":o[20]||(o[20]=t=>c.value=t),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:a(()=>[e(k,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[e(Z,{bordered:!1},{default:a(()=>[e(L,{model:l,rules:n.formRules},{default:a(()=>[e(k,{gutter:16},{default:a(()=>[e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ce,e(d,null,{default:a(()=>[e(P,{value:l.tipo_doc,"onUpdate:value":o[2]||(o[2]=t=>l.tipo_doc=t)},{default:a(()=>[e(v,{value:1},{default:a(()=>[_("DNI")]),_:1}),e(v,{value:3},{default:a(()=>[_("Carné Ext.")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[me,e(d,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:a(()=>[e(r,{value:l.nro_doc,"onUpdate:value":o[3]||(o[3]=t=>l.nro_doc=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[pe,e(d,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:a(()=>[e(r,{value:l.primer_apellido,"onUpdate:value":o[4]||(o[4]=t=>l.primer_apellido=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ve,e(d,null,{default:a(()=>[e(r,{value:l.segundo_apellido,"onUpdate:value":o[5]||(o[5]=t=>l.segundo_apellido=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[fe,e(d,null,{default:a(()=>[e(r,{value:l.apellido_casada,"onUpdate:value":o[6]||(o[6]=t=>l.apellido_casada=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ge,e(d,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:a(()=>[e(r,{value:l.nombres,"onUpdate:value":o[7]||(o[7]=t=>l.nombres=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[be,e(d,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:a(()=>[e(P,{value:l.sexo,"onUpdate:value":o[8]||(o[8]=t=>l.sexo=t)},{default:a(()=>[e(v,{value:"1"},{default:a(()=>[_("Masculino")]),_:1}),e(v,{value:"2"},{default:a(()=>[_("Femenino")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[xe,e(d,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:a(()=>[e(H,{style:{width:"100%"},value:l.fec_nacimiento,"onUpdate:value":o[9]||(o[9]=t=>l.fec_nacimiento=t),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ye,e(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:a(()=>[e(r,{value:l.ubigeo_nacimiento,"onUpdate:value":o[10]||(o[10]=t=>l.ubigeo_nacimiento=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[we,e(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:a(()=>[e(r,{value:l.ubigeo_residencia,"onUpdate:value":o[11]||(o[11]=t=>l.ubigeo_residencia=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ue,e(d,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:a(()=>[e(r,{value:l.celular,"onUpdate:value":o[12]||(o[12]=t=>l.celular=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ce,e(d,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:a(()=>[e(r,{value:l.email,"onUpdate:value":o[13]||(o[13]=t=>l.email=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Pe,e(d,null,{default:a(()=>[e(P,{value:l.estado_civil,"onUpdate:value":o[14]||(o[14]=t=>l.estado_civil=t)},{default:a(()=>[e(v,{value:"1"},{default:a(()=>[_("Soltero")]),_:1}),e(v,{value:"2"},{default:a(()=>[_("Casado")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ke,e(d,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:a(()=>[e(r,{value:l.direccion,"onUpdate:value":o[15]||(o[15]=t=>l.direccion=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(d,null,{default:a(()=>[Ie,e(r,{value:l.anio_egreso,"onUpdate:value":o[16]||(o[16]=t=>l.anio_egreso=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[De,e(d,null,{default:a(()=>[e(r,{value:l.observaciones,"onUpdate:value":o[17]||(o[17]=t=>l.observaciones=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ne,e(d,null,{default:a(()=>[e(r,{value:l.id_colegio,"onUpdate:value":o[18]||(o[18]=t=>l.id_colegio=t)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(i,null,{default:a(()=>[s("div",Ve,[e(m,{onClick:o[19]||(o[19]=t=>c.value=!1)},{default:a(()=>[_(" Cancelar ")]),_:1}),e(m,{type:"primary",onClick:j},{default:a(()=>[_("Guardar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{ze as default};
