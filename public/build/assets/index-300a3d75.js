import{r as i,J as xe,e as v,D as Ae,o as N,c as V,a as o,u as c,w as l,F as J,y as x,Z as ye,d as s,b as u,E as Ie,t as g,f as L,n as Ee,B as Ce,I as we,_ as De,H as Ne,h as Se,i as Re,S as Ue,j as Ve,K as Le,L as Te,k as ke,l as Be,p as Pe,m as Oe,q as ze,M as je}from"./app-fb85f6c3.js";import{L as qe}from"./LayoutSimulacro-9e783cb4.js";import{S as Fe}from"./SearchOutlined-12995618.js";import{E as Ge}from"./EyeOutlined-ce85ba59.js";import{F as Je}from"./FormOutlined-76985cb9.js";import{D as Me}from"./DeleteOutlined-e37d13c8.js";import{D as M}from"./DownOutlined-375fd016.js";import"./DropdownLink-aed20f4e.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-95af1cf2.js";import"./AntdIcon-0b844ecf.js";const $e={class:"mb-4",style:{width:"100%"}},He={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},Qe={class:"flex justify-between mt-5 mb-4 mr-4 ml-4"},Xe={class:"flex justify-between",style:{position:"relative"}},Ze={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Ke={key:1},We={class:"flex justify-between mb-6 mt-2 pr-4"},Ye={clas:"",style:{scale:"0.9"}},he={class:"mt-4"},eo={class:"flex justify-between"},oo={style:{"margin-top":"-8px"}},lo={style:{"font-size":".6rem"}},to={style:{"font-size":".9rem","font-weight":"bold"}},so={class:"flex justify-center"},ao={class:"flex justify-end"},yo={__name:"index",setup(no){const I=i(null),T=i(null);i([]);const E=i(""),C=i(1),k=i(null),A=i(10),_=i(!1),S=i(null),w=i(null),R=i([]),$=i(null),y=i(!1),H=i(),B=i(),P=i(),Q=i(),X=i(),Z=i(),K=i(),W=i();i();const Y=t=>{n.cod_modular=t.target.value.replace(/\D/g,"")},n=xe({cod_modular:"",nombre:"",cod_local:"",nivel:"",gestion:null,ubigeo:"",direccion:"",observacion:""}),O=i(null),h=async()=>{y.value=!0,setTimeout(()=>{console.log("Este código se ejecutará después de 2 segundos")},1500);try{const t=await O.value.validateFields(),e=await x.post("save",n);e.status===202?(console.log(e.data.errors),y.value=!1):(ae(),_.value=!1,ne("success",e.data.titulo,e.data.mensaje),y.value=!1)}catch(t){console.error(t),y.value=!1}},z=async()=>{x.post("/get-ubigeo",{term:w.value}).then(t=>{R.value=t.data.datos.data,console.log("Datos recibidos:",R)}).catch(t=>{t.response?console.error("Error de servidor:",t.response.data):t.request?console.error("Error de red:",t.request):console.error("Error de configuración:",t.message)})},j=i([]),D=async()=>{let t=await x.post("get-inscritos-simulacro?page="+C.value,{term:E.value,paginashoja:A.value});j.value=t.data.datos.data,k.value=t.data.datos.total};D();const q=async()=>{let t=await x.post("/get-departamentos-codigo",{term:B.value});H.value=t.data.datos.data},ee=async()=>{let t=await x.post("/get-provincias-codigo?page=",{departamento:P.value});Q.value=t.data.datos},oe=async t=>{let e=await x.post("/get-distritos-codigo?page=",{departamento:P.value,provincia:Z.value});K.value=e.data.datos};v(C,(t,e)=>{D()}),v(A,(t,e)=>{D()}),v(E,(t,e)=>{D()}),v(w,(t,e)=>{t.length>=3&&z()}),v(B,(t,e)=>{t.length>=3&&q()}),v(X,(t,e)=>{t.length>=3&&ee()}),v(W,(t,e)=>{t.length>=3&&oe()}),v($,(t,e)=>{t.length>=3&&getColegios()});const le=(t,e)=>{n.ubigeo=e.key},te=(t,e)=>{I.value=e.value+"-"+e.nombre};q(),z();const se=t=>{_.value=!0,n.id=t.id,n.cod_modular=t.cod_modular,n.nombre=t.nombre,n.cod_local=t.cod_local,n.gestion=t.gestion,n.nivel=t.nivel,n.ubigeo=t.ubigeo,S.value=t.lugar,n.direccion=t.direccion,n.observacion=t.observacion},ae=()=>{for(const t in n)n[t]=null},ne=(t,e,m)=>{Ee[t]({message:e,description:m})},ie=i([{title:"Nro_Doc",dataIndex:"nro_doc"},{title:"Nombres",dataIndex:"nombres",responsive:["xs","sm","md","lg"]},{title:"Programa",dataIndex:"programa",responsive:["md"]},{title:"Colegios",dataIndex:"colegio",responsive:["lg"]},{title:"Lugar",dataIndex:"lugar",responsive:["lg"]},{title:"Acciones",dataIndex:"acciones",width:"120px",align:"center"}]),ue=i([{nombre:"JHON ARIEL LUQUE CUSACANI",value:"70757837",monto:15,fecha:"12-12-2023"},{nombre:"JHON ARIEL LUQUE CUSACANI",value:"70757838",monto:15,fecha:"12-12-2023"},{nombre:"JHON ARIEL LUQUE CUSACANI",value:"70757839",monto:15,fecha:"12-12-2023"}]);return(t,e)=>{const m=Ce,f=we,de=De,re=Ne,pe=Se,me=Re,d=Ue,U=Ve,F=Le,G=Te,r=ke,p=Be,ve=Pe,ge=Oe,fe=ze,ce=Ae("row"),_e=je;return N(),V(J,null,[o(c(ye),{title:"Inscritos"}),o(qe,null,{default:l(()=>[s("div",$e,[s("div",He,[s("div",Qe,[s("div",null,[s("div",null,[o(m,{onClick:e[0]||(e[0]=a=>_.value=!0),style:{"background-color":"#476175","border-radius":"5px",border:"none"},type:"primary"},{default:l(()=>e[18]||(e[18]=[u("nuevo")])),_:1})])]),s("div",Xe,[s("div",null,[o(f,{type:"text",placeholder:"Buscar",value:E.value,"onUpdate:value":e[1]||(e[1]=a=>E.value=a),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),s("div",Ze,[o(c(Fe))])])])]),s("div",null,[o(pe,{dataSource:j.value,size:"",columns:ie.value,pagination:!1},{bodyCell:l(({column:a,index:io,record:b})=>[a.dataIndex==="nro_doc"?(N(),Ie(de,{key:0,color:"#4f4f4f",style:{width:"80px"}},{default:l(()=>[u(g(b.nro_doc),1)]),_:2},1024)):L("",!0),a.dataIndex==="nombres"?(N(),V("div",Ke,[s("span",null,g(b.nombres)+" "+g(b.paterno)+" "+g(b.materno),1)])):L("",!0),a.dataIndex==="acciones"?(N(),V(J,{key:2},[o(m,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:l(()=>[o(c(Ge))]),_:1}),o(m,{class:"mr-1",onClick:be=>se(b),style:{color:"blue"},size:"small",disabled:""},{icon:l(()=>[o(c(Je))]),_:2},1032,["onClick"]),o(re,{title:"¿Estas seguro de eliminar?",onConfirm:be=>t.eliminar(b),disabled:""},{default:l(()=>[o(m,{size:"small",style:{color:"crimson"},disabled:""},{icon:l(()=>[o(c(Me),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):L("",!0)]),_:1},8,["dataSource","columns"])]),s("div",We,[s("div",null,[o(me,{current:C.value,"onUpdate:current":e[2]||(e[2]=a=>C.value=a),"page-size":A.value,simple:"",total:k.value,"show-less-items":""},null,8,["current","page-size","total"])]),s("div",Ye,[o(U,{value:A.value,"onUpdate:value":e[3]||(e[3]=a=>A.value=a),style:{width:"90px"}},{default:l(()=>[o(d,{value:10},{default:l(()=>e[19]||(e[19]=[u("10 Reg.")])),_:1}),o(d,{value:20},{default:l(()=>e[20]||(e[20]=[u("20 Reg.")])),_:1}),o(d,{value:50},{default:l(()=>e[21]||(e[21]=[u("50 Reg.")])),_:1}),o(d,{value:100},{default:l(()=>e[22]||(e[22]=[u("100 Reg.")])),_:1})]),_:1},8,["value"])])])])]),o(_e,{visible:_.value,"onUpdate:visible":e[17]||(e[17]=a=>_.value=a),footer:!1,centered:"",style:{width:"100%","max-width":"1000px"},closable:!1},{default:l(()=>[e[45]||(e[45]=s("div",{style:{display:"flex","justify-content":"space-between",background:"#476175",margin:"-24px","margin-bottom":"0px",height:"46px"}},[s("div",{class:"ml-3 mt-3"},[s("span",{style:{color:"white","font-size":"1.1rem"}}," Nueva inscripcion ")]),s("div",{class:"mr-4 mt-1"},[s("span",{style:{color:"white","font-size":"1.4rem"}},"x")])],-1)),s("div",he,[s("label",null,[e[23]||(e[23]=u("Pago")),e[24]||(e[24]=s("span",{style:{color:"red"}},"*",-1)),u(" "+g(I.value),1)]),o(r,{name:"ubigeo_colegio"},{default:l(()=>[o(G,{value:I.value,"onUpdate:value":e[5]||(e[5]=a=>I.value=a),options:ue.value,onSelect:te},{option:l(a=>[s("div",eo,[s("div",null,[e[25]||(e[25]=s("div",null,[s("span",null,[s("span",{style:{"font-weight":"bold","font-size":".8rem"}}," EXAMEN DE ADMISIÓN - SIMULACRO")])],-1)),s("div",oo,[s("span",lo,g(a.value)+" - "+g(a.nombre),1)])]),s("div",null,[s("div",null,[s("span",to," S/"+g(parseInt(a.monto).toFixed(2)),1)]),e[26]||(e[26]=s("div",{style:{"margin-top":"-8px"}},[s("span",{style:{"font-size":".6rem"}}," 14-12-2023")],-1))])])]),default:l(()=>[o(f,{placeholder:"Seleccionar pago",value:T.value,"onUpdate:value":e[4]||(e[4]=a=>T.value=a),style:{"border-radius":"6px"}},{suffix:l(()=>[o(F,{title:"Extra information"},{default:l(()=>[o(c(M))]),_:1})]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),s("div",so,[o(ce,{style:{display:"flex","justify-content":"center"}},{default:l(()=>[o(p,{span:24},{default:l(()=>[o(fe,{ref_key:"formDatos",ref:O,name:"form",model:n},{default:l(()=>[o(ge,{gutter:16,class:"mt-3"},{default:l(()=>[o(p,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[27]||(e[27]=s("label",null,"Cod. Modular",-1)),o(r,{name:"cod_modular",rules:[{required:!0,message:"Ingrese el cod modular"},{min:7,message:"Debe tener 7 digitos",trigger:"blur"}]},{default:l(()=>[o(f,{value:n.cod_modular,"onUpdate:value":e[6]||(e[6]=a=>n.cod_modular=a),onInput:Y,maxlength:7},null,8,["value"])]),_:1})]),_:1}),o(p,{xs:24,sm:12,md:8,lg:16},{default:l(()=>[e[28]||(e[28]=s("label",null,[u("Nombre del colegio"),s("span",{style:{color:"red"}},"*")],-1)),o(r,{name:"nombre",rules:[{required:!0,message:"Ingrese el nombre del colegio"}]},{default:l(()=>[o(f,{value:n.nombre,"onUpdate:value":e[7]||(e[7]=a=>n.nombre=a)},null,8,["value"])]),_:1})]),_:1}),o(p,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[29]||(e[29]=s("label",null,[u("Cod de local"),s("span",{style:{color:"red"}},"*")],-1)),o(r,{name:"cod_local",rules:[{required:!0,message:"Ingrese el codigo del local"}]},{default:l(()=>[o(f,{value:n.cod_local,"onUpdate:value":e[8]||(e[8]=a=>n.cod_local=a)},null,8,["value"])]),_:1})]),_:1}),o(p,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[34]||(e[34]=s("label",null,[u("Nivel"),s("span",{style:{color:"red"}},"*")],-1)),o(r,{name:"nivel",rules:[{required:!0,message:"Seleccione el nivel"}]},{default:l(()=>[o(U,{value:n.nivel,"onUpdate:value":e[9]||(e[9]=a=>n.nivel=a),style:{width:"100%"}},{default:l(()=>[o(d,{value:"SECUNDARIA"},{default:l(()=>e[30]||(e[30]=[u("SECUNDARIA")])),_:1}),o(d,{value:"BASICA ALTERNATIVA"},{default:l(()=>e[31]||(e[31]=[u("BASICA ALTERNATIVA")])),_:1}),o(d,{value:"BASICA ALTERNATIVA AVANZADO"},{default:l(()=>e[32]||(e[32]=[u("BASICA ALTERNATIVA AVANZADO")])),_:1}),o(d,{value:"BÁSICA ALTERNATIVA SECUNDARIA"},{default:l(()=>e[33]||(e[33]=[u("BÁSICA ALTERNATIVA SECUNDARIA")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),o(p,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[39]||(e[39]=s("label",null,[u("Gestión"),s("span",{style:{color:"red"}},"*")],-1)),o(r,{name:"gestion",rules:[{required:!0,message:"Selecciona la gestión"}]},{default:l(()=>[o(U,{value:n.gestion,"onUpdate:value":e[10]||(e[10]=a=>n.gestion=a),style:{width:"100%"}},{default:l(()=>[o(d,{value:"PÚBLICA DE GESTIÓN DIRECTA"},{default:l(()=>e[35]||(e[35]=[u("PÚBLICA DE GESTIÓN DIRECTA")])),_:1}),o(d,{value:"PRIVADA"},{default:l(()=>e[36]||(e[36]=[u("PRIVADA")])),_:1}),o(d,{value:"PÚBLICA DE GESTIÓN PRIVADA"},{default:l(()=>e[37]||(e[37]=[u("PÚBLICA DE GESTIÓN PRIVADA")])),_:1}),o(d,{value:"EXTRANJERO"},{default:l(()=>e[38]||(e[38]=[u("EXTRANJERA")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),o(p,{xs:24,sm:24,md:24,lg:12},{default:l(()=>[e[40]||(e[40]=s("label",null,[u("Ubicación: Dep/Prov/Dist "),s("span",{style:{color:"red"}},"*")],-1)),o(r,{name:"ubigeo"},{default:l(()=>[o(G,{value:S.value,"onUpdate:value":e[12]||(e[12]=a=>S.value=a),options:R.value,onSelect:le},{default:l(()=>[o(f,{placeholder:"Lugar",value:w.value,"onUpdate:value":e[11]||(e[11]=a=>w.value=a)},{suffix:l(()=>[o(F,{title:"Extra information"},{default:l(()=>[o(c(M))]),_:1})]),_:1},8,["value"])]),_:1},8,["value","options"])]),_:1})]),_:1}),o(p,{xs:24,sm:24,md:24,lg:12},{default:l(()=>[e[41]||(e[41]=s("label",null,"Dirección",-1)),o(r,{name:"direccion"},{default:l(()=>[o(f,{value:n.direccion,"onUpdate:value":e[13]||(e[13]=a=>n.direccion=a)},null,8,["value"])]),_:1})]),_:1}),o(p,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[e[42]||(e[42]=s("label",null,"Observación",-1)),o(r,{name:"observacion"},{default:l(()=>[o(ve,{value:n.observacion,"onUpdate:value":e[14]||(e[14]=a=>n.observacion=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),s("div",ao,[s("div",null,[o(m,{type:"primary",class:"mr-2",onClick:e[15]||(e[15]=a=>_.value=!1),style:{"border-radius":"6px",background:"none",color:"#476175",border:"1px solid #476175"}},{default:l(()=>e[43]||(e[43]=[u("Cancelar")])),_:1}),o(m,{type:"primary",onClick:e[16]||(e[16]=a=>h()),style:{"border-radius":"6px",background:"#476175",border:"none"},loading:y.value},{default:l(()=>e[44]||(e[44]=[u("Guardar")])),_:1},8,["loading"])])])]),_:1},8,["model"])]),_:1})]),_:1})])]),_:1},8,["visible"])]),_:1})],64)}}};export{yo as default};
