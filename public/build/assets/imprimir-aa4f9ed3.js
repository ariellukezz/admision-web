import{r as f,e as V,f as r,o as _,c as m,a as e,u as C,w as t,F as z,l as h,Z as ee,d as a,t as E,i as B,s as te,G as ae,b as g,k as le,g as b,n as oe,p as se,h as ne,I as ie}from"./app-6f335832.js";import{A as de}from"./LayoutDocente-924a3849.js";import ue from"./voucher-30f550c1.js";import re from"./anteriores-a0372615.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";import{f as pe}from"./index-1d801c81.js";import{C as _e}from"./CreditCardOutlined-37ac4377.js";import"./DropdownLink-f2413688.js";import"./logotiny-c4b525af.js";import"./TopMenu-862ef317.js";const i=D=>(se("data-v-17d4de97"),D=D(),ne(),D),me=i(()=>a("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),ve={style:{height:"34px"}},fe={style:{"font-weight":"700",color:"black","font-size":".7rem"}},ge={style:{"margin-top":"-10px"}},he={style:{"font-size":".8rem","text-transform":"uppercase"}},be={style:{height:"40px","margin-left":"-10px"}},ye={style:{"font-weight":"bold"}},xe={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},we=i(()=>a("div",{class:"flex mb-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos personales")],-1)),ke={key:0},Se=i(()=>a("label",null,"Primer Apellido",-1)),je=i(()=>a("label",null,"Segundo Apellido",-1)),De={class:"flex"},Ue={style:{width:"calc(100% - 100px)"}},Ce=i(()=>a("label",null,"Prenombres",-1)),Ee={class:"ml-3",style:{width:"100px"}},Ie=i(()=>a("label",null,"Puesto",-1)),qe=i(()=>a("label",null,"Tipo documento",-1)),ze=i(()=>a("label",null,"Sexo",-1)),Fe=i(()=>a("label",null,"Fecha de nacimiento",-1)),Ae={class:"mb-3"},Pe=["src"],Ne=i(()=>a("div",{class:"flex justify-center"}," H. Der.",-1)),Ve=["src"],Be=i(()=>a("div",{class:"flex justify-center"}," H. Izq.",-1)),Ke=["src"],Me={class:"flex justify-end mb-0"},Te=i(()=>a("span",{style:{"font-weight":"bold"}}," Actualizar Datos ",-1)),Re={class:"flex justify-center",style:{"margin-top":"-15px"}},Le={style:{padding:"0px 2px","font-size":"2.6rem","margin-top":"2px","font-weight":"bold"}},Oe=i(()=>a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso anterior",-1)),Ye=[Oe],$e={key:1},Ge=i(()=>a("div",{class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso")],-1)),He=i(()=>a("label",null,"Proceso",-1)),We=i(()=>a("label",null,"Modalidad",-1)),Ze=i(()=>a("label",null,"Programa",-1)),Je=i(()=>a("label",null,"Puntaje",-1)),Qe=i(()=>a("label",null,"Fecha ingreso",-1)),Xe={key:2,class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},et=i(()=>a("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Segunda Carrera",-1)),tt=[et],at=i(()=>a("div",{style:{"text-align":"center"}},null,-1)),lt={class:"mb-2"},ot={class:"",style:{width:"100%",height:"380px"}},st={key:0},nt={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},it={key:0},dt=["src"],ut={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},rt={key:0},ct=["src"],pt=i(()=>a("div",null,null,-1)),_t={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},mt={__name:"imprimir",setup(D){const I=window.location.origin,U=f(null),d=f(null),K=f([]),v=f([]),y=f(0),F=f([]);f(!0);const A=f([]),M=async()=>{let s=await h.get("get-requisitos");A.value=s.data.datos},T=f(null),l=f({id:null,nro_doc:"",tipo_doc:null,nombres:null,sexo:null,fec_nacimiento:null,primer_apellido:"",segundo_apellido:"",proceso:"",modalidad:"",puntaje:"",programa:"",fecha:"",puesto:""}),R=async()=>{let s=await h.get("get-ingresante-general/"+U.value);l.value.id=s.data.datos.id,l.value.nro_doc=s.data.datos.nro_doc,l.value.tipo_doc=s.data.datos.tipo_doc,l.value.sexo=s.data.datos.sexo,s.data.datos.fec_nacimiento&&(l.value.fec_nacimiento=ie(s.data.datos.fec_nacimiento)),l.value.nombres=s.data.datos.nombres,l.value.primer_apellido=s.data.datos.primer_apellido,l.value.segundo_apellido=s.data.datos.segundo_apellido,l.value.proceso=s.data.datos.proceso,l.value.modalidad=s.data.datos.modalidad,l.value.puntaje=s.data.datos.puntaje,l.value.programa=s.data.datos.programa,l.value.puesto=s.data.datos.puesto,s.data.datos.fecha&&(l.value.fecha=s.data.datos.fecha),$()},L=async()=>{let s=await h.post("actualizar-ingresante",{id:l.value.id,tipo_doc:l.value.tipo_doc,sexo:l.value.sexo,fec_nacimiento:pe(new Date(l.value.fec_nacimiento),"yyyy-MM-dd"),nombres:l.value.nombres,paterno:l.value.primer_apellido,materno:l.value.segundo_apellido});G(s.data.tipo,s.data.titulo,s.data.mensaje),P()},P=async()=>{let s=await h.post("get-postulante-dni",{dni:d.value});postulante.value.id=s.data.datos.id_postulante,postulante.value.dni_temp=s.data.datos.dni};V(U,(s,o)=>{s.length>=0&&P()}),V(d,(s,o)=>{s.length>=8&&R()});const O=async()=>{let s=await h.post("control-biometrico",{dni:d.value,n_carrera:y.value});Y(s.data.datos),d.value=null},Y=s=>{var o=document.createElement("iframe");o.style.display="none",o.src=I+"/documentos/control-biometrico-general/"+s+".pdf",document.body.appendChild(o),o.contentWindow.focus(),o.contentWindow.print()},$=async()=>{v.value=[],y.value=0;try{if(l.value.dni!=null){const s=await h.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:l.value.nro_doc,nom_:l.value.nombres,app_:l.value.primer_apellido,apm_:l.value.segundo_apellido},{headers:{"Content-Type":"application/json"}});v.value=s.data,v.value[0]&&(y.value=1)}else{const s=await h.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:d.value,nom_:"SDSFASD",app_:"SDSFASD",apm_:"SDSFASD"},{headers:{"Content-Type":"application/json"}});v.value=s.data,v.value[0]&&(y.value=1)}}catch(s){console.error("Error:",s)}};M();const G=(s,o,p)=>{oe[s]({message:o,description:p})};return(s,o)=>{const p=r("a-input"),H=r("a-auto-complete"),u=r("a-col"),x=r("a-row"),W=r("a-checkbox"),Z=r("a-checkbox-group"),c=r("a-form-item"),w=r("a-select-option"),q=r("a-select"),J=r("a-date-picker"),N=r("a-button"),k=r("a-card"),Q=r("a-label"),S=r("a-tab-pane"),X=r("a-tabs");return _(),m(z,null,[e(C(ee),{title:"Revisión de documentos"}),e(de,null,{default:t(()=>[a("div",null,[e(k,{style:{background:"white"},class:"mb-0 p-0"},{default:t(()=>[e(x,{gutter:16,class:"mb-3"},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:t(()=>[a("div",null,[me,e(H,{value:d.value,"onUpdate:value":o[1]||(o[1]=n=>d.value=n),options:K.value,style:{width:"300px"},onSelect:s.onSelect,onSearch:s.onSearch},{suffix:t(()=>[e(C(_e))]),option:t(({value:n,label:j})=>[a("div",ve,[a("div",null,[a("span",fe,E(n),1)]),a("div",ge,[a("span",he,E(j),1)])])]),default:t(()=>[e(p,{ref_key:"dniInput",ref:T,placeholder:"Buscar",value:U.value,"onUpdate:value":o[0]||(o[0]=n=>U.value=n),onKeypress:s.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24},{default:t(()=>[a("div",be,[e(Z,{value:F.value,"onUpdate:value":o[2]||(o[2]=n=>F.value=n)},{default:t(()=>[(_(!0),m(z,null,B(A.value,(n,j)=>(_(),te(W,{key:n.value,value:n.value,class:ae([{"first-item":j===0},"checkbox-item"])},{default:t(()=>[a("span",ye,E(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1})]),_:1}),e(x,{gutter:16},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:t(()=>[a("div",xe,[e(X,{activeKey:s.activeKey,"onUpdate:activeKey":o[17]||(o[17]=n=>s.activeKey=n),type:"card",style:{}},{default:t(()=>[e(S,{key:"7",tab:"Datos",class:"pl-2 pr-2"},{default:t(()=>[we,l.value?(_(),m("div",ke,[e(k,null,{default:t(()=>[e(x,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Se,e(p,{value:l.value.primer_apellido,"onUpdate:value":o[3]||(o[3]=n=>l.value.primer_apellido=n)},null,8,["value"])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[je,e(p,{value:l.value.segundo_apellido,"onUpdate:value":o[4]||(o[4]=n=>l.value.segundo_apellido=n)},null,8,["value"])]),_:1}),e(c,null,{default:t(()=>[a("div",De,[a("div",Ue,[Ce,e(p,{value:l.value.nombres,"onUpdate:value":o[5]||(o[5]=n=>l.value.nombres=n)},null,8,["value"])]),a("div",Ee,[Ie,e(p,{value:l.value.puesto,"onUpdate:value":o[6]||(o[6]=n=>l.value.puesto=n)},null,8,["value"])])])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[qe,a("div",null,[e(q,{ref:"tipodocumento",value:l.value.tipo_doc,"onUpdate:value":o[7]||(o[7]=n=>l.value.tipo_doc=n),style:{width:"100%"}},{default:t(()=>[e(w,{value:1},{default:t(()=>[g("DNI")]),_:1}),e(w,{value:2},{default:t(()=>[g("Carné Ext.")]),_:1})]),_:1},8,["value"])])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[ze,a("div",null,[e(q,{ref:"sexoigresante",value:l.value.sexo,"onUpdate:value":o[8]||(o[8]=n=>l.value.sexo=n),style:{width:"100%"}},{default:t(()=>[e(w,{value:"1"},{default:t(()=>[g("MASCULINO")]),_:1}),e(w,{value:"2"},{default:t(()=>[g("FEMENINO")]),_:1})]),_:1},8,["value"])])]),_:1}),e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Fe,e(J,{placeholder:"Selecciona tu fecha de nacimiento",style:{width:"100%"},value:l.value.fec_nacimiento,"onUpdate:value":o[9]||(o[9]=n=>l.value.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:2,xl:2},{default:t(()=>[a("div",Ae,[a("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+l.value.nro_doc+"x.jpg",height:"80"},null,8,Pe),Ne]),a("div",null,[a("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+l.value.nro_doc+".jpg",height:"80"},null,8,Ve),Be])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[a("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/inscripcion/"+l.value.nro_doc+".jpg",width:"250"},null,8,Ke)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:17},{default:t(()=>[a("div",Me,[e(N,{class:"btn-actualizar",onClick:o[10]||(o[10]=n=>L())},{default:t(()=>[Te]),_:1})])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:8,xl:7},{default:t(()=>[a("div",Re,[a("span",Le,"DNI "+E(l.value.nro_doc),1)])]),_:1})]),_:1})]),_:1}),v.value[0]?(_(),m("div",{key:0,class:"flex mb-3 mt-3",style:le(v.value[0]?"align-items:center; justify-content: center; width: 100%; height: 40px; background: red; border-radius: 7px;":"align-items:center; justify-content: center; width: 100%; height: 40px; background: #cdcdcd4F; border-radius: 7px;")},Ye,4)):b("",!0),v.value[0]?(_(),m("div",$e,[e(k,null,{default:t(()=>[(_(!0),m(z,null,B(v.value,(n,j)=>(_(),m("div",{key:j},[e(re,{item:n},null,8,["item"])]))),128))]),_:1})])):b("",!0),Ge,e(k,null,{default:t(()=>[e(x,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[He,e(p,{value:l.value.proceso,"onUpdate:value":o[11]||(o[11]=n=>l.value.proceso=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[We,e(p,{value:l.value.modalidad,"onUpdate:value":o[12]||(o[12]=n=>l.value.modalidad=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ze,e(p,{value:l.value.programa,"onUpdate:value":o[13]||(o[13]=n=>l.value.programa=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Je,e(p,{value:l.value.puntaje,"onUpdate:value":o[14]||(o[14]=n=>l.value.puntaje=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(c,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Qe,e(p,{value:l.value.fecha,"onUpdate:value":o[15]||(o[15]=n=>l.value.fecha=n)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),v.value[0]?(_(),m("div",Xe,tt)):b("",!0),e(k,{class:"mb-3",style:{"margin-bottom":"10px"}},{default:t(()=>[e(x,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(c,null,{default:t(()=>[at]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(c,null,{default:t(()=>[a("div",lt,[e(Q,null,{default:t(()=>[g("SEGUNDA CARRERA")]),_:1}),e(q,{ref:"select",value:y.value,"onUpdate:value":o[16]||(o[16]=n=>y.value=n),style:{width:"100%"}},{default:t(()=>[e(w,{value:1},{default:t(()=>[g("SI")]),_:1}),e(w,{value:0},{default:t(()=>[g("NO")]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1})]),_:1})]),_:1})])):b("",!0)]),_:1}),e(S,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:t(()=>[a("div",ot,[d.value!==null&&d.value.length===8?(_(),m("div",st,[e(ue,{dni:d.value},null,8,["dni"])])):b("",!0)])]),_:1}),e(S,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:t(()=>[a("div",null,[a("div",nt,[d.value!==null&&d.value.length===8?(_(),m("div",it,[a("iframe",{src:C(I)+"/documentos/general2023-II/"+d.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,dt)])):b("",!0)])])]),_:1}),e(S,{key:"4",tab:"Ex vocacional"},{default:t(()=>[a("div",null,[a("div",ut,[d.value!==null&&d.value.length===8?(_(),m("div",rt,[a("iframe",{src:C(I)+"/documentos/cepre2023-II/"+d.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,ct)])):b("",!0)])])]),_:1}),e(S,{key:"6",tab:"D. Biométricos"},{default:t(()=>[pt]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),a("div",_t,[e(N,{type:"primary",onClick:o[18]||(o[18]=n=>O())},{default:t(()=>[g("Imprimir")]),_:1})])]),_:1})])]),_:1})],64)}}},jt=ce(mt,[["__scopeId","data-v-17d4de97"]]);export{jt as default};
