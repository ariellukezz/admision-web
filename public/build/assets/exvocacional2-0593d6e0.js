import{L as S}from"./LayoutExVocacional-2ae2c911.js";import{r as i,e as D,H as X,f,o as r,s as N,w as l,c,a as s,d as e,b,g,t as k,F as $,i as P}from"./app-1739c092.js";import"./logotiny-c4b525af.js";import"./logoDAD-c76d0a0b.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={key:0,style:{margin:"auto","min-height":"calc(100vh - 160px)",display:"flex","justify-content":"center","align-items":"center"}},Z=e("div",{style:{"margin-bottom":"7px"}},[e("label",null,"N° Documento")],-1),H=e("div",{style:{"margin-bottom":"7px"}},[e("label",null,"Codigo")],-1),W={style:{display:"flex","justify-content":"center","margin-top":"20px"}},q={key:1,class:"flex align-center justify-center"},G={key:0,class:"align-center justify-center mt-7",style:{background:"#00000008","border-radius":"8px",padding:"20px"}},J={class:"mb-3"},K={key:0,class:"pl-6 pr-6 pt-4 pb-4",style:{"border-radius":"5px",color:"white","font-size":"1.2rem","box-shadow":"1px 2px 2px 1px #a3a1a143",background:"navy","max-width":"800px"}},Q={class:"mt-4 p-3",style:{"border-radius":"5px",background:"white",color:"gray","font-size":"1rem",border:"#a3a1a143 1px solid","max-width":"800px"}},Y={style:{"font-size":"1.4rem"}},ee={class:"mt-4 p-3",style:{"border-radius":"5px",background:"white",color:"gray","font-size":"1rem",border:"#a3a1a143 1px solid","max-width":"800px"}},te={style:{"font-size":"1.4rem"}},ae={class:"flex justify-between mt-4"},oe={style:{"font-size":"1.2rem"}},le={key:2,style:{display:"flex","justify-content":"center"}},se=e("div",{class:"flex justify-center mt-4 mb-3"},[e("span",{style:{color:"#264d79",opacity:"1"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"82",height:"82",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})])])],-1),ne=e("div",{class:"flex justify-center mt-1 mb-1"},[e("span",{style:{"font-size":"2.3rem"}},"Buen Trabajo")],-1),ie=e("div",{class:"flex justify-center",style:{"text-align":"center"}},[e("span",{style:{"font-size":"1.1rem"}},"FINALIZÓ CON EXITO SU EXAMEN VOCACIONAL")],-1),re={class:"flex justify-center mt-4 mb-3"},de={key:3,style:{display:"flex","justify-content":"center","align-items":"center",height:"calc(100vh - 150px)"}},ue=e("div",{class:"flex justify-center mt-4 mb-3"},[e("span",{style:{color:"#264d79",opacity:"1"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"82",height:"82",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})])])],-1),ce=e("div",{class:"flex justify-center mt-1 mb-1"},[e("span",{style:{"font-size":"2.3rem"}},"Buen Trabajo")],-1),ve=e("div",{class:"flex justify-center",style:{"text-align":"center"}},[e("span",{style:{"font-size":"1.1rem"}},"FINALIZÓ CON EXITO SU EXAMEN VOCACIONAL")],-1),pe={class:"flex justify-center mt-4 mb-3"},he={__name:"exvocacional2",setup(_e){i(!0);const I=()=>{p.value=[],y.value=null,h.value=null,v.value=[],C.value=[],m.value=0},v=i([]),n=i(0),C=i([]),d=i([]),y=i(""),h=i(""),p=i(null),m=i(0),U=async()=>{let t=await axios.post("get-datos-examen2",{dni:y.value,codigo:h.value});p.value=t.data.datos,t.data.estado==!0?t.data.datos&&(m.value=1,u.value=60,L()):m.value=2},_=i(!1),L=async()=>{let t=await axios.post("get-preguntas2",{postulante:p.value[0].id,codigo:h.value});v.value=t.data.datos,n.value===0&&E(0)},E=async t=>{if(v!=[]){_.value=!0;let a=await axios.post("get-alternativas2",{id_pregunta:v.value[t].id_pregunta});C.value=a.data.datos,u.value=60,z(),_.value=!1}};D(n,(t,a)=>{E(t)}),i(!1);const u=i(60),z=()=>{const t=setInterval(()=>{u.value<=0?clearInterval(t):u.value--},2600+n.value*1e3)},T=async(t,a)=>{if(a){_.value=!0;let x=await axios.post("save-respuesta",{dni:y.value,id_vocacional:p.value[0].id_vocacional,pregunta:t,postulante:p.value[0].id,respuesta:a.id,nro:n.value+1});n.value=x.data.nro,_.value=!1,d.value=[],u.value=60}else{_.value=!0;let x=await axios.post("save-respuesta",{dni:y.value,id_vocacional:p.value[0].id_vocacional,pregunta:t,postulante:p.value[0].id,nro:n.value+1});n.value=x.data.nro,_.value=!1,d.value=[],u.value=60}};X(()=>{z()});const F=()=>{for(const t in d.value)if(d.value[t])return t;return-1};return(t,a)=>{const x=f("a-input"),V=f("a-form-item"),w=f("a-button"),j=f("a-card"),M=f("a-progress"),B=f("a-radio"),O=f("a-radio-group");return r(),N(S,null,{default:l(()=>[m.value==0?(r(),c("div",R,[s(j,{style:{"min-width":"320px"}},{default:l(()=>[Z,s(V,null,{default:l(()=>[s(x,{value:y.value,"onUpdate:value":a[0]||(a[0]=o=>y.value=o),maxlength:12,placeholder:"N° Documento"},null,8,["value"])]),_:1}),H,s(V,null,{default:l(()=>[s(x,{value:h.value,"onUpdate:value":a[1]||(a[1]=o=>h.value=o),maxlength:12,placeholder:"codigo"},null,8,["value"])]),_:1}),e("div",W,[s(w,{type:"primary",onClick:a[2]||(a[2]=o=>U())},{default:l(()=>[b("Iniciar Examen")]),_:1})])]),_:1})])):g("",!0),m.value==1?(r(),c("div",q,[n.value<20?(r(),c("div",G,[e("div",J,[s(M,{percent:parseFloat((u.value*1.666666666667).toFixed(0)),strokeWidth:15,showInfo:!1,strokeColor:"navy"},null,8,["percent"])]),v.value[n.value]?(r(),c("div",K,k(v.value[n.value].pregunta),1)):g("",!0),(r(!0),c($,null,P(C.value,o=>(r(),c("div",{key:o.ide},[u.value>0?(r(),N(O,{key:0,value:d.value[o.ide],"onUpdate:value":A=>d.value[o.ide]=A},{default:l(()=>[e("div",Q,[s(B,{value:o,style:{width:"800px"}},{default:l(()=>[e("span",Y,k(o.respuesta),1)]),_:2},1032,["value"])])]),_:2},1032,["value","onUpdate:value"])):(r(),N(O,{key:1,value:d.value[o.ide],"onUpdate:value":A=>d.value[o.ide]=A,disabled:""},{default:l(()=>[e("div",ee,[s(B,{value:o,style:{width:"800px"}},{default:l(()=>[e("span",te,k(o.respuesta),1)]),_:2},1032,["value"])])]),_:2},1032,["value","onUpdate:value"]))]))),128)),e("div",ae,[e("div",null,[e("span",oe," pregunta "+k(n.value+1)+"/20 ",1)]),e("div",null,[s(w,{style:{background:"navy",padding:"10px 10px",height:"40px",width:"200px","border-radius":"5px",color:"white"},loading:_.value,onClick:a[3]||(a[3]=o=>T(v.value[n.value].id_pregunta,d.value[F()]))},{default:l(()=>[b("Siguiente")]),_:1},8,["loading"])])])])):g("",!0)])):g("",!0),n.value==20?(r(),c("div",le,[s(j,{style:{width:"380px","border-radius":"2px"}},{default:l(()=>[se,ne,ie,e("div",re,[s(w,{type:"primary",style:{background:"#264d79",width:"160px"},onClick:a[4]||(a[4]=o=>I())},{default:l(()=>[b("ACEPTAR")]),_:1})])]),_:1})])):g("",!0),m.value==2?(r(),c("div",de,[s(j,{style:{width:"380px","border-radius":"2px"}},{default:l(()=>[ue,ce,ve,e("div",pe,[s(w,{type:"primary",style:{background:"#264d79",width:"160px"},onClick:a[5]||(a[5]=o=>I())},{default:l(()=>[b("ACEPTAR")]),_:1})])]),_:1})])):g("",!0)]),_:1})}}};export{he as default};
