import{a,r as y,e as j,C as Q,D as Y,o as r,c as f,u as C,w as n,d as c,F as V,y as B,M as ee,Z as ae,b as d,t as g,f as _,E as S,G as te,n as oe,B as ne,I as le,_ as se,h as ie,i as de,k as re,j as ue,S as ce,N as pe,q as me}from"./app-4116fa2f.js";import{_ as _e}from"./AuthenticatedLayout-1b1cc6fa.js";import{P as ve}from"./PrinterOutlined-8f0ab701.js";import{A as fe}from"./AntdIcon-93d44c6a.js";import{S as ge}from"./SearchOutlined-029700c0.js";import{E as ye}from"./EyeOutlined-318461c2.js";import"./logotiny-c4b525af.js";import"./Header-176c9136.js";import"./DownOutlined-fde35b8f.js";/* empty css                                                            */var be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const he=be;function D(v){for(var u=1;u<arguments.length;u++){var s=arguments[u]!=null?Object(arguments[u]):{},p=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(s).filter(function(b){return Object.getOwnPropertyDescriptor(s,b).enumerable}))),p.forEach(function(b){Ce(v,b,s[b])})}return v}function Ce(v,u,s){return u in v?Object.defineProperty(v,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):v[u]=s,v}var F=function(u,s){var p=D({},u,s.attrs);return a(fe,D({},p,{icon:he}),null)};F.displayName="SyncOutlined";F.inheritAttrs=!1;const ke=F;const xe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},we={class:"mr-3"},Ie={class:"flex"},Se={class:"mr-3"},Oe={class:"flex justify-between",style:{position:"relative"}},Ee={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Ae={style:{}},Fe={key:0},Ne={style:{"font-size":".9rem"}},ze={key:1},Pe={style:{"font-size":".9rem"}},Re={key:2},je={style:{"font-size":".9rem"}},Ve={key:3,class:"flex",style:{"justify-content":"center"}},Be={key:4,class:"flex",style:{"justify-content":"center"}},De={key:0},Ue={key:1},Le={class:"flex",style:{"justify-content":"flex-end"}},Ke={__name:"Lista",setup(v){const u=window.location.origin,s=y(""),p=y(1),b=y(null),k=y(!1);y("");const w=y([]),o=y({id:null,codigo:"",nombre:"",nivel_academico:"CARRERA PROFESIONAL",tipo_autorizacion:"RECONOCIDO POR LIC.",id_facultad:1,estado:!0,area:"BIOMEDICAS"}),O=()=>{k.value=!0};let N;j(s,(t,e)=>{clearTimeout(N),N=setTimeout(()=>{I()},500)}),j(p,(t,e)=>{I()});const U=t=>{var e=document.createElement("iframe");e.style.display="none",e.src=u+t,document.body.appendChild(e),e.contentWindow.focus(),e.contentWindow.print()},L=t=>{k.value=!0,o.value.id=t.id,o.value.codigo=t.codigo,o.value.nombre=t.nombre,o.value.nivel_academico=t.nivel_academico,o.value.tipo_autorizacion=t.tipo_autorizacion,o.value.id_facultad=t.id_fac,t.estado==1?o.value.estado=!0:o.value.estado=!1,o.value.area=t.area},I=async(t="")=>{let e=await B.post("get-control-posterior?page="+p.value,{term:s.value});w.value=e.data.datos.data,b.value=e.data.datos.total},M=()=>{let t={id:o.value.id,codigo:o.value.codigo,nombre:o.value.nombre,nivel_academico:o.value.nivel_academico,tipo_autorizacion:o.value.tipo_autorizacion,estado:o.value.estado,id_facultad:o.value.id_facultad,area:o.value.area};B.post("save-programa",t).then(e=>{I(),T("success",e.data.titulo,e.data.mensaje),k.value=!1,o.value.codigo=null,o.value.id=null,o.value.nombre=""})},$=[{title:"Cod",dataIndex:"codigo_ingreso",width:"60px",align:"center",responsive:["md"]},{title:"N° Doc",dataIndex:"nro_doc",width:"80px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombre"},{title:"Programa",dataIndex:"programa"},{title:"Modalidad",dataIndex:"modalidad",align:"center",width:"130px",responsive:["md"]},{title:"Puntaje",dataIndex:"puntaje_total",align:"center",width:"80px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],z=y([]),G=t=>{console.log("selectedRowKeys changed: ",t),z.value=t};Q(()=>({selectedRowKeys:C(z),onChange:G,hideDefaultSelections:!0}));const T=(t,e,m)=>{oe[t]({message:e,description:m})};return I(),(t,e)=>{const m=ne,E=le,X=Y("row"),h=se,W=ie,q=de,x=re,P=ue,A=ce,Z=pe,H=me,J=ee;return r(),f(V,null,[a(C(ae),{title:"Control biométrico"}),a(_e,null,{default:n(()=>[c("div",xe,[a(X,{class:"flex justify-between mb-4"},{default:n(()=>[c("div",we,[a(m,{type:"error",style:{"border-radius":"5px",color:"white",background:"cornflowerblue",border:"none"},onClick:O},{default:n(()=>e[9]||(e[9]=[d("FILTRAR")])),_:1})]),c("div",Ie,[c("div",Se,[a(m,{type:"error",style:{"border-radius":"5px",color:"white",background:"crimson",border:"none"},onClick:O},{default:n(()=>e[10]||(e[10]=[d("PDF")])),_:1}),a(m,{class:"ml-2",type:"primary",style:{border:"none","border-radius":"5px",background:"green"},onClick:O},{default:n(()=>e[11]||(e[11]=[d("XLSX")])),_:1})]),c("div",Oe,[a(E,{type:"text",placeholder:"Buscar",value:s.value,"onUpdate:value":e[0]||(e[0]=l=>s.value=l),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),c("div",Ee,[a(C(ge))])])])]),_:1}),c("div",Ae,[a(W,{columns:$,"data-source":w.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:n(({column:l,index:R,record:i})=>[l.dataIndex==="codigo"?(r(),f("div",Fe,[c("span",Ne,g(i.codigo),1)])):_("",!0),l.dataIndex==="nro_doc"?(r(),f("div",ze,[c("span",Pe,g(i.nro_doc),1)])):_("",!0),l.dataIndex==="nombre"?(r(),f("div",Re,[c("span",je,g(i.primer_apellido)+" "+g(i.segundo_apellido)+", "+g(i.nombres),1)])):_("",!0),l.dataIndex==="modalidad"?(r(),f("div",Ve,[i.modalidad=="EXAMEN GENERAL"?(r(),S(h,{key:0,style:{"font-size":".8rem"},color:"blue"},{default:n(()=>[d(g(i.modalidad),1)]),_:2},1024)):_("",!0),i.modalidad=="CONADIS"?(r(),S(h,{key:1,style:{"font-size":".8rem"},color:"orange"},{default:n(()=>[d(g(i.modalidad),1)]),_:2},1024)):_("",!0),i.modalidad=="CEPREUNA"?(r(),S(h,{key:2,style:{"font-size":".8rem"},color:"purple"},{default:n(()=>[d(g(i.modalidad),1)]),_:2},1024)):(r(),S(h,{key:3,style:{"font-size":".8rem"},color:"pink"},{default:n(()=>[d(g(i.modalidad),1)]),_:2},1024))])):_("",!0),l.dataIndex==="estado"?(r(),f("div",Be,[w.value[R].estado==1?(r(),f("div",De,[a(h,{color:"green"},{default:n(()=>e[12]||(e[12]=[d("Si")])),_:1})])):_("",!0),w.value[R].estado==0?(r(),f("div",Ue,[a(h,{color:"red"},{default:n(()=>e[13]||(e[13]=[d("No")])),_:1})])):_("",!0)])):_("",!0),l.dataIndex==="acciones"?(r(),f(V,{key:5},[a(m,{type:"",onClick:K=>U(i.url),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:n(()=>[a(C(ve))]),_:2},1032,["onClick"]),a(m,{type:"",onClick:K=>L(i),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:n(()=>[a(C(ke))]),_:2},1032,["onClick"]),a(m,{class:"",style:{"border-radius":"4px",background:"none",color:"cornflowerblue"},shape:"",size:"small"},{icon:n(()=>[a(C(ye))]),_:1})],64)):_("",!0)]),_:1},8,["data-source"])]),c("div",Le,[a(q,{current:p.value,"onUpdate:current":e[1]||(e[1]=l=>p.value=l),simple:"","page-size":"50",total:b.value},null,8,["current","total"])])])]),_:1}),c("div",null,[a(J,{visible:k.value,"onUpdate:visible":e[8]||(e[8]=l=>k.value=l),title:o.value.id==null?"Nuevo Programa":"Editar Programa",style:{"margin-top":"-40px"}},{footer:n(()=>[a(m,{style:{"margin-left":"10px"},onClick:t.resetForm},{default:n(()=>e[17]||(e[17]=[d("Cancelar")])),_:1},8,["onClick"]),a(m,{type:"primary",onClick:e[7]||(e[7]=l=>M())},{default:n(()=>e[18]||(e[18]=[d("Guardar")])),_:1})]),default:n(()=>[a(H,te({ref:"formRef",name:"custom-validation",model:t.formState,rules:t.rules},t.layout,{onFinish:t.handleFinish,onValidate:t.handleValidate,onFinishFailed:t.handleFinishFailed}),{default:n(()=>[a(x,{"has-feedback":"",label:"Codigo",name:"codigo"},{default:n(()=>[a(E,{type:"text",value:o.value.codigo,"onUpdate:value":e[2]||(e[2]=l=>o.value.codigo=l),autocomplete:"off"},null,8,["value"])]),_:1}),a(x,{"has-feedback":"",label:"Nombre",name:"nombre"},{default:n(()=>[a(E,{type:"text",value:o.value.nombre,"onUpdate:value":e[3]||(e[3]=l=>o.value.nombre=l),autocomplete:"off"},null,8,["value"])]),_:1}),a(x,{"has-feedback":"",label:"Facultad",name:"facultad"},{default:n(()=>[a(P,{options:t.facultades,ref:"Tipo",style:{width:"100%"},onFocus:t.focus,onChange:t.handleChange,value:o.value.id_facultad,"onUpdate:value":e[4]||(e[4]=l=>o.value.id_facultad=l)},null,8,["options","onFocus","onChange","value"])]),_:1}),a(x,{"has-feedback":"",label:"Area",name:"area"},{default:n(()=>[a(P,{style:{width:"100%"},onFocus:t.focus,onChange:t.handleChange,value:o.value.area,"onUpdate:value":e[5]||(e[5]=l=>o.value.area=l)},{default:n(()=>[a(A,{value:"BIOMÉDICAS"},{default:n(()=>e[14]||(e[14]=[d(" BIOMEDICAS ")])),_:1}),a(A,{value:"INGENIERÍAS"},{default:n(()=>e[15]||(e[15]=[d(" INGENIERÍAS ")])),_:1}),a(A,{value:"SOCIALES"},{default:n(()=>e[16]||(e[16]=[d(" SOCIALES ")])),_:1})]),_:1},8,["onFocus","onChange","value"])]),_:1}),a(x,{"has-feedback":"",label:"Vigente",name:"estado"},{default:n(()=>[a(Z,{checked:o.value.estado,"onUpdate:checked":e[6]||(e[6]=l=>o.value.estado=l)},null,8,["checked"])]),_:1})]),_:1},16,["model","rules","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible","title"])])],64)}}};export{Ke as default};
