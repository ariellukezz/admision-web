import{r as g,e as $,f as v,o as c,c as r,a as e,u as m,w as t,F as w,Z as ie,d as a,t as E,g as f,b as l,G as se,E as M,s as G,p as ne,h as de,I as ce,n as re}from"./app-acd8360d.js";import{A as ue}from"./LayoutDocente-30aa0bee.js";import pe from"./voucherBN-ca0cd86d.js";import{_ as _e}from"./_plugin-vue_export-helper-c27b6911.js";import{f as ve}from"./index-12b205fe.js";import{F as me}from"./FormOutlined-168b5ce7.js";import"./DropdownLink-3f4f9a7d.js";import"./logotiny-c4b525af.js";import"./TopMenu-48e3a32b.js";const p=S=>(ne("data-v-61e43641"),S=S(),de(),S),ge={style:{height:"calc(100vh - 120px)","overflow-y":"scroll","margin-right":"-10px"}},fe={style:{width:"100%",margin:"20px 0px","margin-top":"0px"}},he={class:"flex mb-4 elemento",style:{position:"relative",height:"130px","border-radius":"10px 10px 10px 10px","align-items":"center","justify-content":"center"}},ye={style:{"text-align":"center"}},be={key:0},xe={style:{"font-size":"1.7rem"}},ke={key:1},Ie=p(()=>a("span",null,[a("strong",{style:{"font-size":"1.7rem"}},"PROGRAMA DE ESTUDIOS")],-1)),we=[Ie],Se={key:2,style:{"text-align":"center","margin-top":"-10px"}},Ce={style:{"font-size":"1rem"}},Ee={key:3,style:{"text-align":"center","margin-top":"-10px"}},Ae=p(()=>a("span",{style:{"font-size":"1rem"}},"( MODALIDAD )",-1)),ze=[Ae],Pe={key:0,style:{"text-align":"center","margin-top":"10px"}},De={key:0,class:"px-2 py-1",style:{"text-align":"center","margin-top":"10px",background:"#f3f3f3"}},Me=p(()=>a("span",{style:{color:"crimson","font-size":"1rem","letter-spacing":"0.3rem"}},"POSTULANTE A SEGUNDO PROGRAMA",-1)),Ue=[Me],Ne={style:{padding:"0px 15px",background:"white","border-radius":"10px","margin-top":"-10px"}},Te={class:"flex justify-end pt-6",style:{background:"white"}},je=p(()=>a("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),Be={style:{height:"34px"}},Oe={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Ve={style:{"margin-top":"-10px"}},Fe={style:{"font-size":".8rem","text-transform":"uppercase"}},Re={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},$e={class:"container-principal"},Ge={class:"container-postulante"},Le={class:"mr-3 container-imagen"},Ye=["src"],qe=["src"],He={class:"datos-postulante"},We={class:"mb-2"},Qe=p(()=>a("label",null,"Primer apellido",-1)),Xe={class:"mb-2"},Ze=p(()=>a("label",null,"Segundo apellido",-1)),Je={class:"mb-2"},Ke=p(()=>a("label",null,"Prenombres",-1)),ea={class:"flex"},aa={class:"mr-3",style:{width:"100%"}},ta=p(()=>a("label",null,"Fecha Nac",-1)),oa={style:{width:"100%"}},la={style:{width:"200px"}},ia=p(()=>a("label",null,"Sexo",-1)),sa={class:"container-postulante mb-2"},na={style:{width:"100%"}},da=p(()=>a("label",null,"Colegio",-1)),ca={class:"container-postulante mb-2"},ra={style:{width:"100%"}},ua=p(()=>a("label",null,"Procedencia",-1)),pa={class:"container-postulante"},_a={style:{width:"100%"}},va=p(()=>a("label",null,"Proceso",-1)),ma={class:"mb-2"},ga=p(()=>a("label",null,"Modalidad",-1)),fa=p(()=>a("label",null,"Programa de estudios",-1)),ha={class:"mt-4 container-huellas"},ya={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},ba=["src"],xa=["src"],ka={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Ia=["src"],wa=["src"],Sa=p(()=>a("div",{class:"mb-4",style:{"margin-top":"0px"}},[a("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Comprobantes de pago ")],-1)),Ca={class:"mb-6"},Ea=p(()=>a("div",{class:"mb-4",style:{"margin-top":"0px"}},[a("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Documentos ")],-1)),Aa={class:"mb-6"},za={key:0,type:"primary",ghost:""},Pa={key:1,type:"danger",ghost:""},Da=["href"],Ma=p(()=>a("div",{class:"mb-4",style:{"margin-top":"0px"}},[a("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Preinscripción ")],-1)),Ua={class:"mb-6"},Na={key:0,type:"primary",ghost:""},Ta={key:1,type:"danger",ghost:""},ja=p(()=>a("div",{class:"mb-4",style:{"margin-top":"0px"}},[a("span",{style:{"font-size":"1rem","font-weight":"bold"}}," Inscripciones ")],-1)),Ba={class:"mb-6"},Oa={key:0,type:"primary",ghost:""},Va={key:1,type:"danger",ghost:""},Fa={class:"flex justify-end",style:{"margin-left":"-15px",background:"white","border-top":"1px solid #cdcdcd83",height:"42px","align-items":"center","margin-right":"-11px"}},Ra={key:0,class:"flex"},$a={style:{"margin-right":"5px"}},Ga={style:{"margin-right":"5px"}},La={key:0},Ya={key:1},qa={__name:"impresion",props:{baseUrl:String},setup(S){const b=window.location.origin,x=g("");g("1");const u=g(null),U=g(null),C=g(null),N=g([]),o=g({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",cod_programa:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),T=g([]),A=g([]),j=async(i="",n=1)=>{let _=await axios.post("get-postulantes?page="+n,{term:x.value});N.value=_.data.datos.data},L=async()=>{let i=await axios.get("get-postulante-dni/"+u.value);i.data.datos&&(o.value.id=i.data.datos.id_postulante,o.value.nombres=i.data.datos.nombres,o.value.primer_apellido=i.data.datos.primer_apellido,o.value.segundo_apellido=i.data.datos.segundo_apellido,o.value.sexo=i.data.datos.sexo,o.value.fec_nacimiento=ce(i.data.datos.fec_nacimiento),o.value.colegio=i.data.datos.colegio,o.value.id_gestion=i.data.datos.id_gestion,o.value.procedencia=i.data.datos.departamento+" / "+i.data.datos.provincia+" / "+i.data.datos.distrito,o.value.proceso=i.data.datos.proceso,o.value.modalidad=i.data.datos.modalidad,o.value.programa=i.data.datos.programa,o.value.cod_programa=i.data.datos.cod_programa,o.value.id_programa=i.data.datos.id_programa,o.value.id_proceso=i.data.datos.id_proceso,o.value.id_modalidad=i.data.datos.id_modalidad,o.value.dni_temp=i.data.datos.dni)},Y=async()=>{if(u.value===8&&/^[0-9]+$/.test(u.value)){let i=await axios.get("get-documentos-postulante/"+u.value);T.value=i.data.datos}},q=async()=>{if(u.value===8&&/^[0-9]+$/.test(u.value)){let i=await axios.get("get-preinscripciones-postulante/"+u.value);U.value=i.data.datos}},H=async()=>{if(u.value===8&&/^[0-9]+$/.test(u.value)){let i=await axios.get("get-inscripciones-postulante/"+u.value);C.value=i.data.datos}},W=async()=>{if(u.value===8&&/^[0-9]+$/.test(u.value)){let i=await axios.get("/carreras-previas/"+u.value);A.value=i.data.datos}},Q=async()=>{await axios.post("inscribir",{postulante:o.value}),X(u.value),u.value="",x.value="",o.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",id_gestion:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};let B;$(x,(i,n)=>{clearTimeout(B),B=setTimeout(()=>{x.value.length==8&&j()},500)});let O;$(u,(i,n)=>{clearTimeout(O),O=setTimeout(()=>{q(),H(),L(),Y(),W()},500)});const X=i=>{var n=document.createElement("iframe");n.style.display="none",n.src=b+"/documentos/9/inscripciones/constancias/"+i+".pdf",document.body.appendChild(n),n.contentWindow.focus(),n.contentWindow.print()},Z=(i,n,_)=>{re[i]({message:n,description:_})},V=async()=>{let i=await axios.post("actualizar-postulante",{id:o.value.id,nombres:o.value.nombres,primer_apellido:o.value.primer_apellido,segundo_apellido:o.value.segundo_apellido,fec_nacimiento:ve(new Date(o.value.fec_nacimiento),"yyyy-MM-dd"),sexo:o.value.sexo});i.data.estado===!0&&Z(i.data.tipo,i.data.titulo,i.data.mensaje)},J=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"verificado"},{title:"Acciones",dataIndex:"acciones"}],F=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}],K=i=>{Q()},ee=i=>{message.error("Click on No")};return j(),(i,n)=>{const _=v("a-input"),ae=v("a-auto-complete"),te=v("a-date-picker"),s=v("a-select-option"),z=v("a-select"),R=v("a-col"),k=v("a-tag"),h=v("a-button"),oe=v("a-divider"),P=v("a-table"),le=v("a-popconfirm");return c(),r(w,null,[e(m(ie),{title:"Inscripciones-impresión"}),e(ue,{title:"Revision documentos"},{default:t(()=>[a("div",ge,[a("div",null,[a("div",fe,[a("div",he,[a("div",null,[a("div",ye,[o.value.programa?(c(),r("div",be,[a("span",null,[a("strong",xe,E(o.value.programa),1)])])):(c(),r("div",ke,we)),o.value.modalidad?(c(),r("div",Se,[a("span",Ce,"( "+E(o.value.modalidad)+" )",1)])):(c(),r("div",Ee,ze))]),A.value?(c(),r("div",Pe,[A.value.length>0?(c(),r("div",De,Ue)):f("",!0)])):f("",!0)])])])]),a("div",Ne,[a("div",Te,[a("div",null,[je,e(ae,{value:u.value,"onUpdate:value":n[1]||(n[1]=d=>u.value=d),options:N.value,style:{width:"300px"},onSelect:i.onSelect,onSearch:i.onSearch},{option:t(({value:d,label:y})=>[a("div",Be,[a("div",null,[a("span",Oe,E(d),1)]),a("div",Ve,[a("span",Fe,E(y),1)])])]),default:t(()=>[e(_,{placeholder:"Buscar",value:x.value,"onUpdate:value":n[0]||(n[0]=d=>x.value=d)},null,8,["value"])]),_:1},8,["value","options","onSelect","onSearch"])])]),a("div",Re,[a("div",$e,[e(R,{flex:"1 1"},{default:t(()=>[a("div",Ge,[a("div",Le,[o.value.primer_apellido!==""?(c(),r("img",{key:0,src:m(b)+"/documentos/9/inscripciones/fotos/"+o.value.dni_temp+".jpg"},null,8,Ye)):(c(),r("img",{key:1,src:m(b)+"/fotos/postulantex.jpg"},null,8,qe))]),a("div",He,[a("div",We,[Qe,e(_,{value:o.value.primer_apellido,"onUpdate:value":n[2]||(n[2]=d=>o.value.primer_apellido=d),placeholder:"Primer apellido"},null,8,["value"])]),a("div",Xe,[Ze,e(_,{value:o.value.segundo_apellido,"onUpdate:value":n[3]||(n[3]=d=>o.value.segundo_apellido=d),placeholder:"Segundo apellido"},null,8,["value"])]),a("div",Je,[Ke,e(_,{value:o.value.nombres,"onUpdate:value":n[4]||(n[4]=d=>o.value.nombres=d),placeholder:"Prenombres"},null,8,["value"])]),a("div",ea,[a("div",aa,[ta,a("div",oa,[e(te,{style:{width:"100%"},value:o.value.fec_nacimiento,"onUpdate:value":n[5]||(n[5]=d=>o.value.fec_nacimiento=d),format:"DD/MM/YYYY"},null,8,["value"])])]),a("div",la,[ia,e(z,{ref:"select",value:o.value.sexo,"onUpdate:value":n[6]||(n[6]=d=>o.value.sexo=d),label:"label",style:{width:"100%"}},{default:t(()=>[e(s,{value:"1"},{default:t(()=>[l("Masculino")]),_:1}),e(s,{value:"2"},{default:t(()=>[l("Femenino")]),_:1})]),_:1},8,["value"])])])])]),a("div",null,[a("div",sa,[a("div",na,[da,e(_,{class:se(o.value.id_gestion==1?"borde-azul":o.value.id_gestion!=null),value:o.value.colegio,"onUpdate:value":n[7]||(n[7]=d=>o.value.colegio=d),placeholder:"Colegio"},null,8,["class","value"])])]),a("div",ca,[a("div",ra,[ua,e(_,{value:o.value.procedencia,"onUpdate:value":n[8]||(n[8]=d=>o.value.procedencia=d),disabled:"",placeholder:"Procedencia"},null,8,["value"])])]),a("div",pa,[a("div",_a,[va,e(_,{value:o.value.proceso,"onUpdate:value":n[9]||(n[9]=d=>o.value.proceso=d),disabled:"",placeholder:"Proceso"},null,8,["value"])])])])]),_:1}),e(R,{flex:"0 1 400px"},{default:t(()=>[a("div",null,[a("div",ma,[ga,e(z,{ref:"select",value:o.value.modalidad,"onUpdate:value":n[10]||(n[10]=d=>o.value.modalidad=d),style:{width:"100%"},disabled:""},{default:t(()=>[e(s,{value:7},{default:t(()=>[l("PERSONAS CON DISCAPACIDAD")]),_:1}),e(s,{value:8},{default:t(()=>[l("EXAMEN GENERAL")]),_:1}),e(s,{value:9},{default:t(()=>[l("CEPREUNA")]),_:1})]),_:1},8,["value"])]),a("div",null,[fa,e(z,{ref:"select",value:o.value.programa,"onUpdate:value":n[11]||(n[11]=d=>o.value.programa=d),style:{width:"100%"},disabled:!0},{default:t(()=>[e(s,{value:1},{default:t(()=>[l("Administración")]),_:1}),e(s,{value:2},{default:t(()=>[l("Antropología")]),_:1}),e(s,{value:3},{default:t(()=>[l("Arquitectura y Urbanismo")]),_:1}),e(s,{value:4},{default:t(()=>[l("Arte: Artes plásticas")]),_:1}),e(s,{value:5},{default:t(()=>[l("Arte: Danza")]),_:1}),e(s,{value:6},{default:t(()=>[l("Arte: Musica")]),_:1}),e(s,{value:7},{default:t(()=>[l("Biología: Ecología")]),_:1}),e(s,{value:8},{default:t(()=>[l("Biología: Microbiología y laboratorio clínico")]),_:1}),e(s,{value:9},{default:t(()=>[l("Biología: Pesquería")]),_:1}),e(s,{value:1},{default:t(()=>[l("Ciencias contables")]),_:1}),e(s,{value:2},{default:t(()=>[l("Ciencias de la comunicación")]),_:1}),e(s,{value:3},{default:t(()=>[l("Ciencias físisco matemáticas: Física")]),_:1}),e(s,{value:4},{default:t(()=>[l("Ciencias físisco matemáticas: Matemática")]),_:1}),e(s,{value:5},{default:t(()=>[l("Derecho")]),_:1}),e(s,{value:6},{default:t(()=>[l("Educación física")]),_:1}),e(s,{value:7},{default:t(()=>[l("Educación Inicial")]),_:1}),e(s,{value:8},{default:t(()=>[l("Educación primaria")]),_:1}),e(s,{value:9},{default:t(()=>[l("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(s,{value:9},{default:t(()=>[l("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(s,{value:9},{default:t(()=>[l("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(s,{value:9},{default:t(()=>[l("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(s,{value:1},{default:t(()=>[l("Enfermería")]),_:1}),e(s,{value:2},{default:t(()=>[l("Ingeniería Agrícola")]),_:1}),e(s,{value:3},{default:t(()=>[l("Ingeniería Agroindustrial")]),_:1}),e(s,{value:4},{default:t(()=>[l("Ingeniería Civil")]),_:1}),e(s,{value:5},{default:t(()=>[l("Ingeniería de Minas")]),_:1}),e(s,{value:6},{default:t(()=>[l("Ingeniería de Sistemas")]),_:1}),e(s,{value:7},{default:t(()=>[l("Ingeniería Económica")]),_:1}),e(s,{value:8},{default:t(()=>[l("Ingeniería Electrónica")]),_:1}),e(s,{value:9},{default:t(()=>[l("Ingeniería Estadística e informática")]),_:1}),e(s,{value:1},{default:t(()=>[l("Ingeniería Geológica")]),_:1}),e(s,{value:2},{default:t(()=>[l("Ingeniería Mecánica eléctrica")]),_:1}),e(s,{value:3},{default:t(()=>[l("Ingeniería Metalúrgica")]),_:1}),e(s,{value:4},{default:t(()=>[l("Ingeniería Química")]),_:1}),e(s,{value:5},{default:t(()=>[l("Ingeniería Topográfica y Agrimensura")]),_:1}),e(s,{value:6},{default:t(()=>[l("Medicina Humana")]),_:1}),e(s,{value:7},{default:t(()=>[l("Medicina Veterinaria y zootecnia")]),_:1}),e(s,{value:8},{default:t(()=>[l("Nutrición Humana")]),_:1}),e(s,{value:9},{default:t(()=>[l("Odontología")]),_:1}),e(s,{value:1},{default:t(()=>[l("Sociología")]),_:1}),e(s,{value:2},{default:t(()=>[l("Trabajo Social")]),_:1}),e(s,{value:3},{default:t(()=>[l("Turismo")]),_:1})]),_:1},8,["value"])])]),a("div",ha,[a("div",ya,[o.value.primer_apellido!==""?(c(),r("img",{key:0,src:m(b)+"/documentos/9/inscripciones/huellas/"+o.value.dni_temp+".jpg"},null,8,ba)):(c(),r("img",{key:1,src:m(b)+"/huellas/huella.jpg"},null,8,xa))]),a("div",ka,[o.value.primer_apellido!==""?(c(),r("img",{key:0,src:m(b)+"/documentos/9/inscripciones/huellas/"+o.value.dni_temp+"x.jpg"},null,8,Ia)):(c(),r("img",{key:1,src:m(b)+"/huellas/huella.jpg"},null,8,wa))])])]),_:1})])]),Sa,a("div",Ca,[a("div",null,[e(pe,{dni:u.value},null,8,["dni"])])]),Ea,a("div",Aa,[a("div",null,[e(P,{dataSource:T.value,columns:J,size:"small",pagination:!1},{bodyCell:t(({column:d,index:y,record:I})=>[d.dataIndex==="verificado"?(c(),r(w,{key:0},[I.verificado==1?(c(),r("div",za,[e(k,{color:"green"},{default:t(()=>[l(" verificado ")]),_:1})])):(c(),r("div",Pa,[e(k,{color:"pink"},{default:t(()=>[l(" No verificado ")]),_:1})]))],64)):f("",!0),d.dataIndex==="acciones"?(c(),r(w,{key:1},[e(h,{type:"primary",disabled:"",onClick:D=>i.abrirEditar(i.filiales[y]),size:"small"},{icon:t(()=>[e(m(me))]),_:2},1032,["onClick"]),e(oe,{type:"vertical"}),a("a",{href:"../../"+I.url,target:"_blank"},[e(h,{type:"primary",onClick:D=>i.eliminar(i.filiales[y]),shape:"",size:"small"},{icon:t(()=>[e(m(M))]),_:2},1032,["onClick"])],8,Da)],64)):f("",!0)]),_:1},8,["dataSource"])])]),Ma,a("div",Ua,[a("div",null,[e(P,{dataSource:U.value,columns:F,size:"small",pagination:!1},{bodyCell:t(({column:d,index:y,record:I})=>[d.dataIndex==="estado"?(c(),r(w,{key:0},[I.estado==1?(c(),r("div",Na,[e(k,{color:"green"},{default:t(()=>[l(" Disponible ")]),_:1})])):(c(),r("div",Ta,[e(k,{color:"pink"},{default:t(()=>[l(" Bloqueado ")]),_:1})]))],64)):f("",!0),d.dataIndex==="acciones"?(c(),G(h,{key:1,type:"primary",disabled:"",onClick:D=>i.abrirEditar(i.filiales[y]),size:"small"},{icon:t(()=>[e(m(M))]),_:2},1032,["onClick"])):f("",!0)]),_:1},8,["dataSource"])])]),ja,a("div",Ba,[a("div",null,[e(P,{dataSource:C.value,columns:F,size:"small",pagination:!1},{bodyCell:t(({column:d,index:y,record:I})=>[d.dataIndex==="estado"?(c(),r(w,{key:0},[I.estado==1?(c(),r("div",Oa,[e(k,{color:"green"},{default:t(()=>[l(" Disponible ")]),_:1})])):(c(),r("div",Va,[e(k,{color:"pink"},{default:t(()=>[l(" Bloqueado ")]),_:1})]))],64)):f("",!0),d.dataIndex==="acciones"?(c(),G(h,{key:1,type:"primary",disabled:"",onClick:D=>i.abrirEditar(i.filiales[y]),size:"small"},{icon:t(()=>[e(m(M))]),_:2},1032,["onClick"])):f("",!0)]),_:1},8,["dataSource"])])])])]),a("div",Fa,[C.value?(c(),r("div",Ra,[a("div",$a,[e(h,{style:{border:"#0e4165 solid 1px",color:"#0e4165"},onClick:V},{default:t(()=>[l("Actualizar Datos")]),_:1})]),a("div",Ga,[e(h,{style:{border:"#0e4165 solid 1px",color:"#0e4165"},onClick:V},{default:t(()=>[l("Imprimir constancia")]),_:1})]),C.value.length==0?(c(),r("div",La,[e(le,{title:"¿Seguro de inscribir?",onConfirm:K,cancelText:"NO",placement:"topRight",okText:"SI",onCancel:ee},{default:t(()=>[e(h,{style:{background:"#0e4165",color:"white"}},{default:t(()=>[l("Inscribir")]),_:1})]),_:1})])):(c(),r("div",Ya,[e(h,{type:"primary",disabled:""},{default:t(()=>[l("Ya Inscrito")]),_:1})]))])):f("",!0)])]),_:1})],64)}}},tt=_e(qa,[["__scopeId","data-v-61e43641"]]);export{tt as default};
