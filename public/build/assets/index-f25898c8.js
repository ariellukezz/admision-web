import{r as c,x as Q,H as W,e as k,f as u,o as f,c as I,a as e,u as g,w as a,F as N,l as F,Z as X,d as s,S as ee,s as A,E as le,g as U,b as p,t as V,D as ae,I as oe,n as te}from"./app-28f3ad09.js";import{A as ne}from"./AuthenticatedLayout-37d8b666.js";import{f as se}from"./index-7faf06e8.js";import{F as ie}from"./FormOutlined-299381d7.js";import"./DropdownLink-4a2f7a73.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";import"./TeamOutlined-5f750d64.js";const de={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},ue={class:"mr-3"},re={class:"flex justify-between",style:{position:"relative"}},_e={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},ce=s("label",null,"DNI",-1),me=s("label",null,"Ap. Paterno",-1),pe=s("label",null,"Ap. Materno",-1),ve=s("label",null,"Ap. Casada",-1),fe=s("label",null,"Nombres",-1),ge=s("label",null,"Sexo",-1),be=s("label",null,"Fec. Nacimiento",-1),xe=s("label",null,"Ubigeo Nacimiento",-1),ye=s("label",null,"Ubigeo residencia",-1),we=s("label",null,"Celular",-1),Ue=s("label",null,"Correo",-1),Ce=s("label",null,"Estado Civil",-1),Pe=s("label",null,"Dirección",-1),ke=s("label",null,"Año egreso",-1),Ie=s("label",null,"Observaciones",-1),Ne=s("label",null,"Colegio",-1),Ve={class:"flex justify-end"},Se={__name:"index",setup(qe){c("");const E=n=>{m.value=!0,l.id=n.id,l.nro_doc=n.nro_doc,l.primer_apellido=n.primer_apellido,l.segundo_apellido=n.segundo_apellido,l.apellido_casada=n.apellido_casada,l.nombres=n.nombres,l.sexo=n.sexo,l.fec_nacimiento=oe(n.fec_nacimiento),l.ubigeo_nacimiento=n.ubigeo_nacimiento,l.ubigeo_residencia=n.ubigeo_residencia,l.celular=n.celular,l.email=n.email,l.estado_civil=n.estado_civil,l.direccion=n.direccion,l.anio_egreso=n.anio_egreso,l.observaciones=n.observaciones,l.id_colegio=n.id_colegio},l=Q({nro_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),j=async()=>{let n=await F.post("save-postulante-admin",{id:l.id,nro_doc:l.nro_doc,primer_apellido:l.primer_apellido,segundo_apellido:l.segundo_apellido,apellido_casada:l.apellido_casada,nombres:l.nombres,sexo:l.sexo,fec_nacimiento:se(new Date(l.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:l.ubigeo_nacimiento,ubigeo_residencia:l.ubigeo_residencia,celular:l.celular,correo:l.email,estado_civil:l.estado_civil,direccion:l.direccion,egreso:l.anio_egreso,observaciones:l.observaciones,colegio:l.id_colegio});n.data.estado===!0&&z(n.data.tipo,n.data.titulo,n.data.mensaje)};W(()=>{});const b=c(""),x=c([]);c([]);const m=c(!1),y=c(1),q=c(null),B=c({id:null,codigo:"",nombre:""}),O=()=>{m.value=!0};k(b,(n,o)=>{C()}),k(m,(n,o)=>{m.value==!1&&B.value.id!=null&&(l.value=null)});const C=async()=>{let n=await F.post("get-postulantes-admin?page="+y.value,{term:b.value});x.value=n.data.datos.data,q.value=n.data.datos.total},S=[{title:"Ver",dataIndex:"ver_postulante"},{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],z=(n,o,_)=>{te[n]({message:o,description:_})};k(y,(n,o)=>{C()});const Y=async n=>{try{window.location.href="postulante-perfil/"+n}catch(o){console.error(o)}};return C(),(n,o)=>{const _=u("a-button"),r=u("a-input"),$=u("row"),h=u("a-divider"),R=u("a-popconfirm"),G=u("a-table"),H=u("a-pagination"),d=u("a-form-item"),i=u("a-col"),w=u("a-select-option"),D=u("a-select"),L=u("a-date-picker"),P=u("a-row"),T=u("a-form"),Z=u("a-card"),J=u("a-modal");return f(),I(N,null,[e(g(X),{title:"Postulantes"}),e(ne,null,{default:a(()=>[s("div",de,[e($,{class:"flex justify-between mb-4"},{default:a(()=>[s("div",ue,[e(_,{type:"primary",onClick:O})]),s("div",re,[e(r,{type:"text",placeholder:"Buscar",value:b.value,"onUpdate:value":o[0]||(o[0]=t=>b.value=t),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),s("div",_e,[e(g(ee))])])]),_:1}),e(G,{columns:S,"data-source":x.value,pagination:!1,size:"small"},{bodyCell:a(({column:t,index:K,record:v})=>[t.dataIndex==="ver_postulante"?(f(),A(_,{key:0,type:"true",onClick:M=>Y(v.nro_doc),size:"small",style:{height:"30px",display:"flex","align-items":"center"}},{default:a(()=>[e(g(le))]),_:2},1032,["onClick"])):U("",!0),t.dataIndex==="nombres"?(f(),I(N,{key:1},[p(V(v.nombres)+" "+V(v.primer_apellido)+" "+V(v.segundo_apellido),1)],64)):U("",!0),t.dataIndex==="acciones"?(f(),I(N,{key:2},[e(_,{type:"primary",onClick:M=>E(v),size:"small"},{icon:a(()=>[e(g(ie))]),_:2},1032,["onClick"]),e(h,{type:"vertical"}),x.value.length?(f(),A(R,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:M=>n.eliminar(x.value[K])},{default:a(()=>[e(_,{type:"danger",shape:"",size:"small"},{icon:a(()=>[e(g(ae))]),_:1})]),_:2},1032,["onConfirm"])):U("",!0)],64)):U("",!0)]),_:1},8,["data-source"]),e(H,{current:y.value,"onUpdate:current":o[1]||(o[1]=t=>y.value=t),total:q.value,"show-less-items":""},null,8,["current","total"])]),s("div",null,[e(J,{visible:m.value,"onUpdate:visible":o[19]||(o[19]=t=>m.value=t),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:a(()=>[e(P,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[e(Z,{title:"Formulario de Postulante",bordered:!1},{default:a(()=>[e(T,{model:l,rules:n.formRules},{default:a(()=>[e(P,{gutter:16},{default:a(()=>[e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ce,e(d,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:a(()=>[e(r,{value:l.nro_doc,"onUpdate:value":o[2]||(o[2]=t=>l.nro_doc=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[me,e(d,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:a(()=>[e(r,{value:l.primer_apellido,"onUpdate:value":o[3]||(o[3]=t=>l.primer_apellido=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[pe,e(d,null,{default:a(()=>[e(r,{value:l.segundo_apellido,"onUpdate:value":o[4]||(o[4]=t=>l.segundo_apellido=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ve,e(d,null,{default:a(()=>[e(r,{value:l.apellido_casada,"onUpdate:value":o[5]||(o[5]=t=>l.apellido_casada=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[fe,e(d,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:a(()=>[e(r,{value:l.nombres,"onUpdate:value":o[6]||(o[6]=t=>l.nombres=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ge,e(d,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:a(()=>[e(D,{value:l.sexo,"onUpdate:value":o[7]||(o[7]=t=>l.sexo=t)},{default:a(()=>[e(w,{value:"1"},{default:a(()=>[p("Masculino")]),_:1}),e(w,{value:"2"},{default:a(()=>[p("Femenino")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[be,e(d,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:a(()=>[e(L,{style:{width:"100%"},value:l.fec_nacimiento,"onUpdate:value":o[8]||(o[8]=t=>l.fec_nacimiento=t),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[xe,e(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:a(()=>[e(r,{value:l.ubigeo_nacimiento,"onUpdate:value":o[9]||(o[9]=t=>l.ubigeo_nacimiento=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ye,e(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:a(()=>[e(r,{value:l.ubigeo_residencia,"onUpdate:value":o[10]||(o[10]=t=>l.ubigeo_residencia=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[we,e(d,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:a(()=>[e(r,{value:l.celular,"onUpdate:value":o[11]||(o[11]=t=>l.celular=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ue,e(d,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:a(()=>[e(r,{value:l.email,"onUpdate:value":o[12]||(o[12]=t=>l.email=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ce,e(d,null,{default:a(()=>[e(D,{value:l.estado_civil,"onUpdate:value":o[13]||(o[13]=t=>l.estado_civil=t)},{default:a(()=>[e(w,{value:"1"},{default:a(()=>[p("Soltero")]),_:1}),e(w,{value:"2"},{default:a(()=>[p("Casado")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Pe,e(d,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:a(()=>[e(r,{value:l.direccion,"onUpdate:value":o[14]||(o[14]=t=>l.direccion=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(d,null,{default:a(()=>[ke,e(r,{value:l.anio_egreso,"onUpdate:value":o[15]||(o[15]=t=>l.anio_egreso=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ie,e(d,null,{default:a(()=>[e(r,{value:l.observaciones,"onUpdate:value":o[16]||(o[16]=t=>l.observaciones=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ne,e(d,null,{default:a(()=>[e(r,{value:l.id_colegio,"onUpdate:value":o[17]||(o[17]=t=>l.id_colegio=t)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(P,null,{default:a(()=>[e(i,null,{default:a(()=>[s("div",Ve,[e(_,{onClick:o[18]||(o[18]=t=>m.value=!1)},{default:a(()=>[p(" Cancelar ")]),_:1}),e(_,{type:"primary",onClick:j},{default:a(()=>[p("Guardar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{Se as default};
