import{r as I,J as ue,e as G,D as de,o as r,c as N,a as l,u as E,w as t,F as L,y as U,Z as ie,d as u,b as n,t as y,E as g,f as C,n as re,B as pe,I as me,N as ve,g as fe,R as Ie,T as _e,S as ge,j as Ae,k as Ne,l as Ee,U as Ce,p as xe,m as ye,q as be,V as Oe,W as Re,M as Se,_ as De,H as Ue,h as ke,i as we}from"./app-c2bfe6f4.js";import{_ as Me}from"./AuthenticatedLayout-42afc081.js";import{S as Te}from"./SearchOutlined-33f5533a.js";import{E as Ge}from"./EyeOutlined-ea805c0c.js";import{S as Le}from"./SaveOutlined-60fa8abc.js";import{F as ze}from"./FormOutlined-461236a8.js";import{D as Fe}from"./DeleteOutlined-aca3a363.js";import"./logotiny-c4b525af.js";import"./DropdownLink-639ba2f9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DownOutlined-9168fab9.js";import"./AntdIcon-2442795f.js";/* empty css                                                            */const Ve={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},je={class:"mr-3"},Be={class:"flex justify-between",style:{position:"relative"}},$e={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},qe={style:{width:"100%","margin-top":"-5px"}},He={style:{"font-weight":"bold","font-size":"1.2rem"}},Ye={class:"flex justify-end",style:{}},Pe={key:0},Ke={key:1},Je={class:"flex justify-end"},Qe={style:{"font-size":"1rem","font-weight":"bold"}},Ze={key:1,style:{"font-size":"0.95rem"}},pl={__name:"Docente",setup(We){const A=I(!1),z=I("1"),k=I([]),F=I(null),b=I(10),O=I(""),R=I(1),V=I(),o=ue({id:null,tipo_doc:1,nro_doc:"",codigo:"",nombres:"",paterno:"",materno:"",condicion:"",escuela:null,sexo:1,direccion:"",fec_nac:"",observacion:"",estado:!0}),j=d=>{o.nro_doc=d.target.value.replace(/\D/g,"")},H=async()=>{try{const d=await V.value.validateFields(),e=await U.post("save-docente",o);e.status===202?console.log(e.data.errors):(_(),w("success",e.data.titulo,e.data.mensaje),A.value=!1,S())}catch(d){console.error(d)}},_=async()=>{let d=await U.post("get-docentes?page="+R.value,{term:O.value,paginashoja:b.value});k.value=d.data.datos.data,F.value=d.data.datos.total},Y=d=>{U.post("eliminar-docente",{id:d.id}).then(e=>{_(),w("warning",e.data.titulo,e.data.mensaje)})};I({id:null,codigo:"",id_posulante:"",id_programa:"",id_modalidad:"",estado:!0,observacion:""});const P=(d,e)=>{let m={id_postulante:d,sexo:e};U.post("actualizar-sexo-docente",m).then(v=>{_(),S(),w("success",v.data.titulo,v.data.mensaje)})},w=(d,e,m)=>{re[d]({message:e,description:m})},K=()=>{S(),A.value=!0},J=()=>{A.value=!1,S()},B=d=>{o.id=d.id,o.tipo_doc=1,o.nro_doc=d.dni,o.codigo=d.codigo,o.nombres=d.nombres,o.paterno=d.paterno,o.materno=d.materno,o.condicion=d.condicion,o.escuela=d.escuela,o.sexo=parseInt(d.sexo),o.direccion=d.direccion,o.fec_nac=d.fec_nac,o.observacion=d.observacion,d.estado===1?o.estado=!0:o.estado=!1,A.value=!0},S=()=>{o.id=null,o.tipo_doc=1,o.nro_doc=null,o.codigo=null,o.nombres=null,o.paterno=null,o.materno=null,o.condicion=null,o.escuela=null,o.sexo=1,o.direccion=null,o.fec_nac=null,o.observacion=null,o.estado=!0};G(R,(d,e)=>{_()}),G(O,(d,e)=>{_()}),G(b,(d,e)=>{_()});const Q=[{title:"DNI",dataIndex:"dni",align:"center",width:"90px"},{title:"Codigo",dataIndex:"codigo"},{title:"Docente",dataIndex:"postulante"},{title:"Sexo",dataIndex:"sexo",align:"center"},{title:"Escuela",dataIndex:"escuela_name"},{title:"Condición",dataIndex:"tipo_empleo",align:"center"},{title:"Estado",dataIndex:"estado",align:"center"},{title:"Acciones",dataIndex:"acciones",width:"160px",align:"center"}];return _(),(d,e)=>{const m=pe,v=me,Z=de("row"),W=ve,$=fe,q=Ie,X=_e,a=ge,D=Ae,f=Ne,i=Ee,c=Ce,h=xe,M=ye,ee=be,le=Oe,te=Re,oe=Se,T=De,ne=Ue,ae=ke,se=we;return r(),N(L,null,[l(E(ie),{title:"Docentes"}),l(Me,null,{default:t(()=>[u("div",Ve,[l(Z,{class:"flex justify-between mb-4"},{default:t(()=>[u("div",je,[l(m,{style:{background:"#476175",color:"white"},onClick:K},{default:t(()=>e[20]||(e[20]=[n("Nuevo")])),_:1})]),u("div",Be,[l(v,{type:"text",placeholder:"Buscar",value:O.value,"onUpdate:value":e[0]||(e[0]=s=>O.value=s),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),u("div",$e,[l(E(Te))])])]),_:1}),l(oe,{visible:A.value,"onUpdate:visible":e[17]||(e[17]=s=>A.value=s),style:{"margin-top":"-40px",width:"100%",display:"flex","justify-content":"center"},footer:!1},{default:t(()=>[u("div",qe,[u("h1",He,y(o.id===null?"Nuevo docente":"Editar docente"),1)]),l(te,{activeKey:z.value,"onUpdate:activeKey":e[16]||(e[16]=s=>z.value=s),type:"card",size:"small"},{default:t(()=>[l(le,{key:"1",tab:"Datos del Docente"},{default:t(()=>[l(M,{style:{"max-width":"1000px",display:"flex","justify-content":"center"}},{default:t(()=>[l(i,{span:24},{default:t(()=>[l(ee,{ref_key:"formDatos",ref:V,name:"form",model:o,rules:d.formRules},{default:t(()=>[l(M,{gutter:16},{default:t(()=>[l(i,{xs:24,sm:12,md:24,lg:24},{default:t(()=>[u("div",Ye,[u("div",null,[e[21]||(e[21]=u("label",null,"Estado",-1)),u("div",null,[l(W,{checked:o.estado,"onUpdate:checked":e[1]||(e[1]=s=>o.estado=s)},null,8,["checked"])])]),l($,{type:"vertical",style:{height:"60px"}}),u("div",null,[e[24]||(e[24]=u("label",null,"Sexo",-1)),u("div",null,[l(X,{value:o.sexo,"onUpdate:value":e[2]||(e[2]=s=>o.sexo=s),name:"radioGroup"},{default:t(()=>[l(q,{value:1},{default:t(()=>e[22]||(e[22]=[n("M")])),_:1}),l(q,{value:2},{default:t(()=>e[23]||(e[23]=[n("F")])),_:1})]),_:1},8,["value"])])]),l($,{type:"vertical",style:{height:"60px"}}),u("div",null,[e[27]||(e[27]=u("label",null,"Tipo Doc",-1)),l(f,{name:"tipo_doc",rules:[{required:!0,message:"Escoja el tipo",trigger:"change"}]},{default:t(()=>[u("div",null,[l(D,{value:o.tipo_doc,"onUpdate:value":e[3]||(e[3]=s=>o.tipo_doc=s),style:{width:"120px"}},{default:t(()=>[l(a,{value:1},{default:t(()=>e[25]||(e[25]=[n("DNI")])),_:1}),l(a,{value:2},{default:t(()=>e[26]||(e[26]=[n("Carnet. Ext")])),_:1})]),_:1},8,["value"])])]),_:1})])])]),_:1}),l(i,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[o.tipo_doc===1?(r(),N("label",Pe,e[28]||(e[28]=[n("DNI "),u("span",{style:{color:"red"}},"*",-1)]))):(r(),N("label",Ke,"N° CARNET EXT.")),l(f,{name:"nro_doc",rules:[{required:!0,message:"Ingrese el N° de documento"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:t(()=>[o.tipo_doc===1?(r(),g(v,{key:0,value:o.nro_doc,"onUpdate:value":e[4]||(e[4]=s=>o.nro_doc=s),onInput:j,maxlength:8},null,8,["value"])):(r(),g(v,{key:1,value:o.nro_doc,"onUpdate:value":e[5]||(e[5]=s=>o.nro_doc=s),onInput:j,maxlength:12},null,8,["value"]))]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[e[29]||(e[29]=u("label",null,"Codigo",-1)),l(f,null,{default:t(()=>[l(v,{value:o.codigo,"onUpdate:value":e[6]||(e[6]=s=>o.codigo=s)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[e[30]||(e[30]=u("label",null,[n("Nombres "),u("span",{style:{color:"red"}},"*")],-1)),l(f,{name:"nombres",rules:[{required:!0,message:"Ingrese los nombres"}]},{default:t(()=>[l(v,{value:o.nombres,"onUpdate:value":e[7]||(e[7]=s=>o.nombres=s)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[e[31]||(e[31]=u("label",null,[n("Ap. Paterno "),u("span",{style:{color:"red"}},"*")],-1)),l(f,{name:"paterno",rules:[{required:!0,message:"Ingrese el primer apellido"}]},{default:t(()=>[l(v,{value:o.paterno,"onUpdate:value":e[8]||(e[8]=s=>o.paterno=s)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[e[32]||(e[32]=u("label",null,"Ap. Materno",-1)),l(f,null,{default:t(()=>[l(v,{value:o.materno,"onUpdate:value":e[9]||(e[9]=s=>o.materno=s)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:8},{default:t(()=>[e[38]||(e[38]=u("label",null,[n("Condición "),u("span",{style:{color:"red"}},"*")],-1)),l(f,{name:"condicion",rules:[{required:!0,message:"Ingrese la condición del docente"}]},{default:t(()=>[l(D,{value:o.condicion,"onUpdate:value":e[10]||(e[10]=s=>o.condicion=s),style:{width:"100%"}},{default:t(()=>[l(a,{value:1},{default:t(()=>e[33]||(e[33]=[n("NOMBRADO")])),_:1}),l(a,{value:2},{default:t(()=>e[34]||(e[34]=[n("CONTRATADO")])),_:1}),l(a,{value:3},{default:t(()=>e[35]||(e[35]=[n("CAS")])),_:1}),l(a,{value:4},{default:t(()=>e[36]||(e[36]=[n("LOCACIÓN")])),_:1}),l(a,{value:5},{default:t(()=>e[37]||(e[37]=[n("R. H.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[e[75]||(e[75]=u("label",null,[n("Escuela "),u("span",{style:{color:"red"}},"*")],-1)),l(f,{name:"escuela",rules:[{required:!0,message:"Seleccione la escuela"}]},{default:t(()=>[l(D,{value:o.escuela,"onUpdate:value":e[11]||(e[11]=s=>o.escuela=s),placeholder:"Seleccionar escuela"},{default:t(()=>[l(a,{value:1},{default:t(()=>e[39]||(e[39]=[n("INGENIERIA AGRONOMICA")])),_:1}),l(a,{value:2},{default:t(()=>e[40]||(e[40]=[n("INGENIERIA AGROINDUSTRIAL")])),_:1}),l(a,{value:3},{default:t(()=>e[41]||(e[41]=[n("INGENIERIA TOPOGRAFICA Y AGRIMENSURA")])),_:1}),l(a,{value:4},{default:t(()=>e[42]||(e[42]=[n("MEDICINA VETERINARIA Y ZOOTECNIA")])),_:1}),l(a,{value:5},{default:t(()=>e[43]||(e[43]=[n("INGENIERIA ECONOMICA")])),_:1}),l(a,{value:6},{default:t(()=>e[44]||(e[44]=[n("CIENCIAS CONTABLES")])),_:1}),l(a,{value:7},{default:t(()=>e[45]||(e[45]=[n("ADMINISTRACION")])),_:1}),l(a,{value:8},{default:t(()=>e[46]||(e[46]=[n("TRABAJO SOCIAL")])),_:1}),l(a,{value:9},{default:t(()=>e[47]||(e[47]=[n("ENFERMERIA")])),_:1}),l(a,{value:10},{default:t(()=>e[48]||(e[48]=[n("INGENIERIA DE MINAS")])),_:1}),l(a,{value:11},{default:t(()=>e[49]||(e[49]=[n("HUMANIDADES")])),_:1}),l(a,{value:12},{default:t(()=>e[50]||(e[50]=[n("SOCIOLOGIA")])),_:1}),l(a,{value:13},{default:t(()=>e[51]||(e[51]=[n("TURISMO")])),_:1}),l(a,{value:14},{default:t(()=>e[52]||(e[52]=[n("ANTROPOLOGIA")])),_:1}),l(a,{value:15},{default:t(()=>e[53]||(e[53]=[n("CIENCIAS DE LA COMUNICACION SOCIAL")])),_:1}),l(a,{value:16},{default:t(()=>e[54]||(e[54]=[n("ARTE")])),_:1}),l(a,{value:17},{default:t(()=>e[55]||(e[55]=[n("BIOLOGIA")])),_:1}),l(a,{value:18},{default:t(()=>e[56]||(e[56]=[n("EDUCACION SECUNDARIA")])),_:1}),l(a,{value:19},{default:t(()=>e[57]||(e[57]=[n("EDUCACION PRIMARIA")])),_:1}),l(a,{value:20},{default:t(()=>e[58]||(e[58]=[n("EDUCACION INICIAL")])),_:1}),l(a,{value:21},{default:t(()=>e[59]||(e[59]=[n("EDUCACION FISICA")])),_:1}),l(a,{value:22},{default:t(()=>e[60]||(e[60]=[n("INGENIERIA ESTADISTICA E INFORMATICA")])),_:1}),l(a,{value:23},{default:t(()=>e[61]||(e[61]=[n("DERECHO")])),_:1}),l(a,{value:24},{default:t(()=>e[62]||(e[62]=[n("INGENIERIA QUIMICA")])),_:1}),l(a,{value:25},{default:t(()=>e[63]||(e[63]=[n("ODONTOLOGIA")])),_:1}),l(a,{value:26},{default:t(()=>e[64]||(e[64]=[n("NUTRICION HUMANA")])),_:1}),l(a,{value:27},{default:t(()=>e[65]||(e[65]=[n("INGENIERIA GEOLOGICA")])),_:1}),l(a,{value:28},{default:t(()=>e[66]||(e[66]=[n("INGENIERIA METALURGICA")])),_:1}),l(a,{value:29},{default:t(()=>e[67]||(e[67]=[n("INGENIERIA CIVIL")])),_:1}),l(a,{value:30},{default:t(()=>e[68]||(e[68]=[n("ARQUITECTURA Y URBANISMO")])),_:1}),l(a,{value:31},{default:t(()=>e[69]||(e[69]=[n("CIENCIAS FISICO MATEMATICAS")])),_:1}),l(a,{value:32},{default:t(()=>e[70]||(e[70]=[n("INGENIERIA AGRICOLA")])),_:1}),l(a,{value:33},{default:t(()=>e[71]||(e[71]=[n("MEDICINA HUMANA")])),_:1}),l(a,{value:34},{default:t(()=>e[72]||(e[72]=[n("INGENIERIA MECANICA ELECTRICA")])),_:1}),l(a,{value:35},{default:t(()=>e[73]||(e[73]=[n("INGENIERIA ELECTRONICA")])),_:1}),l(a,{value:36},{default:t(()=>e[74]||(e[74]=[n("INGENIERIA DE SISTEMAS")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:16,lg:18},{default:t(()=>[e[76]||(e[76]=u("label",null,"Dirección",-1)),l(f,null,{default:t(()=>[l(v,{value:o.direccion,"onUpdate:value":e[12]||(e[12]=s=>o.direccion=s)},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:t(()=>[e[77]||(e[77]=u("label",null,"Fec. Nacimiento",-1)),l(f,null,{default:t(()=>[l(c,{style:{width:"100%"},placeholder:"Seleccionar fec. nacimiento",value:o.fec_nac,"onUpdate:value":e[13]||(e[13]=s=>o.fec_nac=s),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:24,lg:24},{default:t(()=>[e[78]||(e[78]=u("label",null,"Observaciones",-1)),l(f,null,{default:t(()=>[l(h,{value:o.observacion,"onUpdate:value":e[14]||(e[14]=s=>o.observacion=s)},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(M,null,{default:t(()=>[l(i,{span:24},{default:t(()=>[u("div",Je,[l(m,{class:"mr-4",onClick:e[15]||(e[15]=s=>J())},{default:t(()=>e[79]||(e[79]=[n(" Cancelar ")])),_:1}),l(m,{type:"primary",onClick:H},{default:t(()=>e[80]||(e[80]=[n("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["visible"]),l(ae,{columns:Q,"data-source":k.value,pagination:!1,size:"small"},{bodyCell:t(({column:s,index:Xe,record:p})=>[s.dataIndex==="dni"?(r(),g(T,{key:0,color:"#476175",style:{"padding-top":"3px"}},{default:t(()=>[u("span",Qe,y(p.dni),1)]),_:2},1024)):C("",!0),s.dataIndex==="postulante"?(r(),N("span",Ze,y(p.paterno)+" "+y(p.materno)+", "+y(p.nombres),1)):C("",!0),s.dataIndex==="sexo"?(r(),g(D,{key:2,ref:"select",value:p.sexo,"onUpdate:value":x=>p.sexo=x,placeholder:"Seleccionar",style:{width:"60px"}},{default:t(()=>[l(a,{value:"1"},{default:t(()=>e[81]||(e[81]=[u("span",{style:{color:"blue"}},"M",-1)])),_:1}),l(a,{value:"2"},{default:t(()=>e[82]||(e[82]=[u("span",{style:{color:"red"}},"F",-1)])),_:1})]),_:2},1032,["value","onUpdate:value"])):C("",!0),s.dataIndex==="estado"?(r(),N(L,{key:3},[p.estado===1?(r(),g(T,{key:0,color:"cyan"},{default:t(()=>e[83]||(e[83]=[n("Habilitado")])),_:1})):(r(),g(T,{key:1,color:"purple"},{default:t(()=>e[84]||(e[84]=[n("Desabilitado")])),_:1}))],64)):C("",!0),s.dataIndex==="acciones"?(r(),N(L,{key:4},[l(m,{class:"mr-1",onClick:x=>B(p),style:{color:"#006d89"},size:"small"},{icon:t(()=>[l(E(Ge))]),_:2},1032,["onClick"]),l(m,{type:"success",class:"mr-1",style:{color:"#409866"},onClick:x=>P(p.id,p.sexo),size:"small"},{icon:t(()=>[l(E(Le))]),_:2},1032,["onClick"]),l(m,{class:"mr-1",onClick:x=>B(p),style:{color:"blue"},size:"small"},{icon:t(()=>[l(E(ze))]),_:2},1032,["onClick"]),k.value.length?(r(),g(ne,{key:0,title:"¿Seguro de eliminar?","ok-text":"Si","cancel-text":"No",onConfirm:x=>Y(p)},{default:t(()=>[l(m,{shape:"",size:"small",style:{color:"crimson"}},{icon:t(()=>[l(E(Fe))]),_:1})]),_:2},1032,["onConfirm"])):C("",!0)],64)):C("",!0)]),_:1},8,["data-source"]),l(se,{current:R.value,"onUpdate:current":e[18]||(e[18]=s=>R.value=s),total:F.value,pageSize:b.value,"onUpdate:pageSize":e[19]||(e[19]=s=>b.value=s),"show-less-items":""},null,8,["current","total","pageSize"])])]),_:1})],64)}}};export{pl as default};
