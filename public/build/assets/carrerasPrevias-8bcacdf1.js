import{r as p,C as w,o as u,c as f,d as t,a as c,w as o,t as i,y as d,m as C,B as P,F as k,s as E,E as j,a0 as I,b as N,l as B}from"./app-0333044c.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";const D="/build/assets/Veterinaria-b66778be.png";const S={class:"flex justify-center"},V={style:{width:"100%",background:"#cdcdcdc","max-width":"1000px","margin-top":"20px"}},z=["onClick"],q={style:{display:"flex","justify-content":"space-between",width:"100%","align-items":"center"}},A={style:{width:"calc(100% - 50px)"}},F={style:{"font-size":".8rem","text-transform":"capitalize"}},R={__name:"carrerasPrevias",setup($){const s=p(null),l=p("76701665"),a=p([{codigo:"150570",career:"Ing. de Sistemas",cod_car:39},{codigo:"164098",career:"Enfermería",cod_car:23},{codigo:"202341",career:"Nutricion",cod_car:27}]),g=async()=>{s.value=null;const e=await d.get("/get-data-prisma/"+l.value);e.estado===!0&&(s.value=e.data.datos),y()},y=async()=>{if(console.log(l.value),s.value!=null){const e=await d.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:s.value.dni,nom_:s.value.nombre,app_:s.value.paterno,apm_:s.value.materno},{headers:{"Content-Type":"application/json"}});a.value=e.data}else{const e=await d.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:l.value,nom_:"DIRECCIÓN",app_:"ADMISIÓN",apm_:"UNAP"},{headers:{"Content-Type":"application/json"}});a.value=e.data}};g();const x=async()=>{d.post("/registrar-carreras-previas",{carreras:_.value,dni:l.value}).then(e=>{confirmarcion.value=e.data.estado}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},h=e=>{e.selected=!e.selected},_=w(()=>{if(a.value)return a.value.filter(e=>e.selected)});return(e,r)=>{const v=B,m=C,b=P;return u(),f("div",S,[t("div",V,[c(m,{style:{display:"flex","justify-content":"center"},class:"pb-0"},{default:o(()=>[c(v,{span:24},{default:o(()=>[c(m,{gutter:16,style:{display:"fleX","justify-content":"center"}},{default:o(()=>[(u(!0),f(k,null,E(a.value,n=>(u(),j(v,{key:n,xs:24,sm:24,md:24,lg:24,style:{"margin-bottom":"10px"}},{default:o(()=>[t("div",{onClick:L=>h(n),class:I([{selected:n.selected},"flex p-4"]),style:{height:"80px","border-radius":"5px",cursor:"pointer",border:"solid 1px #d9d9d9","align-items":"center"}},[t("div",q,[t("div",A,[t("span",F,i(n.career),1)]),r[1]||(r[1]=t("div",{class:"flex justify-center",style:{width:"50px",height:"60px","align-items":"center"}},[t("img",{src:D,width:"50px"})],-1))])],10,z)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t("div",null,[t("pre",null," "+i(s.value)+" ",1)]),t("p",null,"Elementos seleccionados: "+i(_.value),1),t("div",null,[t("pre",null," "+i(a.value)+" ",1)]),t("div",null,[c(b,{onClick:r[0]||(r[0]=n=>x())},{default:o(()=>r[2]||(r[2]=[N("Registrar")])),_:1})])])])}}},X=T(R,[["__scopeId","data-v-59b86e6f"]]);export{X as default};
