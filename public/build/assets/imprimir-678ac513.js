import{r as v,e as V,c as f,a as e,u as E,w as t,F as P,j as g,o as m,X as oe,d as l,t as I,Q as B,k as se,x as ne,b as h,R as ie,f as b,n as de,g as r,p as ue,h as re,s as ce}from"./app-15263401.js";import{A as pe}from"./LayoutDocente-63d686a6.js";import _e from"./voucher-6ebfb884.js";import me from"./anteriores-2612972c.js";import{_ as ve}from"./_plugin-vue_export-helper-c27b6911.js";import{f as fe}from"./index-3dc35923.js";import{C as ge}from"./CreditCardOutlined-64cb621d.js";import"./DropdownLink-a5b51994.js";import"./logotiny-c4b525af.js";const i=U=>(ue("data-v-2ad2b68f"),U=U(),re(),U),he=i(()=>l("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),be={style:{height:"34px"}},ye={style:{"font-weight":"700",color:"black","font-size":".7rem"}},xe={style:{"margin-top":"-10px"}},we={style:{"font-size":".8rem","text-transform":"uppercase"}},ke={style:{height:"40px","margin-left":"-10px"}},Se={style:{"font-weight":"bold"}},je={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},De=i(()=>l("div",{class:"flex mb-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos personales")],-1)),Ue={key:0},Ce=i(()=>l("label",null,"Primer Apellido",-1)),Ee=i(()=>l("label",null,"Segundo Apellido",-1)),Ie={class:"flex"},qe={style:{width:"calc(100% - 100px)"}},ze=i(()=>l("label",null,"Prenombres",-1)),Pe={class:"ml-3",style:{width:"100px"}},Fe=i(()=>l("label",null,"Puesto",-1)),Ne=i(()=>l("label",null,"Tipo documento",-1)),Ae=i(()=>l("label",null,"Sexo",-1)),Me=i(()=>l("label",null,"Fecha de nacimiento",-1)),Ve={class:"mb-3"},Be=["src"],Ke=i(()=>l("div",{class:"flex justify-center"}," H. Der.",-1)),Re=["src"],Te=i(()=>l("div",{class:"flex justify-center"}," H. Izq.",-1)),Oe=["src"],Le={class:"flex justify-end mb-0"},Ye=i(()=>l("span",{style:{"font-weight":"bold"}}," Actualizar Datos ",-1)),$e={class:"flex justify-center",style:{"margin-top":"-15px"}},He={style:{padding:"0px 2px","font-size":"2.6rem","margin-top":"2px","font-weight":"bold"}},We=i(()=>l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso anterior",-1)),Ge=[We],Je={key:1},Qe=i(()=>l("div",{class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},[l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Datos de ingreso")],-1)),Xe=i(()=>l("label",null,"Proceso",-1)),Ze=i(()=>l("label",null,"Modalidad",-1)),et=i(()=>l("label",null,"Programa",-1)),tt=i(()=>l("label",null,"Puntaje",-1)),at=i(()=>l("label",null,"Fecha ingreso",-1)),lt={key:2,class:"flex mb-3 mt-3",style:{"align-items":"center","justify-content":"center",width:"100%",height:"40px",background:"#cdcdcd4F","border-radius":"7px"}},ot=i(()=>l("span",{style:{"font-weight":"bold","font-size":"1.2rem"}},"Segunda Carrera",-1)),st=[ot],nt=i(()=>l("div",{style:{"text-align":"center"}},null,-1)),it={class:"mb-2"},dt={class:"",style:{width:"100%",height:"380px"}},ut={key:0},rt={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},ct={key:0},pt=["src"],_t={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},mt={key:0},vt=["src"],ft=i(()=>l("div",null,null,-1)),gt={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},ht={__name:"imprimir",setup(U){const q=window.location.origin,k=v(null),d=v(null),F=v([]),_=v([]),K=v(),y=v(0),R=()=>{K.value=Math.floor(Math.random()*100)+1},C=v([]);v(!0);const N=v([]),T=async()=>{let o=await g.get("get-requisitos");N.value=o.data.datos},O=v(null),a=v({id:null,nro_doc:"",tipo_doc:null,nombres:null,sexo:null,fec_nacimiento:null,primer_apellido:"",segundo_apellido:"",proceso:"",modalidad:"",puntaje:"",programa:"",fecha:"",puesto:""}),L=async()=>{a.value=null,_.value=null;let o=await g.get("get-ingresante-general/"+k.value);a.value.id=o.data.datos.id,a.value.nro_doc=o.data.datos.nro_doc,a.value.tipo_doc=o.data.datos.tipo_doc,a.value.sexo=o.data.datos.sexo,o.data.datos.fec_nacimiento&&(a.value.fec_nacimiento=ce(o.data.datos.fec_nacimiento)),a.value.nombres=o.data.datos.nombres,a.value.primer_apellido=o.data.datos.primer_apellido,a.value.segundo_apellido=o.data.datos.segundo_apellido,a.value.proceso=o.data.datos.proceso,a.value.modalidad=o.data.datos.modalidad,a.value.puntaje=o.data.datos.puntaje,a.value.programa=o.data.datos.programa,a.value.puesto=o.data.datos.puesto,o.data.datos.fecha&&(a.value.fecha=o.data.datos.fecha),A()},Y=async()=>{let o=await g.post("actualizar-ingresante",{id:a.value.id,tipo_doc:a.value.tipo_doc,sexo:a.value.sexo,fec_nacimiento:fe(new Date(a.value.fec_nacimiento),"yyyy-MM-dd"),nombres:a.value.nombres,paterno:a.value.primer_apellido,materno:a.value.segundo_apellido});Q(o.data.tipo,o.data.titulo,o.data.mensaje),W()},$=async(o="",s=1)=>{let c=await g.post("get-postulantes?page="+s,{term:k.value});F.value=c.data.datos.data},H=async()=>{C.value=[];let o=await g.post("get-postulante-requisitos",{dni:d.value});o.data.estado===!0&&(C.value=JSON.parse(o.data.datos.requisitos))},W=async()=>{R();let o=await g.post("get-postulante-dni",{dni:d.value});postulante.value.id=o.data.datos.id_postulante,postulante.value.dni_temp=o.data.datos.dni};V(k,(o,s)=>{o.length>=8&&$()}),V(d,(o,s)=>{H(),o.length>=8&&(L(),A())});const G=async()=>{let o=await g.post("control-biometrico",{dni:d.value,n_carrera:y.value});d.value=null,_.value=[],y.value=0,J(o.data.datos)},J=o=>{var s=document.createElement("iframe");s.style.display="none",s.src=q+"/documentos/control-biometrico-general/"+o+".pdf",document.body.appendChild(s),s.contentWindow.focus(),s.contentWindow.print()},A=async()=>{_.value=null;try{if(a.value.dni!=null){const o=await g.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:a.value.nro_doc,nom_:a.value.nombres,app_:a.value.primer_apellido,apm_:a.value.segundo_apellido},{headers:{"Content-Type":"application/json"}});_.value=o.data,_.value[0]&&(y.value=1)}else{const o=await g.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:d.value,nom_:"SDSFASD",app_:"SDSFASD",apm_:"SDSFASD"},{headers:{"Content-Type":"application/json"}});_.value=o.data,_.value[0]&&(y.value=1)}}catch(o){console.error("Error:",o)}};T();const Q=(o,s,c)=>{de[o]({message:s,description:c})};return(o,s)=>{const c=r("a-input"),X=r("a-auto-complete"),u=r("a-col"),x=r("a-row"),Z=r("a-checkbox"),ee=r("a-checkbox-group"),p=r("a-form-item"),w=r("a-select-option"),z=r("a-select"),te=r("a-date-picker"),M=r("a-button"),S=r("a-card"),ae=r("a-label"),j=r("a-tab-pane"),le=r("a-tabs");return m(),f(P,null,[e(E(oe),{title:"Revisión de documentos"}),e(pe,null,{default:t(()=>[l("div",null,[e(S,{style:{background:"white"},class:"mb-0 p-0"},{default:t(()=>[e(x,{gutter:16,class:"mb-3"},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:t(()=>[l("div",null,[he,e(X,{value:d.value,"onUpdate:value":s[1]||(s[1]=n=>d.value=n),options:F.value,style:{width:"300px"},onSelect:o.onSelect,onSearch:o.onSearch},{suffix:t(()=>[e(E(ge))]),option:t(({value:n,label:D})=>[l("div",be,[l("div",null,[l("span",ye,I(n),1)]),l("div",xe,[l("span",we,I(D),1)])])]),default:t(()=>[e(c,{ref_key:"dniInput",ref:O,placeholder:"Buscar",value:k.value,"onUpdate:value":s[0]||(s[0]=n=>k.value=n),onKeypress:o.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24},{default:t(()=>[l("div",ke,[e(ee,{value:C.value,"onUpdate:value":s[2]||(s[2]=n=>C.value=n)},{default:t(()=>[(m(!0),f(P,null,B(N.value,(n,D)=>(m(),se(Z,{key:n.value,value:n.value,class:ne([{"first-item":D===0},"checkbox-item"])},{default:t(()=>[l("span",Se,I(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1})]),_:1}),e(x,{gutter:16},{default:t(()=>[e(u,{span:24,sm:24,md:24,lg:24,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:t(()=>[l("div",je,[e(le,{activeKey:o.activeKey,"onUpdate:activeKey":s[17]||(s[17]=n=>o.activeKey=n),type:"card",style:{}},{default:t(()=>[e(j,{key:"7",tab:"Datos",class:"pl-2 pr-2"},{default:t(()=>[De,a.value?(m(),f("div",Ue,[e(S,null,{default:t(()=>[e(x,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ce,e(c,{value:a.value.primer_apellido,"onUpdate:value":s[3]||(s[3]=n=>a.value.primer_apellido=n)},null,8,["value"])]),_:1}),e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ee,e(c,{value:a.value.segundo_apellido,"onUpdate:value":s[4]||(s[4]=n=>a.value.segundo_apellido=n)},null,8,["value"])]),_:1}),e(p,null,{default:t(()=>[l("div",Ie,[l("div",qe,[ze,e(c,{value:a.value.nombres,"onUpdate:value":s[5]||(s[5]=n=>a.value.nombres=n)},null,8,["value"])]),l("div",Pe,[Fe,e(c,{value:a.value.puesto,"onUpdate:value":s[6]||(s[6]=n=>a.value.puesto=n)},null,8,["value"])])])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ne,l("div",null,[e(z,{ref:"tipodocumento",value:a.value.tipo_doc,"onUpdate:value":s[7]||(s[7]=n=>a.value.tipo_doc=n),style:{width:"100%"}},{default:t(()=>[e(w,{value:1},{default:t(()=>[h("DNI")]),_:1}),e(w,{value:2},{default:t(()=>[h("Carné Ext.")]),_:1})]),_:1},8,["value"])])]),_:1}),e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ae,l("div",null,[e(z,{ref:"sexoigresante",value:a.value.sexo,"onUpdate:value":s[8]||(s[8]=n=>a.value.sexo=n),style:{width:"100%"}},{default:t(()=>[e(w,{value:"1"},{default:t(()=>[h("MASCULINO")]),_:1}),e(w,{value:"2"},{default:t(()=>[h("FEMENINO")]),_:1})]),_:1},8,["value"])])]),_:1}),e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Me,e(te,{placeholder:"Selecciona tu fecha de nacimiento",style:{width:"100%"},value:a.value.fec_nacimiento,"onUpdate:value":s[9]||(s[9]=n=>a.value.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:12,lg:2,xl:2},{default:t(()=>[l("div",Ve,[l("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+a.value.nro_doc+"x.jpg",height:"80"},null,8,Be),Ke]),l("div",null,[l("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/huella/"+a.value.nro_doc+".jpg",height:"80"},null,8,Re),Te])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:5},{default:t(()=>[l("img",{src:"https://inscripciones.admision.unap.edu.pe/fotos/inscripcion/"+a.value.nro_doc+".jpg",width:"250"},null,8,Oe)]),_:1}),e(u,{xs:24,sm:12,md:12,lg:5,xl:17},{default:t(()=>[l("div",Le,[e(M,{class:"btn-actualizar",onClick:s[10]||(s[10]=n=>Y())},{default:t(()=>[Ye]),_:1})])]),_:1}),e(u,{xs:24,sm:12,md:12,lg:8,xl:7},{default:t(()=>[l("div",$e,[l("span",He,"DNI "+I(a.value.nro_doc),1)])]),_:1})]),_:1})]),_:1}),_.value[0]?(m(),f("div",{key:0,class:"flex mb-3 mt-3",style:ie(_.value[0]?"align-items:center; justify-content: center; width: 100%; height: 40px; background: red; border-radius: 7px;":"align-items:center; justify-content: center; width: 100%; height: 40px; background: #cdcdcd4F; border-radius: 7px;")},Ge,4)):b("",!0),_.value[0]?(m(),f("div",Je,[e(S,null,{default:t(()=>[(m(!0),f(P,null,B(_.value,(n,D)=>(m(),f("div",{key:D},[e(me,{item:n},null,8,["item"])]))),128))]),_:1})])):b("",!0),Qe,e(S,null,{default:t(()=>[e(x,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Xe,e(c,{value:a.value.proceso,"onUpdate:value":s[11]||(s[11]=n=>a.value.proceso=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[Ze,e(c,{value:a.value.modalidad,"onUpdate:value":s[12]||(s[12]=n=>a.value.modalidad=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[et,e(c,{value:a.value.programa,"onUpdate:value":s[13]||(s[13]=n=>a.value.programa=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[tt,e(c,{value:a.value.puntaje,"onUpdate:value":s[14]||(s[14]=n=>a.value.puntaje=n)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:12,xl:12},{default:t(()=>[e(p,{rules:[{required:!0,message:"El nombre es obligatorio"}]},{default:t(()=>[at,e(c,{value:a.value.fecha,"onUpdate:value":s[15]||(s[15]=n=>a.value.fecha=n)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),_.value[0]?(m(),f("div",lt,st)):b("",!0),e(S,{class:"mb-3",style:{"margin-bottom":"10px"}},{default:t(()=>[e(x,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(p,null,{default:t(()=>[nt]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[e(p,null,{default:t(()=>[l("div",it,[e(ae,null,{default:t(()=>[h("SEGUNDA CARRERA")]),_:1}),e(z,{ref:"select",value:y.value,"onUpdate:value":s[16]||(s[16]=n=>y.value=n),style:{width:"100%"}},{default:t(()=>[e(w,{value:1},{default:t(()=>[h("SI")]),_:1}),e(w,{value:0},{default:t(()=>[h("NO")]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1})]),_:1})]),_:1})])):b("",!0)]),_:1}),e(j,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:t(()=>[l("div",dt,[d.value!==null&&d.value.length===8?(m(),f("div",ut,[e(_e,{dni:d.value},null,8,["dni"])])):b("",!0)])]),_:1}),e(j,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:t(()=>[l("div",null,[l("div",rt,[d.value!==null&&d.value.length===8?(m(),f("div",ct,[l("iframe",{src:E(q)+"/documentos/general2023-II/"+d.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,pt)])):b("",!0)])])]),_:1}),e(j,{key:"4",tab:"Ex vocacional"},{default:t(()=>[l("div",null,[l("div",_t,[d.value!==null&&d.value.length===8?(m(),f("div",mt,[l("iframe",{src:E(q)+"/documentos/cepre2023-II/"+d.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,vt)])):b("",!0)])])]),_:1}),e(j,{key:"6",tab:"D. Biométricos"},{default:t(()=>[ft]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),l("div",gt,[e(M,{type:"primary",onClick:s[18]||(s[18]=n=>G())},{default:t(()=>[h("Imprimir")]),_:1})])]),_:1})])]),_:1})],64)}}},Ct=ve(ht,[["__scopeId","data-v-2ad2b68f"]]);export{Ct as default};
