import{r as f,J as Z,e as F,D as U,o as d,c as p,a as t,u as I,w as n,F as H,y as h,Z as K,d as a,b as i,t as _,f as u,E as z,n as Q,B as W,I as X,_ as Y,h as ee,i as te,k as ne,l as oe,p as ae,m as le,q as se,M as ie}from"./app-3f26fd52.js";import{_ as re}from"./LayoutDirector-2869a725.js";import{S as de}from"./SearchOutlined-e7834872.js";import{E as ue}from"./EyeOutlined-17034c94.js";import{F as pe}from"./FormOutlined-2fdd7fb5.js";import{D as me}from"./DeleteOutlined-4412bcca.js";import"./logotiny-c4b525af.js";import"./Header-4e16a768.js";import"./AntdIcon-6d3e8f3a.js";import"./DropdownLink-2bc24d5d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./DownOutlined-c3d8812d.js";const _e={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},ve={class:"mr-3"},fe={class:"flex justify-between",style:{position:"relative"}},ge={style:{}},ce={key:0},xe={style:{"font-size":".9rem"}},ye={key:1},be={style:{"font-size":".9rem"}},ke={key:2},Ie={style:{"font-size":".9rem"}},we={key:3},Ce={style:{"font-size":".9rem"}},Fe={key:4,class:"flex",style:{"justify-content":"center"}},he={key:5,class:"flex",style:{"justify-content":"center"}},ze={key:0},Oe={key:1},Ne={key:6,class:"flex justify-center",style:{}},De={class:"mr-1"},Ve={class:"mr-1"},Ee={class:""},Me={class:"flex",style:{"justify-content":"flex-end"}},He={__name:"index",setup(Ue){const w=f(""),C=f(1),O=f(null),x=f(!1),A=f(""),N=f([]),D=f(),o=Z({id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null}),B=()=>{x.value=!0,o.id=null,o.dni=null,o.nombres=null,o.paterno=null,o.materno=null,o.motivo=null,o.id_proceso=null};F(w,(s,e)=>{y()}),F(A,(s,e)=>{getDepartamentos()}),F(C,(s,e)=>{y()});const V=s=>{x.value=!0,o.id=s.id,o.dni=s.dni,o.nombres=s.nombres,o.paterno=s.paterno,o.materno=s.materno,o.motivo=s.motivo,o.observacion=s.observacion},y=async(s="")=>{let e=await h.post("/segundas/get-observados-segundas?page="+C.value,{term:w.value});N.value=e.data.datos.data,O.value=e.data.datos.total},S=async()=>{await D.value.validateFields(),h.post("save-observado-segundas",o).then(s=>{y(),o.value={id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null},E(s.data.tipo,s.data.titulo,""),o.id=null,o.dni=null,o.nombres=null,o.paterno=null,o.materno=null,o.motivo=null,o.id_proceso=null,x.value=!1})},j=s=>{h.get("eliminar-programa/"+s.id).then(e=>{y(),E("warning","PROGRAMA ELIMINADO",e.data.mensaje)})},q=[{title:"Cod",dataIndex:"dni",width:"100px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombres"},{title:"Motivo",dataIndex:"motivo",align:"center",responsive:["md"]},{title:"Proceso",dataIndex:"id_proceso",align:"center",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"100px",align:"center"}],E=(s,e,v)=>{Q[s]({message:e,description:v})};return y(),(s,e)=>{const v=W,g=X,P=U("row"),b=Y,$=ee,G=te,k=U("user-outlined"),m=ne,c=oe,R=ae,L=le,J=se,T=ie;return d(),p(H,null,[t(I(K),{title:"Observados"}),t(re,null,{default:n(()=>[a("div",_e,[t(P,{class:"flex justify-between mb-4"},{default:n(()=>[a("div",ve,[t(v,{type:"primary",style:{"border-radius":"5px",background:"#476175",border:"none"},onClick:B},{default:n(()=>e[10]||(e[10]=[i("Agregar")])),_:1})]),a("div",fe,[t(g,{type:"text",placeholder:"Buscar",value:w.value,"onUpdate:value":e[0]||(e[0]=l=>w.value=l),style:{"max-width":"300px","padding-left":"10px"}},{prefix:n(()=>[t(I(de))]),_:1},8,["value"])])]),_:1}),a("div",ge,[t($,{columns:q,"data-source":N.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:n(({column:l,index:Ae,record:r})=>[l.dataIndex==="dni"?(d(),p("div",ce,[a("span",xe,_(r.dni),1)])):u("",!0),l.dataIndex==="nombres"?(d(),p("div",ye,[a("span",be,_(r.paterno)+" "+_(r.materno)+" "+_(r.nombres),1)])):u("",!0),l.dataIndex==="motivo"?(d(),p("div",ke,[a("span",Ie,_(r.motivo),1)])):u("",!0),l.dataIndex==="id_proceso"?(d(),p("div",we,[a("span",Ce,_(r.nombre_proceso),1)])):u("",!0),l.dataIndex==="area"?(d(),p("div",Fe,[r.area=="BIOMÉDICAS"?(d(),z(b,{key:0,style:{"font-size":".8rem"},color:"cyan"},{default:n(()=>[i(_(r.area),1)]),_:2},1024)):u("",!0),r.area=="SOCIALES"?(d(),z(b,{key:1,style:{"font-size":".8rem"},color:"purple"},{default:n(()=>[i(_(r.area),1)]),_:2},1024)):u("",!0),r.area=="INGENIERÍAS"?(d(),z(b,{key:2,style:{"font-size":".8rem"},color:"blue"},{default:n(()=>[i(_(r.area),1)]),_:2},1024)):u("",!0)])):u("",!0),l.dataIndex==="estado"?(d(),p("div",he,[r.estado==1?(d(),p("div",ze,[t(b,{color:"green"},{default:n(()=>e[11]||(e[11]=[i("Si")])),_:1})])):u("",!0),r.estado==0?(d(),p("div",Oe,[t(b,{color:"red"},{default:n(()=>e[12]||(e[12]=[i("No")])),_:1})])):u("",!0)])):u("",!0),l.dataIndex==="acciones"?(d(),p("div",Ne,[a("div",De,[t(v,{type:"true",onClick:M=>V(r),size:"small",style:{background:"#f3f3f3",height:"30px",border:"solid 1px #d9d9d9",color:"gray",display:"flex","align-items":"center"}},{default:n(()=>[t(I(ue))]),_:2},1032,["onClick"])]),a("div",Ve,[t(v,{type:"true",onClick:M=>V(r),size:"small",style:{background:"#f3f3f3",height:"30px",border:"solid 1px #d9d9d9",color:"blue",display:"flex","align-items":"center"}},{default:n(()=>[t(I(pe))]),_:2},1032,["onClick"])]),a("div",Ee,[t(v,{type:"true",onClick:M=>j(r),size:"small",style:{background:"#f3f3f3",height:"30px",color:"crimson",border:"solid 1px #d9d9d9",display:"flex","align-items":"center"}},{default:n(()=>[t(I(me))]),_:2},1032,["onClick"])])])):u("",!0)]),_:1},8,["data-source"])]),a("div",Me,[t(G,{current:C.value,"onUpdate:current":e[1]||(e[1]=l=>C.value=l),simple:"","page-size":"50",total:O.value},null,8,["current","total"])])]),a("div",null,[t(T,{open:x.value,"onUpdate:open":e[9]||(e[9]=l=>x.value=l),style:{"margin-top":"-40px"}},{footer:n(()=>[t(v,{style:{"margin-left":"10px"},onClick:s.resetForm},{default:n(()=>e[20]||(e[20]=[i("Cancelar")])),_:1},8,["onClick"]),t(v,{type:"primary",onClick:e[8]||(e[8]=l=>S())},{default:n(()=>e[21]||(e[21]=[i("Guardar")])),_:1})]),default:n(()=>[t(J,{ref_key:"formObservados",ref:D,model:o,name:"observado",onFinish:s.onFinish,onFinishFailed:s.onFinishFailed},{default:n(()=>[a("div",null,[e[19]||(e[19]=a("div",{style:{"margin-bottom":"16px","margin-top":"0px"}},[a("h1",{style:{"font-size":"1.2rem"}},"Observados")],-1)),t(L,{gutter:[16,0]},{default:n(()=>[t(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[t(m,null,{default:n(()=>[e[13]||(e[13]=a("div",null,[a("label",null,[i("DNI ("),a("span",{style:{color:"red"}},"*"),i(")")])],-1)),t(m,{name:"dni",rules:[{required:!0,message:"Ingresa el DNI",trigger:"change"}]},{default:n(()=>[t(g,{value:o.dni,"onUpdate:value":e[2]||(e[2]=l=>o.dni=l)},{prefix:n(()=>[t(k)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[t(m,null,{default:n(()=>[e[14]||(e[14]=a("div",null,[a("label",null,[i("Nombres ("),a("span",{style:{color:"red"}},"*"),i(")")])],-1)),t(m,{name:"nombres",rules:[{required:!0,message:"Ingresa los nombres",trigger:"change"}]},{default:n(()=>[t(g,{value:o.nombres,"onUpdate:value":e[3]||(e[3]=l=>o.nombres=l)},{prefix:n(()=>[t(k)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[t(m,null,{default:n(()=>[e[15]||(e[15]=a("div",null,[a("label",null,[i("Paterno ("),a("span",{style:{color:"red"}},"*"),i(")")])],-1)),t(m,{name:"paterno",rules:[{required:!0,message:"Ingresa el apellido paterno",trigger:"change"}]},{default:n(()=>[t(g,{value:o.paterno,"onUpdate:value":e[4]||(e[4]=l=>o.paterno=l)},{prefix:n(()=>[t(k)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(c,{span:24,md:12,lg:12,xl:12,xxl:12},{default:n(()=>[t(m,{name:"materno",rules:[{required:!0,message:"Ingresa el apellido materno",trigger:"change"}]},{default:n(()=>[e[16]||(e[16]=a("div",null,[a("label",null,[i("Materno ("),a("span",{style:{color:"red"}},"*"),i(")")])],-1)),t(g,{value:o.materno,"onUpdate:value":e[5]||(e[5]=l=>o.materno=l)},{prefix:n(()=>[t(k)]),_:1},8,["value"])]),_:1})]),_:1}),t(c,{span:24,md:24,lg:24,xl:24,xxl:24},{default:n(()=>[t(m,{name:"motivo",rules:[{required:!0,message:"Ingresa un motivo",trigger:"change"}]},{default:n(()=>[e[17]||(e[17]=a("div",null,[a("label",null,[i("Motivo ("),a("span",{style:{color:"red"}},"*"),i(")")])],-1)),t(g,{value:o.motivo,"onUpdate:value":e[6]||(e[6]=l=>o.motivo=l)},{prefix:n(()=>[t(k)]),_:1},8,["value"])]),_:1})]),_:1}),t(c,{span:24,md:24,lg:24,xl:24,xxl:24},{default:n(()=>[t(m,{name:"observacion"},{default:n(()=>[e[18]||(e[18]=a("div",null,[a("label",null,"Observación:")],-1)),t(R,{value:o.observacion,"onUpdate:value":e[7]||(e[7]=l=>o.observacion=l)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1},8,["open"])])]),_:1})],64)}}};export{He as default};
