import{L as M}from"./LayoutExVocacional-8fc5d290.js";import{r as i,e as S,a1 as D,o as r,E as I,w as o,c as v,a as s,d as t,b as k,f as g,t as b,F as R,s as X,I as $,k as P,B as Z,O as W,aR as q,T as G,U as H}from"./app-d9176214.js";import"./logotiny-c4b525af.js";import"./logoDAD-c76d0a0b.js";import"./_plugin-vue_export-helper-c27b6911.js";const J={key:0,style:{margin:"auto","min-height":"calc(100vh - 160px)",display:"flex","justify-content":"center","align-items":"center"}},K={style:{display:"flex","justify-content":"center","margin-top":"20px"}},Q={key:1,class:"flex align-center justify-center"},Y={key:0,class:"align-center justify-center mt-7",style:{background:"#00000008","border-radius":"8px",padding:"20px"}},ee={class:"mb-3"},te={key:0,class:"pl-6 pr-6 pt-4 pb-4",style:{"border-radius":"5px",color:"white","font-size":"1.2rem","box-shadow":"1px 2px 2px 1px #a3a1a143",background:"navy","max-width":"800px"}},ae={class:"mt-4 p-3",style:{"border-radius":"5px",background:"white",color:"gray","font-size":"1rem",border:"#a3a1a143 1px solid","max-width":"800px"}},le={style:{"font-size":"1.4rem"}},oe={class:"mt-4 p-3",style:{"border-radius":"5px",background:"white",color:"gray","font-size":"1rem",border:"#a3a1a143 1px solid","max-width":"800px"}},se={style:{"font-size":"1.4rem"}},ne={class:"flex justify-between mt-4"},ie={style:{"font-size":"1.2rem"}},re={key:2,style:{display:"flex","justify-content":"center"}},ue={class:"flex justify-center mt-4 mb-3"},de={key:3,style:{display:"flex","justify-content":"center","align-items":"center",height:"calc(100vh - 150px)"}},ve={class:"flex justify-center mt-4 mb-3"},ge={__name:"exvocacional2",setup(pe){i(!0);const A=()=>{c.value=[],y.value=null,_.value=null,p.value=[],h.value=[],m.value=0},p=i([]),n=i(0),h=i([]),u=i([]),y=i(""),_=i(""),c=i(null),m=i(0),O=async()=>{let a=await axios.post("get-datos-examen2",{dni:y.value,codigo:_.value});c.value=a.data.datos,a.data.estado==!0?a.data.datos&&(m.value=1,d.value=60,U()):m.value=2},f=i(!1),U=async()=>{let a=await axios.post("get-preguntas2",{postulante:c.value[0].id,codigo:_.value});p.value=a.data.datos,n.value===0&&N(0)},N=async a=>{if(p!=[]){f.value=!0;let e=await axios.post("get-alternativas2",{id_pregunta:p.value[a].id_pregunta});h.value=e.data.datos,d.value=60,E(),f.value=!1}};S(n,(a,e)=>{N(a)}),i(!1);const d=i(60),E=()=>{const a=setInterval(()=>{d.value<=0?clearInterval(a):d.value--},2600+n.value*1e3)},T=async(a,e)=>{if(e){f.value=!0;let x=await axios.post("save-respuesta",{dni:y.value,id_vocacional:c.value[0].id_vocacional,pregunta:a,postulante:c.value[0].id,respuesta:e.id,nro:n.value+1});n.value=x.data.nro,f.value=!1,u.value=[],d.value=60}else{f.value=!0;let x=await axios.post("save-respuesta",{dni:y.value,id_vocacional:c.value[0].id_vocacional,pregunta:a,postulante:c.value[0].id,nro:n.value+1});n.value=x.data.nro,f.value=!1,u.value=[],d.value=60}};D(()=>{E()});const L=()=>{for(const a in u.value)if(u.value[a])return a;return-1};return(a,e)=>{const x=$,z=P,w=Z,C=W,F=q,B=G,V=H;return r(),I(M,null,{default:o(()=>[m.value==0?(r(),v("div",J,[s(C,{style:{"min-width":"320px"}},{default:o(()=>[e[7]||(e[7]=t("div",{style:{"margin-bottom":"7px"}},[t("label",null,"N° Documento")],-1)),s(z,null,{default:o(()=>[s(x,{value:y.value,"onUpdate:value":e[0]||(e[0]=l=>y.value=l),maxlength:12,placeholder:"N° Documento"},null,8,["value"])]),_:1}),e[8]||(e[8]=t("div",{style:{"margin-bottom":"7px"}},[t("label",null,"Codigo")],-1)),s(z,null,{default:o(()=>[s(x,{value:_.value,"onUpdate:value":e[1]||(e[1]=l=>_.value=l),maxlength:12,placeholder:"codigo"},null,8,["value"])]),_:1}),t("div",K,[s(w,{type:"primary",onClick:e[2]||(e[2]=l=>O())},{default:o(()=>e[6]||(e[6]=[k("Iniciar Examen")])),_:1})])]),_:1})])):g("",!0),m.value==1?(r(),v("div",Q,[n.value<20?(r(),v("div",Y,[t("div",ee,[s(F,{percent:parseFloat((d.value*1.666666666667).toFixed(0)),strokeWidth:15,showInfo:!1,strokeColor:"navy"},null,8,["percent"])]),p.value[n.value]?(r(),v("div",te,b(p.value[n.value].pregunta),1)):g("",!0),(r(!0),v(R,null,X(h.value,l=>(r(),v("div",{key:l.ide},[d.value>0?(r(),I(V,{key:0,value:u.value[l.ide],"onUpdate:value":j=>u.value[l.ide]=j},{default:o(()=>[t("div",ae,[s(B,{value:l,style:{width:"800px"}},{default:o(()=>[t("span",le,b(l.respuesta),1)]),_:2},1032,["value"])])]),_:2},1032,["value","onUpdate:value"])):(r(),I(V,{key:1,value:u.value[l.ide],"onUpdate:value":j=>u.value[l.ide]=j,disabled:""},{default:o(()=>[t("div",oe,[s(B,{value:l,style:{width:"800px"}},{default:o(()=>[t("span",se,b(l.respuesta),1)]),_:2},1032,["value"])])]),_:2},1032,["value","onUpdate:value"]))]))),128)),t("div",ne,[t("div",null,[t("span",ie," pregunta "+b(n.value+1)+"/20 ",1)]),t("div",null,[s(w,{style:{background:"navy",padding:"10px 10px",height:"40px",width:"200px","border-radius":"5px",color:"white"},loading:f.value,onClick:e[3]||(e[3]=l=>T(p.value[n.value].id_pregunta,u.value[L()]))},{default:o(()=>e[9]||(e[9]=[k("Siguiente")])),_:1},8,["loading"])])])])):g("",!0)])):g("",!0),n.value==20?(r(),v("div",re,[s(C,{style:{width:"380px","border-radius":"2px"}},{default:o(()=>[e[11]||(e[11]=t("div",{class:"flex justify-center mt-4 mb-3"},[t("span",{style:{color:"#264d79",opacity:"1"}},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"82",height:"82",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])])],-1)),e[12]||(e[12]=t("div",{class:"flex justify-center mt-1 mb-1"},[t("span",{style:{"font-size":"2.3rem"}},"Buen Trabajo")],-1)),e[13]||(e[13]=t("div",{class:"flex justify-center",style:{"text-align":"center"}},[t("span",{style:{"font-size":"1.1rem"}},"FINALIZÓ CON EXITO SU EXAMEN VOCACIONAL")],-1)),t("div",ue,[s(w,{type:"primary",style:{background:"#264d79",width:"160px"},onClick:e[4]||(e[4]=l=>A())},{default:o(()=>e[10]||(e[10]=[k("ACEPTAR")])),_:1})])]),_:1})])):g("",!0),m.value==2?(r(),v("div",de,[s(C,{style:{width:"380px","border-radius":"2px"}},{default:o(()=>[e[15]||(e[15]=t("div",{class:"flex justify-center mt-4 mb-3"},[t("span",{style:{color:"#264d79",opacity:"1"}},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"82",height:"82",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])])],-1)),e[16]||(e[16]=t("div",{class:"flex justify-center mt-1 mb-1"},[t("span",{style:{"font-size":"2.3rem"}},"Buen Trabajo")],-1)),e[17]||(e[17]=t("div",{class:"flex justify-center",style:{"text-align":"center"}},[t("span",{style:{"font-size":"1.1rem"}},"FINALIZÓ CON EXITO SU EXAMEN VOCACIONAL")],-1)),t("div",ve,[s(w,{type:"primary",style:{background:"#264d79",width:"160px"},onClick:e[5]||(e[5]=l=>A())},{default:o(()=>e[14]||(e[14]=[k("ACEPTAR")])),_:1})])]),_:1})])):g("",!0)]),_:1})}}};export{ge as default};
