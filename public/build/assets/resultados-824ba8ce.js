import{_ as M}from"./logotiny-c4b525af.js";import{_ as B}from"./logoDAD-c76d0a0b.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import{f as p,o as i,s as q,w as o,a as t,d as e,L as G,b as r,r as u,e as z,c as d,u as X,F as L,Z as Y,t as C,g as c}from"./app-abf4d883.js";const Z={},H=e("div",{class:"headPre",style:{height:"160px","margin-top":"0px"}},[e("div",{class:"flex justify-between mb-2",style:{"margin-top":"35px"}},[e("div",{class:"logoPre"},[e("div",{style:{"margin-top":"-10px"}},[e("img",{src:M,width:"45"})]),e("div",{class:"x"},[e("div",{class:"container-pre"},[e("span",{style:{"letter-spacing":"0.15rem"}},"DIRECCIÓN DE")]),r(),e("h1",{class:"logoPreAD"}," ADMISIÓN ")]),e("div",{style:{"margin-top":"-10px"}},[e("img",{src:B,width:"45"})])])]),e("div",{class:"flex justify-center title-proceso-container"},[e("span",{class:"title-proceso"},"EXAMEN CEPREUNA 2024-I")]),e("div",{class:"flex justify-center titulo-pre"},[e("div",null,[e("div",{class:"flex justify-center"},[e("hr",{class:"line-pre mr-3",style:{"margin-top":"18px"}}),e("span",{style:{"font-size":"1.4rem","text-transform":"capitalize"}},"Puntaje individual"),e("hr",{class:"line-pre ml-3",style:{"margin-top":"18px"}})])])])],-1),K=e("div",{style:{background:"#267ec5ea",height:"30px",width:"100%"}},null,-1),Q={style:{"border-radius":"10px 10px 0px 0px","box-shadow":"1px 1px 1px 2px #a5a5a53d","min-height":"calc(100vh - 200px)",padding:"0px  0px",background:"#e1e1e1"}};function W(w,m){const _=p("a-layout-content"),l=p("a-layout");return i(),q(l,{style:{"min-height":"100vh"}},{default:o(()=>[t(l,null,{default:o(()=>[H,K,t(_,{style:{"min-height":"280px",padding:"0px 0px"}},{default:o(()=>[e("div",Q,[G(w.$slots,"default")])]),_:3})]),_:3})]),_:3})}const ee=J(Z,[["render",W]]);const te={style:{display:"flex","align-items":"center","justify-content":"center","min-height":"calc(100vh - 190px)"}},se={class:"container"},ae=e("div",{class:"mb-6",style:{"text-align":"center","margin-top":"10px"}},[e("h1",{style:{color:"#000000","font-size":"1.4rem","font-weight":"700"}},"CONSULTAR PUNTAJE")],-1),oe={style:{width:"100%",background:"#334b9988"}},ne={class:"flex"},le={key:0,class:"mt-6",style:{"-o-transition-duration":".3s"}},ie={key:0},de={key:1},ce={key:0},re={key:1},ue={class:"flex justify-center"},pe={key:2},_e={class:"flex justify-center"},ve={key:1,class:"mt-2",style:{background:"white"}},fe={key:2,class:"p-3 mt-3",style:{background:"white"}},me=e("div",{class:"m-3 pt-0"},[e("h3",{style:{"font-size":"1.1rem"}}," Formulario de registro")],-1),ye={class:"p-3"},he=e("label",null,[r("DNI del padre"),e("span",{style:{color:"red"}}," (*)")],-1),ge={class:"flex"},xe={class:"p-3"},be=e("label",null,[r("DNI de la madre"),e("span",{style:{color:"red"}}," (*)")],-1),Ie={class:"flex"},Ce={key:0},we=e("div",{class:"ml-3 mt-4"},[e("span",{style:{"font-size":"1.1rem"}}," Subir Archivos")],-1),Ne={class:"p-3 mt-5",style:{background:"#e3e3e33d","border-radius":"5px"}},ke=e("div",{class:"mb-3"},[e("span",{style:{"font-size":"1rem"}},"Certificado en PDF ")],-1),De={class:"p-3 mt-5",style:{background:"#e3e3e33d","border-radius":"5px"}},Pe=e("div",{class:"mb-3"},[e("span",{style:{"font-size":"1.1rem"}}," Seleección de certificado en PDF ")],-1),Ee={key:0,class:"mt-3"},Ae={style:{"border-radius":"8px",border:"solid 1px #d9d9d9","text-align":"center"}},Se={style:{"font-family":"'Courier New', Courier, monospace","font-wight":"bold","font-size":"2.3rem"}},je=e("div",{class:"mb-2",style:{"margin-top":"-10px"}}," código secreto ",-1),ze={class:"mt-3 mb-3"},Le={class:"flex justify-center mb-4 pt-3"},Ve={__name:"resultados",setup(w){const m=u([]),_=u(""),l=u(""),f=u(""),y=u(0);u(!1);const b=u(!1),x=u(""),F=async()=>{y.value=0;const a=await axios.get("/get-puntajes/"+_.value);m.value=a.data.datos,m.value.some(v=>v.condicion==="SI")?y.value=1:y.value=0},N=async()=>{const a=await axios.post("/verificar-padres",{dni:_.value,dnipadre:l.value,dnimadre:f.value});b.value=a.data.estado};z(l,(a,s)=>{l.value.length==8&&l.value.length==8&&f.value.length!=l.value&&(N(),k())}),z(f,(a,s)=>{l.value.length==8&&l.value.length==8&&f.value!=l.value&&(N(),k())});const k=async()=>{let a=await axios.get("/generar-captcha");x.value=a.data.captcha},D=u(!1),P=u(!1),T=[{title:"Nombre",dataIndex:"nombres"},{title:"Programa",dataIndex:"programa",responsive:["sm"]},{title:"Puntaje",dataIndex:"puntaje",align:"center"},{title:"Fecha",dataIndex:"fecha",align:"center"},{title:"Condición",dataIndex:"condicion",align:"center"}];function O(a){return a.split("-").reverse().join("-")}const R=async({file:a})=>{if(a.status==="done"){const s=a.response.substring(1),v=JSON.parse(s);D.value=v.estado}},U=async({file:a})=>{if(a.status==="done"){const s=a.response.substring(1),v=JSON.parse(s);P.value=v.estado}};function V(){_.value="",l.value="",f.value="",b.value=!1,y.value=0,m.value=[]}return(a,s)=>{const v=p("a-input"),h=p("a-button"),I=p("a-tag"),$=p("a-table"),E=p("a-alert"),A=p("upload-outlined"),S=p("a-upload"),j=p("a-space");return i(),d(L,null,[t(X(Y),{title:"Consulta individual"}),t(ee,null,{default:o(()=>[e("div",te,[e("div",se,[ae,e("div",oe,[e("div",ne,[t(v,{value:_.value,"onUpdate:value":s[0]||(s[0]=n=>_.value=n),type:"text",Placeholder:"Ingrese DNI",style:{"padding-left":"20px"}},null,8,["value"]),t(h,{onClick:s[1]||(s[1]=n=>F()),type:"primary",style:{height:"38px",width:"160px"}},{default:o(()=>[r("Consultar")]),_:1})])]),m.value.length>0?(i(),d("div",le,[t($,{columns:T,"data-source":m.value,pagination:!1,size:"small"},{bodyCell:o(({column:n,index:Fe,record:g})=>[n.dataIndex==="puntaje"?(i(),d("div",ie,C(g.puntaje),1)):c("",!0),n.dataIndex==="fecha"?(i(),d("div",de,C(O(g.fecha)),1)):c("",!0),n.dataIndex==="condicion"?(i(),d(L,{key:2},[g.condicion=="SI"?(i(),d("div",ce,[t(I,{color:"blue"},{default:o(()=>[r(" Ingresó ")]),_:1})])):c("",!0),g.condicion=="NO"?(i(),d("div",re,[e("div",ue,[t(I,{color:"orange"},{default:o(()=>[r(" No ingresó ")]),_:1})])])):c("",!0),g.condicion=="CL"?(i(),d("div",pe,[e("div",_e,[t(I,{color:"yellow"},{default:o(()=>[r(" Clasificado ")]),_:1})])])):c("",!0)],64)):c("",!0)]),_:1},8,["data-source"])])):c("",!0),y.value===1?(i(),d("div",ve,[e("div",null,[t(E,{message:"! MUY IMPORTANTE !",description:"Los postulantes que hayan alcanzado una vacante deberán subir su Certificado de Estudios y DNI en formato PDF con un peso max. de 2mb","show-icon":"",type:"info"},{default:o(()=>[t(h,null,{default:o(()=>[r(" Subir Archivos ")]),_:1})]),_:1})])])):c("",!0),y.value===1?(i(),d("div",fe,[me,e("div",ye,[he,e("div",ge,[t(v,{value:l.value,"onUpdate:value":s[2]||(s[2]=n=>l.value=n),type:"text",Placeholder:"Ingrese DNI del padre",style:{"padding-left":"20px"}},null,8,["value"])])]),e("div",xe,[be,e("div",Ie,[t(v,{value:f.value,"onUpdate:value":s[3]||(s[3]=n=>f.value=n),type:"text",Placeholder:"Ingrese DNI de la madre",style:{"padding-left":"20px"}},null,8,["value"])])]),b.value===!0?(i(),d("div",Ce,[we,e("div",Ne,[ke,t(j,{class:"mb-2",direction:"vertical",style:{width:"100%"},size:"large"},{default:o(()=>[t(S,{"file-list":a.fileList,"onUpdate:fileList":s[4]||(s[4]=n=>a.fileList=n),"list-type":"picture","max-count":1,action:"subir-pdf/"+_.value+"/"+x.value+"/1",onChange:R},{default:o(()=>[t(h,{style:{background:"#cccccc8d"}},{default:o(()=>[t(A),r(" Seleccionar certificado en PDF ")]),_:1})]),_:1},8,["file-list","action"])]),_:1})]),e("div",De,[Pe,t(j,{class:"mb-2",direction:"vertical",style:{width:"100%"},size:"large"},{default:o(()=>[t(S,{"file-list":a.fileList2,"onUpdate:fileList":s[5]||(s[5]=n=>a.fileList2=n),"list-type":"picture","max-count":1,action:"subir-pdf/"+_.value+"/"+x.value+"/2",onChange:U},{default:o(()=>[t(h,{style:{background:"#cccccc8d"}},{default:o(()=>[t(A),r(" Seleccionar certificado en PDF ")]),_:1})]),_:1},8,["file-list","action"])]),_:1})]),D.value==!0&&P.value==!0?(i(),d("div",Ee,[e("div",Ae,[e("span",Se,C(x.value),1),je]),e("div",ze,[t(E,{message:"!IMPORTANTE!",description:"DEBES ANOTAR EL CODIGO SECRETO PARA LA VERIFICACIÓN DE TUS DOCUMENTOS ","show-icon":"",type:"warning"})]),e("div",Le,[t(h,{style:{width:"180px"},onClick:s[6]||(s[6]=n=>V()),type:"primary"},{default:o(()=>[r("Finalizar")]),_:1})])])):c("",!0)])):c("",!0)])):c("",!0)])])]),_:1})],64)}}};export{Ve as default};
