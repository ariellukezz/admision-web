import{_ as I}from"./logotiny-c4b525af.js";import{_ as E}from"./logoDAD-c76d0a0b.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import{o as a,l as v,w as s,a as i,d as e,G as U,b as m,g as c,c as p,y as w,t as n,f as V,F as g,Q as y}from"./app-a86895a3.js";const j={},P=e("div",{class:"headPre",style:{height:"200px"}},[e("div",{class:"logoPre"},[e("div",null,[e("img",{src:I,width:"45"})]),e("div",{class:"x"},[e("div",{class:"container-pre"},[e("span",{style:{"letter-spacing":"0.1rem"}},"DIRECCIÓN DE")]),m(),e("h1",{class:"logoPreAD"}," ADMISIÓN ")]),e("div",null,[e("img",{src:E,width:"45"})])]),e("div",{class:"flex justify-center titulo-pre"},[e("div",null,[e("span",null," Examen Vocacional "),e("div",{class:"flex justify-center"},[e("hr",{class:"line-pre"})])])])],-1),D={style:{"border-radius":"10px 10px 0px 0px","box-shadow":"1px 1px 1px 2px #a5a5a53f","min-height":"280px",padding:"0px  0px","margin-top":"-40px",background:"#ffffff"}};function O(l,t){const r=c("a-layout-content"),_=c("a-layout");return a(),v(_,{style:{"min-height":"100vh"}},{default:s(()=>[i(_,null,{default:s(()=>[P,i(r,{style:{"min-height":"280px",padding:"0px 0px"}},{default:s(()=>[e("div",D,[U(l.$slots,"default")])]),_:3})]),_:3})]),_:3})}const R=A(j,[["render",O]]);const S={key:0,class:"p-5",style:{padding:"30px 60px"}},z={class:"counter",style:{position:"fixed",top:"5px",right:"20px",background:"#00000052",height:"75px",padding:"0px 10px"}},L=e("div",{style:{"font-weight":"bold","font-size":"1.3rem","margin-bottom":"-10px",color:"white","margin-top":"0px"}},"Tiempo restante",-1),$={class:"flex",style:{"font-weight":"bold","font-size":"2.6rem","margin-top":"-15px"}},B={key:0,class:""},M={key:1},T={style:{margin:"auto","min-height":"calc(100vh - 160px)",display:"flex","justify-content":"center","align-items":"center"}},F=e("div",{style:{"margin-bottom":"7px"}},[e("label",null,"N° Documento")],-1),X=e("div",{style:{"margin-bottom":"7px"}},[e("label",null,"Codigo")],-1),Z={style:{display:"flex","justify-content":"center","margin-top":"20px"}},G=e("div",{class:"flex justify-center mt-4 mb-3"},[e("span",{style:{color:"#3caaf3",opacity:"1"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check-circle"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})])])],-1),Q=e("div",{class:"flex justify-center mt-1 mb-1"},[e("span",{style:{"font-size":"2.3rem"}},"Buen Trabajo")],-1),q=e("div",{class:"flex justify-center",style:{"text-align":"center"}},[e("span",{style:{"font-size":"1.1rem"}},"FINALIZÓ CON EXITO SU EXAMEN VOCACIONAL")],-1),H={class:"flex justify-center mt-4 mb-3"},J={props:["id_postulante","actualiza","dni"],data(){return{visible:!1,preguntas:null,preguntasperfiles:null,respuestas:[],datos:[],ex:0,dni:"",codigo:"",tiempoRestante:20*60,minutos:null,segundos:"00",contadorIniciado:!1}},mounted(){setInterval(()=>{this.contadorIniciado===!0&&this.tiempoRestante>=0&&(this.minutos=Math.floor(this.tiempoRestante/60),this.segundos=this.tiempoRestante%60,this.tiempoRestante--)},1e3)},methods:{async getPreguntas(){const l=await axios.post("get-preguntas",{id_postulante:this.datos[0].id,id_programa:this.datos[0].id_vocacional});this.preguntas=l.data.datos},async getPreguntasPerfiles(){const l=await axios.post("get-preguntas-perfiles",{id_postulante:this.datos[0].id});this.preguntasperfiles=l.data.datos,this.contadorIniciado=!0},async getDatos(){const l=await axios.post("get-datos-examen2",{dni:this.dni,codigo:this.codigo});this.datos=l.data.datos,this.getPreguntas(),this.getPreguntasPerfiles(),this.ex=1},async saveVocacional(){let l=110;try{const t=await axios.post("save-vocacional",{id_postulante:this.datos[0].id,id_examen:this.datos[0].id_vocacional,respuestas:this.respuestas,actualizar:this.actualiza,proceso:4,name:"Examen vocacional completado",nro:7,dni:this.datos[0].nro_doc,avance:l});return this.respuestas=[],this.ex=0,this.visible=!0,this.dni="",this.codigo="",this.actualiza==="si"?1:0}catch{}},formatNumber(l){return l!=null?l.toString().padStart(2,"0"):""}}},te=Object.assign(J,{__name:"exvocacional",setup(l){return(t,r)=>{const _=c("a-radio"),f=c("a-radio-group"),b=c("a-button"),x=c("a-input"),k=c("a-form-item"),N=c("a-card"),C=c("a-modal");return a(),v(R,null,{default:s(()=>[t.ex==1?(a(),p("div",S,[e("div",z,[L,e("div",$,[e("h1",{style:{color:"white"},class:w({"contador-minutos":t.minutos>0})},"00:"+n(t.minutos.toString().padStart(2,"0"))+":",3),e("h1",{style:{color:"white"},class:w({"contador-segundos":t.segundos>0})},n(t.segundos.toString().padStart(2,"0")),3)])]),t.datos.length>0?(a(),p("div",B,[e("h1",null,"DNI: "+n(t.datos[0].nro_doc),1),e("h1",null,"Nombre: "+n(t.datos[0].nombres)+" "+n(t.datos[0].primer_apellido)+" "+n(t.datos[0].segundo_apellido),1),e("h1",null,"Programa: "+n(t.datos[0].nombre),1)])):V("",!0),(a(!0),p(g,null,y(t.preguntas,(o,d)=>(a(),p("div",{class:"mb-3",key:o.id},[e("h3",null,n(d+1)+". "+n(o.pregunta),1),(a(!0),p(g,null,y(o.respuestas,u=>(a(),p("div",{key:u.ide},[t.tiempoRestante>0?(a(),v(f,{key:0,value:t.respuestas[d],"onUpdate:value":h=>t.respuestas[d]=h},{default:s(()=>[i(_,{value:u},{default:s(()=>[m(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"])):(a(),v(f,{key:1,value:t.respuestas[d],"onUpdate:value":h=>t.respuestas[d]=h,disabled:""},{default:s(()=>[i(_,{value:u},{default:s(()=>[m(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"]))]))),128))]))),128)),(a(!0),p(g,null,y(t.preguntasperfiles,(o,d)=>(a(),p("div",{class:"mb-3",key:o.id},[e("h3",null,n(d+11)+". "+n(o.pregunta),1),(a(!0),p(g,null,y(o.respuestas,u=>(a(),p("div",{key:u.ide},[t.tiempoRestante>0?(a(),v(f,{key:0,value:t.respuestas[d+10],"onUpdate:value":h=>t.respuestas[d+10]=h},{default:s(()=>[i(_,{value:u},{default:s(()=>[m(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"])):(a(),v(f,{key:1,value:t.respuestas[d+10],"onUpdate:value":h=>t.respuestas[d+10]=h,disabled:""},{default:s(()=>[i(_,{value:u},{default:s(()=>[m(n(u.respuesta),1)]),_:2},1032,["value"])]),_:2},1032,["value","onUpdate:value"]))]))),128))]))),128)),e("div",null,[i(b,{type:"primary",onClick:r[0]||(r[0]=o=>t.saveVocacional())},{default:s(()=>[m(" FINALIZAR EXAMEN VOCACIONAL ")]),_:1})])])):(a(),p("div",M,[e("div",T,[i(N,{style:{"min-width":"320px"}},{default:s(()=>[F,i(k,null,{default:s(()=>[i(x,{value:t.dni,"onUpdate:value":r[1]||(r[1]=o=>t.dni=o),maxlength:12,placeholder:"N° Documento"},null,8,["value"])]),_:1}),X,i(k,null,{default:s(()=>[i(x,{value:t.codigo,"onUpdate:value":r[2]||(r[2]=o=>t.codigo=o),maxlength:12,placeholder:"codigo"},null,8,["value"])]),_:1}),e("div",Z,[i(b,{type:"primary",onClick:r[3]||(r[3]=o=>t.getDatos())},{default:s(()=>[m("Iniciar Examen")]),_:1})])]),_:1})])])),i(C,{visible:t.visible,"onUpdate:visible":r[5]||(r[5]=o=>t.visible=o),onOk:t.handleOk,style:{width:"330px"},footer:!1},{default:s(()=>[G,Q,q,e("div",H,[i(b,{type:"primary",onClick:r[4]||(r[4]=o=>t.visible=!1)},{default:s(()=>[m("ACEPTAR")]),_:1})])]),_:1},8,["visible","onOk"])]),_:1})}}});export{te as default};
