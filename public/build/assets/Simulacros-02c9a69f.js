import{r as n,e as K,o as u,E as H,w as l,y as f,c as p,a as t,d as s,b as C,u as v,f as i,t as J,n as ce,B as _e,I as fe,_ as ye,h as ge,i as be,O as xe,k as ke,N as we,K as Ce,L as Se,l as De,m as Ie,q as Ue,M as Ee}from"./app-71fb5431.js";import{A as ze}from"./LayoutSimulacro-96fcca6e.js";import{S as Ne}from"./SearchOutlined-44712a54.js";import{E as Ve}from"./EyeOutlined-071b7d86.js";import{F as Ke}from"./FormOutlined-0dc0af22.js";import{D as Pe}from"./DeleteOutlined-f123c7a9.js";import{D as P}from"./DownOutlined-c58e0def.js";import"./DropdownLink-d154b537.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AntdIcon-7c41e32f.js";const je={key:0},Be={class:"mb-2 flex justify-between"},Oe={key:1},$e={style:{"font-weight":"bold","font-size":"0.9rem"}},Ae={key:2,class:"flex"},Fe={key:3,class:"flex",style:{"justify-content":"center"}},Le={key:0},Me={key:1},Ge={key:4,class:"flex",style:{"justify-content":"space-between"}},Te={class:"flex justify-end"},qe={class:"flex justify-between"},Ze={class:"flex justify-end"},nt={__name:"Simulacros",setup(He){const j=n(0),Q=()=>{b.value=!0},S=n("2023"),y=n(null),R=n(null),D=n(!0),W=async()=>{let o=await f.post("get-simulacros?page="+k.value,{term:x.value,paginasize:w.value});T.value=o.data.datos.data,q.value=o.data.datos.total},X=async()=>{let o=await f.post("save-simulacro",{nombre:y.value,estado:D.value,ubigeo:_.value+g.value+U.value,anio:S.value});Y(o.data.tipo,o.data.titulo,o.data.mensaje),h()},Y=(o,e,d)=>{ce[o]({message:e,description:d})},h=(o,e,d)=>{y.value=null,R.value=null,_.value=null,g.value=null,U.value=null,b.value=null},ee=[{title:"Nombre",dataIndex:"nombre",key:"name",align:"left"},{title:"Fecha",dataIndex:"fecha",key:"date"},{title:"Estado",dataIndex:"estado",key:"verificado",align:"center"},{title:"operation",dataIndex:"operation",width:"50px"}],B=n([]),O=n(null),I=n(""),_=n(""),$=n([]),A=n(null),F=n(""),g=n(null),L=n([]),M=n(null),G=n(""),U=n("");n([]);const te=(o,e)=>{_.value=e.key,ne()},ae=(o,e)=>{g.value=e.key,se()},oe=(o,e)=>{U.value=e.key},T=n([]),b=n(!1);n("");const x=n(""),q=n(0),k=n(1),w=n(2);K(x,(o,e)=>{getCertificados()}),K(k,(o,e)=>{getCertificados()}),K(w,(o,e)=>{getCertificados()});const le=async()=>{const o=await f.post("/get-departamentos-codigo?page=",{term:I.value});B.value=o.data.datos.data},ne=async()=>{const o=await f.post("/get-provincias-codigo?page=",{departamento:_.value});$.value=o.data.datos},se=async()=>{const o=await f.post("/get-distritos-codigo?page=",{departamento:_.value,provincia:g.value});L.value=o.data.datos};return W(),le(),(o,e)=>{const d=_e,m=fe,Z=ye,ue=ge,ie=be,de=xe,c=ke,re=we,E=Ce,z=Se,N=De,pe=Ie,ve=Ue,me=Ee;return u(),H(ze,null,{default:l(()=>[j.value===0?(u(),p("div",je,[t(de,{style:{background:"white"},class:"m-0 p-0"},{default:l(()=>[s("div",Be,[s("div",null,[t(d,{type:"primary",onClick:Q},{default:l(()=>e[15]||(e[15]=[C("Nuevo")])),_:1})]),t(m,{placeholder:"Buscar",value:x.value,"onUpdate:value":e[0]||(e[0]=a=>x.value=a),style:{"max-width":"300px"}},{suffix:l(()=>[t(v(Ne))]),_:1},8,["value"])]),s("div",null,[t(ue,{size:"small",dataSource:T.value,columns:ee,pagination:!1},{bodyCell:l(({column:a,text:Je,record:r})=>[a.dataIndex==="ver"?(u(),H(v(Ve),{key:0,onClick:V=>o.abrirmodal(r),class:"custom-icon"},null,8,["onClick"])):i("",!0),a.dataIndex==="cod"?(u(),p("div",Oe,[s("span",$e,J(r.cod),1)])):i("",!0),a.dataIndex==="nombre"?(u(),p("div",Ae,[s("span",{onClick:e[1]||(e[1]=V=>j.value=1),style:{cursor:"pointer","text-transform":"uppercase","font-size":".9rem"}},J(r.nombre),1)])):i("",!0),a.dataIndex==="estado"?(u(),p("div",Fe,[r.estado==1?(u(),p("div",Le,[t(Z,{color:"green"},{default:l(()=>e[16]||(e[16]=[C("VIGENTE")])),_:1})])):i("",!0),r.estado==3?(u(),p("div",Me,[t(Z,{color:"blue"},{default:l(()=>e[17]||(e[17]=[C("FINALIZADO")])),_:1})])):i("",!0)])):i("",!0),a.dataIndex==="operation"?(u(),p("div",Ge,[t(d,{type:"primary",onClick:V=>o.abrirEditar(r.id),size:"small"},{icon:l(()=>[t(v(Ke))]),_:2},1032,["onClick"]),t(d,{type:"danger",onClick:V=>o.eliminar(r.id),shape:"",size:"small"},{icon:l(()=>[t(v(Pe))]),_:2},1032,["onClick"])])):i("",!0)]),_:1},8,["dataSource"]),s("div",Te,[t(ie,{current:k.value,"onUpdate:current":e[2]||(e[2]=a=>k.value=a),pageSize:w.value,"onUpdate:pageSize":e[3]||(e[3]=a=>w.value=a),total:q.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})])):i("",!0),t(me,{visible:b.value,"onUpdate:visible":e[14]||(e[14]=a=>b.value=a),title:"Nuevo simulacro",ok:!1,style:{"margin-top":"-70px"},footer:!1},{default:l(()=>[t(ve,{model:o.formState,"label-col":o.labelCol,"wrapper-col":o.wrapperCol},{default:l(()=>[s("div",qe,[t(c,{label:"AÃ±o"},{default:l(()=>[t(m,{value:S.value,"onUpdate:value":e[4]||(e[4]=a=>S.value=a),style:{width:"80px","margin-right":"20px"}},null,8,["value"])]),_:1}),t(c,{label:"Estado"},{default:l(()=>[t(re,{checked:D.value,"onUpdate:checked":e[5]||(e[5]=a=>D.value=a)},null,8,["checked"])]),_:1})]),t(c,null,{default:l(()=>[e[18]||(e[18]=s("div",null,[s("label",null,"Nombre: ")],-1)),t(m,{value:y.value,"onUpdate:value":e[6]||(e[6]=a=>y.value=a)},null,8,["value"])]),_:1}),t(pe,{gutter:[16,0],class:"form-row"},{default:l(()=>[t(N,{span:24,md:24,lg:24,xl:24,xxl:24},{default:l(()=>[t(c,null,{default:l(()=>[e[19]||(e[19]=s("div",null,[s("label",null,"Departamento: ")],-1)),t(z,{value:O.value,"onUpdate:value":e[8]||(e[8]=a=>O.value=a),options:B.value,onSelect:te},{default:l(()=>[t(m,{placeholder:"Departamento",value:I.value,"onUpdate:value":e[7]||(e[7]=a=>I.value=a),onKeypress:o.handleKeyPress},{suffix:l(()=>[t(E,{title:"Extra information"},{default:l(()=>[t(v(P))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1}),t(N,{span:24,md:24,lg:24,xl:24,xxl:24},{default:l(()=>[t(c,null,{default:l(()=>[e[20]||(e[20]=s("div",null,[s("label",null,"Provincia:")],-1)),t(z,{value:A.value,"onUpdate:value":e[10]||(e[10]=a=>A.value=a),options:$.value,onSelect:ae},{default:l(()=>[t(m,{placeholder:"Provincia",value:F.value,"onUpdate:value":e[9]||(e[9]=a=>F.value=a),onKeypress:o.handleKeyPress},{suffix:l(()=>[t(E,{title:"Extra information"},{default:l(()=>[t(v(P))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1}),t(N,{span:24,md:24,lg:24,xl:24,xxl:24},{default:l(()=>[t(c,null,{default:l(()=>[e[21]||(e[21]=s("div",null,[s("label",null,"Distrito:")],-1)),t(z,{value:M.value,"onUpdate:value":e[12]||(e[12]=a=>M.value=a),options:L.value,onSelect:oe},{default:l(()=>[t(m,{placeholder:"Provincia",value:G.value,"onUpdate:value":e[11]||(e[11]=a=>G.value=a),onKeypress:o.handleKeyPress},{suffix:l(()=>[t(E,{title:"Extra information"},{default:l(()=>[t(v(P))]),_:1})]),_:1},8,["value","onKeypress"])]),_:1},8,["value","options"])]),_:1})]),_:1})]),_:1}),s("div",Ze,[t(d,{type:"primary",onClick:e[13]||(e[13]=a=>X())},{default:l(()=>e[22]||(e[22]=[C("Guardar")])),_:1})])]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["visible"])]),_:1})}}};export{nt as default};
