import{r as t,x as Y,e as d,f as c,o as b,c as w,a,u as p,w as s,F as S,j as m,Z as ee,d as n,S as te,k as ae,b as v,t as x,g as V,E as oe,D as se}from"./app-d4b84aed.js";import{L as ne}from"./LayoutSimulacro-442757f1.js";import{F as le}from"./FormOutlined-42ac371c.js";import"./DropdownLink-5c5d4e33.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-55a4a159.js";const ie={class:"mb-4",style:{width:"100%"}},de={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},ce={class:"flex justify-end mt-5 mb-4 mr-4"},re={class:"flex justify-between",style:{position:"relative"}},ue={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},pe={key:1},me={class:"flex justify-between mb-6 mt-2 pr-4"},ve={clas:"",style:{scale:"0.9"}},Ce={__name:"index",setup(ge){t([]);const g=t(""),y=t(1),C=t(null),u=t(10),j=t(!1),B=t(null),I=t(null),k=t([]),F=t(null);t(!1);const O=t(),z=t(),D=t(),U=t(),P=t(),T=t(),q=t(),L=t();t();const l=Y({cod_modular:"",nombre:"",cod_local:"",nivel:"",gestion:null,ubigeo:"",direccion:"",observacion:""});t(null);const E=async()=>{m.post("/get-ubigeo",{term:I.value}).then(e=>{k.value=e.data.datos.data,console.log("Datos recibidos:",k)}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},R=t([]),_=async()=>{let e=await m.post("get-pagos-simulacro",{term:g.value,paginashoja:u.value});R.value=e.data.datos.data,C.value=e.data.datos.total};_();const N=async()=>{let e=await m.post("/get-departamentos-codigo",{term:z.value});O.value=e.data.datos.data},$=async()=>{let e=await m.post("/get-provincias-codigo?page=",{departamento:D.value});U.value=e.data.datos},Z=async e=>{let o=await m.post("/get-distritos-codigo?page=",{departamento:D.value,provincia:T.value});q.value=o.data.datos};d(y,(e,o)=>{_()}),d(u,(e,o)=>{_()}),d(g,(e,o)=>{_()}),d(I,(e,o)=>{e.length>=3&&E()}),d(z,(e,o)=>{e.length>=3&&N()}),d(P,(e,o)=>{e.length>=3&&$()}),d(L,(e,o)=>{e.length>=3&&Z()}),d(F,(e,o)=>{e.length>=3&&getColegios()}),N(),E();const A=e=>{j.value=!0,l.id=e.id,l.cod_modular=e.cod_modular,l.nombre=e.nombre,l.cod_local=e.cod_local,l.gestion=e.gestion,l.nivel=e.nivel,l.ubigeo=e.ubigeo,B.value=e.lugar,l.direccion=e.direccion,l.observacion=e.observacion},G=t([{title:"Nro_Doc",dataIndex:"nro_doc"},{title:"Nombres",dataIndex:"nombre",responsive:["xs","sm","md","lg"]},{title:"Concepto",dataIndex:"concepto",responsive:["md"]},{title:"F. Confirmacion",dataIndex:"fec_confirmacion",responsive:["lg"]},{title:"autorizacion",dataIndex:"cod_autorizacion",responsive:["lg"]},{title:"Total",dataIndex:"total",width:"120px",align:"center"},{title:"Comision",dataIndex:"comision",width:"120px",align:"center"},{title:"Tipo",dataIndex:"type",width:"120px",align:"center"}]);return(e,o)=>{const H=c("a-input"),J=c("a-tag"),h=c("a-button"),K=c("a-popconfirm"),M=c("a-table"),Q=c("a-pagination"),f=c("a-select-option"),W=c("a-select");return b(),w(S,null,[a(p(ee),{title:"Pagos"}),a(ne,null,{default:s(()=>[n("div",ie,[n("div",de,[n("div",ce,[n("div",re,[a(H,{type:"text",placeholder:"Buscar",value:g.value,"onUpdate:value":o[0]||(o[0]=i=>g.value=i),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),n("div",ue,[a(p(te))])])]),n("div",null,[a(M,{dataSource:R.value,size:"",columns:G.value,pagination:!1},{bodyCell:s(({column:i,index:_e,record:r})=>[i.dataIndex==="nro_doc"?(b(),ae(J,{key:0,color:"#4f4f4f",style:{width:"80px"}},{default:s(()=>[v(x(r.nro_doc),1)]),_:2},1024)):V("",!0),i.dataIndex==="nombres"?(b(),w("div",pe,[n("span",null,x(r.nombres)+" "+x(r.paterno)+" "+x(r.materno),1)])):V("",!0),i.dataIndex==="acciones"?(b(),w(S,{key:2},[a(h,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:s(()=>[a(p(oe))]),_:1}),a(h,{class:"mr-1",onClick:X=>A(r),style:{color:"blue"},size:"small",disabled:""},{icon:s(()=>[a(p(le))]),_:2},1032,["onClick"]),a(K,{title:"¿Estas seguro de eliminar?",onConfirm:X=>e.eliminar(r),disabled:""},{default:s(()=>[a(h,{size:"small",style:{color:"crimson"},disabled:""},{icon:s(()=>[a(p(se),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):V("",!0)]),_:1},8,["dataSource","columns"])]),n("div",me,[n("div",null,[a(Q,{current:y.value,"onUpdate:current":o[1]||(o[1]=i=>y.value=i),"page-size":u.value,simple:"",total:C.value,"show-less-items":""},null,8,["current","page-size","total"])]),n("div",ve,[a(W,{value:u.value,"onUpdate:value":o[2]||(o[2]=i=>u.value=i),style:{width:"90px"}},{default:s(()=>[a(f,{value:10},{default:s(()=>[v("10 Reg.")]),_:1}),a(f,{value:20},{default:s(()=>[v("20 Reg.")]),_:1}),a(f,{value:50},{default:s(()=>[v("50 Reg.")]),_:1}),a(f,{value:100},{default:s(()=>[v("100 Reg.")]),_:1})]),_:1},8,["value"])])])])])]),_:1})],64)}}};export{Ce as default};
