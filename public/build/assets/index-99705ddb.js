import{r as f,J as X,a1 as h,e as D,D as E,o as b,c as N,a as l,u as c,w as o,F,y as B,Z as ee,d as s,b as p,E as O,f as k,t as V,a2 as le,n as oe,B as ae,I as te,H as ne,h as se,i as ie,S as de,j as ue,k as re,l as pe,V as me,m as _e,q as fe,O as ve,M as ge}from"./app-76fa21fc.js";import{_ as ce}from"./LayoutDirector-5c69d0f4.js";import{f as be}from"./index-0ee3b38f.js";import{S as xe}from"./SearchOutlined-592a711e.js";import{E as S}from"./EyeOutlined-e6787566.js";import{F as ye}from"./FormOutlined-b5a707ec.js";import{D as Ce}from"./DeleteOutlined-a072b4c8.js";import"./logotiny-c4b525af.js";import"./Header-cbe1cfba.js";import"./AntdIcon-b1a687d1.js";import"./DownOutlined-188a32a5.js";const we={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},ke={class:"mr-3"},Ue={class:"flex justify-between",style:{position:"relative"}},Pe={key:2,class:"flex"},Ie={class:"mr-1"},De={class:"mr-1"},Ne={class:"flex justify-end"},Ye={__name:"index",setup(Ve){f("");const j=n=>{_.value=!0,a.id=n.id,a.nro_doc=n.nro_doc,a.tipo_doc=n.tipo_doc,a.primer_apellido=n.primer_apellido,a.segundo_apellido=n.segundo_apellido,a.apellido_casada=n.apellido_casada,a.nombres=n.nombres,a.sexo=n.sexo,a.fec_nacimiento=le(n.fec_nacimiento),a.ubigeo_nacimiento=n.ubigeo_nacimiento,a.ubigeo_residencia=n.ubigeo_residencia,a.celular=n.celular,a.email=n.email,a.estado_civil=n.estado_civil,a.direccion=n.direccion,a.anio_egreso=n.anio_egreso,a.observaciones=n.observaciones,a.id_colegio=n.id_colegio},a=X({nro_doc:"",tipo_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),$=async()=>{let n=await B.post("/segundas/save-postulante-admin",{id:a.id,tipo_doc:a.tipo_doc,nro_doc:a.nro_doc,primer_apellido:a.primer_apellido,segundo_apellido:a.segundo_apellido,apellido_casada:a.apellido_casada,nombres:a.nombres,sexo:a.sexo,fec_nacimiento:be(new Date(a.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:a.ubigeo_nacimiento,ubigeo_residencia:a.ubigeo_residencia,celular:a.celular,correo:a.email,estado_civil:a.estado_civil,direccion:a.direccion,egreso:a.anio_egreso,observaciones:a.observaciones,colegio:a.id_colegio});_.value=!1,n.data.estado===!0&&R(n.data.tipo,n.data.titulo,n.data.mensaje),w()};h(()=>{});const x=f(""),y=f([]);f([]);const _=f(!1),C=f(1),q=f(null),z=f({id:null,codigo:"",nombre:""}),A=()=>{_.value=!0};D(x,(n,e)=>{w()}),D(_,(n,e)=>{_.value==!1&&z.value.id!=null&&(a.value=null)});const w=async()=>{let n=await B.post("/segundas/get-postulantes-segundas?page="+C.value,{term:x.value});y.value=n.data.datos.data,q.value=n.data.datos.total},Y=[{title:"Ver",dataIndex:"ver_postulante"},{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],R=(n,e,m)=>{oe[n]({message:e,description:m})};D(C,(n,e)=>{w()});const M=async n=>{try{window.location.href="postulante-perfil/"+n}catch(e){console.error(e)}};return w(),(n,e)=>{const m=ae,u=te,T=E("row"),G=ne,H=se,J=ie,v=de,U=ue,d=re,i=pe,r=E("search-user"),Z=me,P=_e,K=fe,L=ve,Q=ge;return b(),N(F,null,[l(c(ee),{title:"Postulantes"}),l(ce,null,{default:o(()=>[s("div",we,[l(T,{class:"flex justify-between mb-4"},{default:o(()=>[s("div",ke,[l(m,{type:"primary",onClick:A},{default:o(()=>e[21]||(e[21]=[p("Nuevo")])),_:1})]),s("div",Ue,[l(u,{type:"text",placeholder:"Buscar",value:x.value,"onUpdate:value":e[0]||(e[0]=t=>x.value=t),style:{"max-width":"300px","padding-left":"30px"}},{prefix:o(()=>[l(c(xe))]),_:1},8,["value"])])]),_:1}),l(H,{columns:Y,"data-source":y.value,pagination:!1,size:"small"},{bodyCell:o(({column:t,index:W,record:g})=>[t.dataIndex==="ver_postulante"?(b(),O(m,{key:0,type:"true",onClick:I=>M(g.nro_doc),size:"small",style:{height:"30px",display:"flex","align-items":"center"}},{default:o(()=>[l(c(S))]),_:2},1032,["onClick"])):k("",!0),t.dataIndex==="nombres"?(b(),N(F,{key:1},[p(V(g.nombres)+" "+V(g.primer_apellido)+" "+V(g.segundo_apellido),1)],64)):k("",!0),t.dataIndex==="acciones"?(b(),N("div",Pe,[s("div",Ie,[l(m,{type:"true",onClick:I=>M(g.nro_doc),size:"small",style:{background:"#f3f3f3",height:"30px",border:"solid 1px #d9d9d9",display:"flex","align-items":"center"}},{default:o(()=>[l(c(S))]),_:2},1032,["onClick"])]),s("div",De,[l(m,{type:"true",onClick:I=>j(g),size:"small",style:{background:"#f3f3f3",height:"30px",border:"solid 1px #d9d9d9",display:"flex","align-items":"center"}},{default:o(()=>[l(c(ye))]),_:2},1032,["onClick"])]),y.value.length?(b(),O(G,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:I=>n.eliminar(y.value[W]),disabled:""},{default:o(()=>[l(m,{type:"true",onClick:e[1]||(e[1]=()=>{}),size:"small",style:{background:"#f3f3f3",height:"30px",border:"solid 1px #d9d9d9",display:"flex","align-items":"center"}},{default:o(()=>[l(c(Ce))]),_:1})]),_:2},1032,["onConfirm"])):k("",!0)])):k("",!0)]),_:1},8,["data-source"]),l(J,{current:C.value,"onUpdate:current":e[2]||(e[2]=t=>C.value=t),total:q.value,"show-less-items":""},null,8,["current","total"])]),s("div",null,[l(Q,{visible:_.value,"onUpdate:visible":e[20]||(e[20]=t=>_.value=t),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:o(()=>[l(P,null,{default:o(()=>[l(i,{span:24},{default:o(()=>[l(L,{bordered:!1},{default:o(()=>[l(K,{model:a,rules:n.formRules},{default:o(()=>[l(P,{gutter:16},{default:o(()=>[l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[24]||(e[24]=s("label",null,"Tipo Doc",-1)),l(d,null,{default:o(()=>[l(U,{value:a.tipo_doc,"onUpdate:value":e[3]||(e[3]=t=>a.tipo_doc=t)},{default:o(()=>[l(v,{value:1},{default:o(()=>e[22]||(e[22]=[p("DNI")])),_:1}),l(v,{value:3},{default:o(()=>e[23]||(e[23]=[p("Carné Ext.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[25]||(e[25]=s("label",null,"DNI",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:o(()=>[l(u,{value:a.nro_doc,"onUpdate:value":e[4]||(e[4]=t=>a.nro_doc=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[26]||(e[26]=s("label",null,"Ap. Paterno",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:o(()=>[l(u,{value:a.primer_apellido,"onUpdate:value":e[5]||(e[5]=t=>a.primer_apellido=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[27]||(e[27]=s("label",null,"Ap. Materno",-1)),l(d,null,{default:o(()=>[l(u,{value:a.segundo_apellido,"onUpdate:value":e[6]||(e[6]=t=>a.segundo_apellido=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[28]||(e[28]=s("label",null,"Ap. Casada",-1)),l(d,null,{default:o(()=>[l(u,{value:a.apellido_casada,"onUpdate:value":e[7]||(e[7]=t=>a.apellido_casada=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[29]||(e[29]=s("label",null,"Nombres",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:o(()=>[l(u,{value:a.nombres,"onUpdate:value":e[8]||(e[8]=t=>a.nombres=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[32]||(e[32]=s("label",null,"Sexo",-1)),l(d,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:o(()=>[l(U,{value:a.sexo,"onUpdate:value":e[9]||(e[9]=t=>a.sexo=t)},{default:o(()=>[l(v,{value:"1"},{default:o(()=>e[30]||(e[30]=[p("Masculino")])),_:1}),l(v,{value:"2"},{default:o(()=>e[31]||(e[31]=[p("Femenino")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[33]||(e[33]=s("label",null,"Fec. Nacimiento",-1)),l(d,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:o(()=>[l(Z,{style:{width:"100%"},value:a.fec_nacimiento,"onUpdate:value":e[10]||(e[10]=t=>a.fec_nacimiento=t),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[34]||(e[34]=s("label",null,"Ubigeo Nacimiento",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:o(()=>[l(u,{value:a.ubigeo_nacimiento,"onUpdate:value":e[11]||(e[11]=t=>a.ubigeo_nacimiento=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[35]||(e[35]=s("label",null,"Ubigeo residencia",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:o(()=>[l(u,{value:a.ubigeo_residencia,"onUpdate:value":e[12]||(e[12]=t=>a.ubigeo_residencia=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[36]||(e[36]=s("label",null,"Celular",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:o(()=>[l(u,{value:a.celular,"onUpdate:value":e[13]||(e[13]=t=>a.celular=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[37]||(e[37]=s("label",null,"Correo",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:o(()=>[l(u,{value:a.email,"onUpdate:value":e[14]||(e[14]=t=>a.email=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[40]||(e[40]=s("label",null,"Estado Civil",-1)),l(d,null,{default:o(()=>[l(U,{value:a.estado_civil,"onUpdate:value":e[15]||(e[15]=t=>a.estado_civil=t)},{default:o(()=>[l(v,{value:"1"},{default:o(()=>e[38]||(e[38]=[p("Soltero")])),_:1}),l(v,{value:"2"},{default:o(()=>e[39]||(e[39]=[p("Casado")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[41]||(e[41]=s("label",null,"Dirección",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:o(()=>[l(u,{value:a.direccion,"onUpdate:value":e[16]||(e[16]=t=>a.direccion=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[l(d,null,{default:o(()=>[e[42]||(e[42]=s("label",null,"Año egreso",-1)),l(u,{value:a.anio_egreso,"onUpdate:value":e[17]||(e[17]=t=>a.anio_egreso=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[43]||(e[43]=s("label",null,"Observaciones",-1)),l(d,null,{default:o(()=>[l(u,{value:a.observaciones,"onUpdate:value":e[18]||(e[18]=t=>a.observaciones=t)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),l(P,null,{default:o(()=>[l(i,null,{default:o(()=>[s("div",Ne,[l(m,{onClick:e[19]||(e[19]=t=>_.value=!1)},{default:o(()=>e[44]||(e[44]=[p(" Cancelar ")])),_:1}),l(m,{type:"primary",onClick:$},{default:o(()=>e[45]||(e[45]=[p("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{Ye as default};
