import{a as t,r as g,e as D,C as K,D as Q,o as d,c as _,u as C,w as o,d as c,F as L,y as j,M as ee,Z as te,b as s,t as I,f as m,E as w,G as oe,n as ae,B as ne,I as le,_ as se,h as ie,i as de,k as re,j as ue,S as ce,N as me,q as pe}from"./app-2058c8a9.js";import{_ as fe}from"./AuthenticatedLayout-4906934e.js";import{P as ve}from"./PrinterOutlined-fd4441ee.js";import{A as _e}from"./AntdIcon-5ed3d5e4.js";import{S as ge}from"./SearchOutlined-a09fa8b0.js";import{E as ye}from"./EyeOutlined-bce73142.js";import"./logotiny-c4b525af.js";import"./Header-18b1c1b1.js";import"./DownOutlined-d7c6d8bb.js";/* empty css                                                            */var be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const Ce=be;function B(v){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?Object(arguments[r]):{},p=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(i).filter(function(y){return Object.getOwnPropertyDescriptor(i,y).enumerable}))),p.forEach(function(y){Ie(v,y,i[y])})}return v}function Ie(v,r,i){return r in v?Object.defineProperty(v,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):v[r]=i,v}var N=function(r,i){var p=B({},r,i.attrs);return t(_e,B({},p,{icon:Ce}),null)};N.displayName="SyncOutlined";N.inheritAttrs=!1;const ke=N;const we={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},Ee={class:"mr-3"},xe={class:"flex"},he={class:"mr-3"},Se={class:"flex justify-between",style:{position:"relative"}},Oe={style:{}},Ae={key:0},Ne={style:{"font-size":".8rem"}},Pe={key:1},Re={style:{"font-size":".9rem"}},Fe={key:2},ze={style:{"font-size":".9rem"}},De={key:3,class:"flex",style:{"justify-content":"center"}},Le={key:4,class:"flex",style:{"justify-content":"center"}},je={key:0},Be={key:1},Ve={class:"flex",style:{"justify-content":"flex-end"}},He={__name:"Lista",setup(v){const r=window.location.origin,i=g(""),p=g(1),y=g(null),E=g(!1);g("");const x=g([]),l=g({id:null,codigo:"",nombre:"",nivel_academico:"CARRERA PROFESIONAL",tipo_autorizacion:"RECONOCIDO POR LIC.",id_facultad:1,estado:!0,area:"BIOMEDICAS"}),S=()=>{E.value=!0};let P;D(i,(a,e)=>{clearTimeout(P),P=setTimeout(()=>{h()},500)}),D(p,(a,e)=>{h()});const V=a=>{var e=document.createElement("iframe");e.style.display="none",e.src=r+a,document.body.appendChild(e),e.contentWindow.focus(),e.contentWindow.print()},U=a=>{var e=document.createElement("iframe");e.style.display="none",e.src=r+"/admin/pdf-biometrio/"+a,document.body.appendChild(e),e.contentWindow.focus(),e.contentWindow.print()},h=async(a="")=>{let e=await j.post("get-control-posterior?page="+p.value,{term:i.value});x.value=e.data.datos.data,y.value=e.data.datos.total},M=()=>{let a={id:l.value.id,codigo:l.value.codigo,nombre:l.value.nombre,nivel_academico:l.value.nivel_academico,tipo_autorizacion:l.value.tipo_autorizacion,estado:l.value.estado,id_facultad:l.value.id_facultad,area:l.value.area};j.post("save-programa",a).then(e=>{h(),T("success",e.data.titulo,e.data.mensaje),E.value=!1,l.value.codigo=null,l.value.id=null,l.value.nombre=""})},G=[{title:"Cod",dataIndex:"codigo_ingreso",width:"65px",align:"center",responsive:["md"]},{title:"N° Doc",dataIndex:"nro_doc",width:"80px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombre"},{title:"Programa",dataIndex:"programa"},{title:"Modalidad",dataIndex:"modalidad",align:"center",width:"130px",responsive:["md"]},{title:"Puntaje",dataIndex:"puntaje_total",align:"center",width:"80px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],R=g([]),$=a=>{console.log("selectedRowKeys changed: ",a),R.value=a};K(()=>({selectedRowKeys:C(R),onChange:$,hideDefaultSelections:!0}));const T=(a,e,f)=>{ae[a]({message:e,description:f})};return h(),(a,e)=>{const f=ne,O=le,W=Q("row"),b=se,X=ie,q=de,k=re,F=ue,A=ce,Y=me,Z=pe,H=ee;return d(),_(L,null,[t(C(te),{title:"Control biométrico"}),t(fe,null,{default:o(()=>[c("div",we,[t(W,{class:"flex justify-between mb-4"},{default:o(()=>[c("div",Ee,[t(f,{type:"error",style:{"border-radius":"5px",color:"white",background:"cornflowerblue",border:"none"},onClick:S},{default:o(()=>e[9]||(e[9]=[s("FILTRAR")])),_:1})]),c("div",xe,[c("div",he,[t(f,{type:"error",style:{"border-radius":"5px",color:"white",background:"crimson",border:"none"},onClick:S},{default:o(()=>e[10]||(e[10]=[s("PDF")])),_:1}),t(f,{class:"ml-2",type:"primary",style:{border:"none","border-radius":"5px",background:"green"},onClick:S},{default:o(()=>e[11]||(e[11]=[s("XLSX")])),_:1})]),c("div",Se,[t(O,{type:"text",placeholder:"Buscar",value:i.value,"onUpdate:value":e[0]||(e[0]=n=>i.value=n),style:{"max-width":"300px","padding-left":"10px"}},{prefix:o(()=>[t(C(ge))]),_:1},8,["value"])])])]),_:1}),c("div",Oe,[t(X,{columns:G,"data-source":x.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:o(({column:n,index:z,record:u})=>[n.dataIndex==="codigo"?(d(),_("div",Ae,[c("span",Ne,I(u.codigo),1)])):m("",!0),n.dataIndex==="nro_doc"?(d(),_("div",Pe,[c("span",Re,I(u.nro_doc),1)])):m("",!0),n.dataIndex==="nombre"?(d(),_("div",Fe,[c("span",ze,I(u.primer_apellido)+" "+I(u.segundo_apellido)+", "+I(u.nombres),1)])):m("",!0),n.dataIndex==="modalidad"?(d(),_("div",De,[u.modalidad=="GENERAL"?(d(),w(b,{key:0,style:{"font-size":".8rem"},color:"blue"},{default:o(()=>e[12]||(e[12]=[s(" GENERAL ")])),_:1})):m("",!0),u.modalidad=="CONADIS"?(d(),w(b,{key:1,style:{"font-size":".8rem"},color:"orange"},{default:o(()=>e[13]||(e[13]=[s(" CONADIS ")])),_:1})):m("",!0),u.modalidad=="CEPREUNA"?(d(),w(b,{key:2,style:{"font-size":".8rem"},color:"purple"},{default:o(()=>e[14]||(e[14]=[s(" CEPREUNA")])),_:1})):m("",!0),u.modalidad=="BENEFICIARIOS DEL PLAN INTEGRAL DE REPARACIONES (PIR)"?(d(),w(b,{key:3,style:{"font-size":".8rem"},color:"pink"},{default:o(()=>e[15]||(e[15]=[s("LEY DE REPARACIONES")])),_:1})):(d(),w(b,{key:4,style:{"font-size":".7rem"},color:"pink"},{default:o(()=>[s(I(u.modalidad),1)]),_:2},1024))])):m("",!0),n.dataIndex==="estado"?(d(),_("div",Le,[x.value[z].estado==1?(d(),_("div",je,[t(b,{color:"green"},{default:o(()=>e[16]||(e[16]=[s("Si")])),_:1})])):m("",!0),x.value[z].estado==0?(d(),_("div",Be,[t(b,{color:"red"},{default:o(()=>e[17]||(e[17]=[s("No")])),_:1})])):m("",!0)])):m("",!0),n.dataIndex==="acciones"?(d(),_(L,{key:5},[t(f,{type:"",onClick:J=>V(u.url),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:o(()=>[t(C(ve))]),_:2},1032,["onClick"]),t(f,{type:"",onClick:J=>U(u.nro_doc),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:o(()=>[t(C(ke))]),_:2},1032,["onClick"]),t(f,{class:"",style:{"border-radius":"4px",background:"none",color:"cornflowerblue"},shape:"",size:"small"},{icon:o(()=>[t(C(ye))]),_:1})],64)):m("",!0)]),_:1},8,["data-source"])]),c("div",Ve,[t(q,{current:p.value,"onUpdate:current":e[1]||(e[1]=n=>p.value=n),simple:"","page-size":"50",total:y.value},null,8,["current","total"])])])]),_:1}),c("div",null,[t(H,{visible:E.value,"onUpdate:visible":e[8]||(e[8]=n=>E.value=n),title:l.value.id==null?"Nuevo Programa":"Editar Programa",style:{"margin-top":"-40px"}},{footer:o(()=>[t(f,{style:{"margin-left":"10px"},onClick:a.resetForm},{default:o(()=>e[21]||(e[21]=[s("Cancelar")])),_:1},8,["onClick"]),t(f,{type:"primary",onClick:e[7]||(e[7]=n=>M())},{default:o(()=>e[22]||(e[22]=[s("Guardar")])),_:1})]),default:o(()=>[t(Z,oe({ref:"formRef",name:"custom-validation",model:a.formState,rules:a.rules},a.layout,{onFinish:a.handleFinish,onValidate:a.handleValidate,onFinishFailed:a.handleFinishFailed}),{default:o(()=>[t(k,{"has-feedback":"",label:"Codigo",name:"codigo"},{default:o(()=>[t(O,{type:"text",value:l.value.codigo,"onUpdate:value":e[2]||(e[2]=n=>l.value.codigo=n),autocomplete:"off"},null,8,["value"])]),_:1}),t(k,{"has-feedback":"",label:"Nombre",name:"nombre"},{default:o(()=>[t(O,{type:"text",value:l.value.nombre,"onUpdate:value":e[3]||(e[3]=n=>l.value.nombre=n),autocomplete:"off"},null,8,["value"])]),_:1}),t(k,{"has-feedback":"",label:"Facultad",name:"facultad"},{default:o(()=>[t(F,{options:a.facultades,ref:"Tipo",style:{width:"100%"},onFocus:a.focus,onChange:a.handleChange,value:l.value.id_facultad,"onUpdate:value":e[4]||(e[4]=n=>l.value.id_facultad=n)},null,8,["options","onFocus","onChange","value"])]),_:1}),t(k,{"has-feedback":"",label:"Area",name:"area"},{default:o(()=>[t(F,{style:{width:"100%"},onFocus:a.focus,onChange:a.handleChange,value:l.value.area,"onUpdate:value":e[5]||(e[5]=n=>l.value.area=n)},{default:o(()=>[t(A,{value:"BIOMÉDICAS"},{default:o(()=>e[18]||(e[18]=[s(" BIOMEDICAS ")])),_:1}),t(A,{value:"INGENIERÍAS"},{default:o(()=>e[19]||(e[19]=[s(" INGENIERÍAS ")])),_:1}),t(A,{value:"SOCIALES"},{default:o(()=>e[20]||(e[20]=[s(" SOCIALES ")])),_:1})]),_:1},8,["onFocus","onChange","value"])]),_:1}),t(k,{"has-feedback":"",label:"Vigente",name:"estado"},{default:o(()=>[t(Y,{checked:l.value.estado,"onUpdate:checked":e[6]||(e[6]=n=>l.value.estado=n)},null,8,["checked"])]),_:1})]),_:1},16,["model","rules","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible","title"])])],64)}}};export{He as default};
