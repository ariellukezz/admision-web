import{r as m,e as V,c,a as e,u as x,w as a,F as C,o as u,X as ue,d as s,t as U,b as t,f as r,D as ce,E as R,G as W,x as re,g as p,p as pe,h as _e}from"./app-a524bd79.js";import{A as ve}from"./AuthenticatedLayout-5ec720be.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{F as X}from"./FormOutlined-4f5f7485.js";import"./DropdownLink-8aad3e5d.js";import"./logotiny-c4b525af.js";const fe=f=>(pe("data-v-14f58e3e"),f=f(),_e(),f),ge={style:{padding:"0px 15px"}},ye={class:"flex justify-end"},he=fe(()=>s("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),be={style:{height:"34px"}},ke={style:{"font-weight":"700",color:"black","font-size":".7rem"}},xe={style:{"margin-top":"-10px"}},Ie={style:{"font-size":".8rem","text-transform":"uppercase"}},Ce={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},Se={class:"container-principal"},we={class:"container-postulante"},Ee={class:"mr-3 container-imagen"},Pe=["src"],Ae=["src"],Ue={class:"datos-postulante"},Me={class:"mb-2"},De={class:"mb-2"},Ne={class:"mb-2"},Be={class:"flex"},Ve={class:"mr-3"},Fe={style:{width:"100%"}},ze={class:"container-postulante mb-2"},je={style:{width:"100%"}},Oe={class:"container-postulante mb-2"},Ke={style:{width:"100%"}},Te={class:"container-postulante"},$e={style:{width:"100%"}},Le={class:"mb-2"},qe={class:"mt-4 container-huellas"},Ge={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},He=["src"],Re=["src"],We={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Xe=["src"],Qe=["src"],Je={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},Ye={key:0},Ze={key:1},ea={key:0},aa={key:1},ta={class:"flex",style:{"align-items":"center"}},oa={key:0,style:{color:"red","margin-top":"-8px"}},la={key:0},ia={key:1},sa={key:1},na={class:"flex",style:{"align-items":"center"}},da={key:0,style:{color:"red","margin-top":"-8px"}},ua={key:0,type:"primary",ghost:""},ca={key:1,type:"danger",ghost:""},ra=["href"],pa={key:0,type:"primary",ghost:""},_a={key:1,type:"danger",ghost:""},va={__name:"impresion",props:{baseUrl:String},setup(f){const F=m(!1),w=m(""),b=m("1"),_=m(null),z=m(null),M=m(null),j=m([]),i=m({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),O=m([]),D=m([]),N=m([]),Q=()=>{console.log("onSelect",_)},J=o=>{console.log("handleKeyPress",o)},K=async(o="",n=1)=>{let g=await axios.post("/admin/inscripciones/get-postulantes?page="+n,{term:w.value});j.value=g.data.datos.data},Y=async()=>{let o=await axios.get("/admin/inscripciones/get-postulante-dni/"+_.value);i.value.id=o.data.datos.id_postulante,i.value.nombres=o.data.datos.nombres,i.value.primer_apellido=o.data.datos.primer_apellido,i.value.segundo_apellido=o.data.datos.segundo_apellido,i.value.sexo=o.data.datos.sexo,i.value.colegio=o.data.datos.colegio,i.value.procedencia=o.data.datos.departamento+" / "+o.data.datos.provincia+" / "+o.data.datos.distrito,i.value.proceso=o.data.datos.proceso,i.value.modalidad=o.data.datos.modalidad,i.value.programa=o.data.datos.programa,i.value.id_programa=o.data.datos.id_programa,i.value.id_proceso=o.data.datos.id_proceso,i.value.id_modalidad=o.data.datos.id_modalidad,i.value.dni_temp=o.data.datos.dni,F.value=ie(o.data.datos.id_postulante,i.value.id_proceso)},Z=async()=>{let o=await axios.get("/admin/inscripciones/get-apoderados-postulante/"+_.value);O.value=o.data.datos},T=async()=>{let o=await axios.get("/admin/inscripciones/get-vouchers-postulante/"+_.value);D.value=o.data.datos},$=async()=>{let o=await axios.get("/admin/inscripciones/get-documentos-postulante/"+_.value);N.value=o.data.datos},ee=async()=>{let o=await axios.get("/admin/inscripciones/get-preinscripciones-postulante/"+_.value);z.value=o.data.datos},L=async()=>{let o=await axios.get("/admin/inscripciones/get-inscripciones-postulante/"+_.value);M.value=o.data.datos},q=async()=>{await axios.post("/admin/inscripciones/inscribir",{postulante:i.value}),ae(_.value),_.value="",w.value="",i.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};V(w,(o,n)=>{K()}),V(_,(o,n)=>{L(),Y(),T(),$()}),V(b,(o,n)=>{b.value==2&&Z(),b.value==3&&T(),b.value==4&&$(),b.value==5&&L(),b.value==6&&ee()});const ae=o=>{var n=document.createElement("iframe");n.style.display="none",n.src="https://admision-web.test/documentos/cepre2023-II/"+o+"/inscripcion-1.pdf",document.body.appendChild(n),n.contentWindow.focus(),n.contentWindow.print()},te=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],oe=[{title:"N° Operación",dataIndex:"operacion",key:"operacion"},{title:"Fecha",dataIndex:"fecha",key:"fecha"},{title:"Hora",dataIndex:"hora",key:"hora"},{title:"Concepto",dataIndex:"codigo",key:"codigo"},{title:"Monto",dataIndex:"monto",key:"monto"}],le=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"estado",key:"estado"},{title:"Acciones",dataIndex:"acciones"}],ie=(o,n)=>!!M.value.find(E=>E.id_postulante===o&&E.id_proceso===n),se=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return K(),(o,n)=>{const g=p("a-input"),E=p("a-auto-complete"),y=p("a-label"),ne=p("a-date-picker"),l=p("a-select-option"),B=p("a-select"),G=p("a-col"),I=p("a-button"),S=p("a-tab-pane"),k=p("a-tag"),H=p("a-divider"),P=p("a-table"),de=p("a-tabs");return u(),c(C,null,[e(x(ue),{title:"Inscripciones-impresión"}),e(ve,null,{default:a(()=>[s("div",null,[e(de,{activeKey:b.value,"onUpdate:activeKey":n[12]||(n[12]=d=>b.value=d),type:"card"},{default:a(()=>[e(S,{key:"1",tab:"Inscripcion"},{default:a(()=>[s("div",ge,[s("div",ye,[s("div",null,[he,e(E,{value:_.value,"onUpdate:value":n[1]||(n[1]=d=>_.value=d),options:j.value,style:{width:"300px"},onSelect:Q,onSearch:o.onSearch},{option:a(({value:d,label:h})=>[s("div",be,[s("div",null,[s("span",ke,U(d),1)]),s("div",xe,[s("span",Ie,U(h),1)])])]),default:a(()=>[e(g,{placeholder:"Buscar",value:w.value,"onUpdate:value":n[0]||(n[0]=d=>w.value=d),onKeypress:J},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),s("div",Ce,[s("div",Se,[e(G,{flex:"1 1"},{default:a(()=>[s("div",we,[s("div",Ee,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:f.baseUrl+"/fotos/inscripcion/"+i.value.dni_temp+".jpg"},null,8,Pe)):(u(),c("img",{key:1,src:f.baseUrl+"/fotos/postulantex.jpg"},null,8,Ae))]),s("div",Ue,[s("div",Me,[e(y,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(g,{value:i.value.primer_apellido,"onUpdate:value":n[2]||(n[2]=d=>i.value.primer_apellido=d),placeholder:"Primer apellido"},null,8,["value"])]),s("div",De,[e(y,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(g,{value:i.value.segundo_apellido,"onUpdate:value":n[3]||(n[3]=d=>i.value.segundo_apellido=d),placeholder:"Segundo apellido"},null,8,["value"])]),s("div",Ne,[e(y,null,{default:a(()=>[t("Prenombres")]),_:1}),e(g,{value:i.value.nombres,"onUpdate:value":n[4]||(n[4]=d=>i.value.nombres=d),placeholder:"Pre_nombres"},null,8,["value"])]),s("div",Be,[s("div",Ve,[e(y,null,{default:a(()=>[t("Fecha Nac")]),_:1}),s("div",null,[e(ne,{value:o.fecha,"onUpdate:value":n[5]||(n[5]=d=>o.fecha=d)},null,8,["value"])])]),s("div",Fe,[e(y,null,{default:a(()=>[t("Sexo")]),_:1}),e(B,{ref:"select",value:i.value.sexo,"onUpdate:value":n[6]||(n[6]=d=>i.value.sexo=d),style:{width:"100%"}},{default:a(()=>[e(l,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(l,{value:"0"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),s("div",null,[s("div",ze,[s("div",je,[e(y,null,{default:a(()=>[t("Colegio")]),_:1}),e(g,{value:i.value.colegio,"onUpdate:value":n[7]||(n[7]=d=>i.value.colegio=d),placeholder:"Basic usage"},null,8,["value"])])]),s("div",Oe,[s("div",Ke,[e(y,null,{default:a(()=>[t("Procedencia")]),_:1}),e(g,{value:i.value.procedencia,"onUpdate:value":n[8]||(n[8]=d=>i.value.procedencia=d),placeholder:"Basic usage"},null,8,["value"])])]),s("div",Te,[s("div",$e,[e(y,null,{default:a(()=>[t("Proceso")]),_:1}),e(g,{value:i.value.proceso,"onUpdate:value":n[9]||(n[9]=d=>i.value.proceso=d),placeholder:"Basic usage"},null,8,["value"])])])])]),_:1}),e(G,{flex:"0 1 400px"},{default:a(()=>[s("div",null,[s("div",Le,[e(y,null,{default:a(()=>[t("Modalidad")]),_:1}),e(B,{ref:"select",value:i.value.modalidad,"onUpdate:value":n[10]||(n[10]=d=>i.value.modalidad=d),style:{width:"100%"}},{default:a(()=>[e(l,{value:7},{default:a(()=>[t("PERSONAS CON DISCAPACIDAD")]),_:1}),e(l,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(l,{value:9},{default:a(()=>[t("CEPREUNA")]),_:1})]),_:1},8,["value"])]),s("div",null,[e(y,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(B,{ref:"select",value:i.value.programa,"onUpdate:value":n[11]||(n[11]=d=>i.value.programa=d),style:{width:"100%"},disabled:!0},{default:a(()=>[e(l,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(l,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(l,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(l,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(l,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(l,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(l,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(l,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(l,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(l,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(l,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(l,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(l,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(l,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(l,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(l,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(l,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(l,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(l,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(l,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(l,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(l,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(l,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(l,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(l,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(l,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(l,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(l,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(l,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),s("div",qe,[s("div",Ge,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:f.baseUrl+"/huellas/inscripcion/"+i.value.dni_temp+".jpg"},null,8,He)):(u(),c("img",{key:1,src:f.baseUrl+"/huellas/huella.jpg"},null,8,Re))]),s("div",We,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:f.baseUrl+"/huellas/inscripcion/"+i.value.dni_temp+"x.jpg"},null,8,Xe)):(u(),c("img",{key:1,src:f.baseUrl+"/huellas/huella.jpg"},null,8,Qe))])])]),_:1})])]),s("div",Je,[F.value==!1?(u(),c("div",Ye,[e(I,{type:"primary",onClick:q},{default:a(()=>[t("Inscribir")]),_:1})])):(u(),c("div",Ze,[e(I,{type:"primary",disabled:"",onClick:q},{default:a(()=>[t("Inscribir")]),_:1})]))])])]),_:1}),e(S,{key:"2",tab:"Apoderados"},{default:a(()=>[e(P,{dataSource:O.value,columns:te},{bodyCell:a(({column:d,index:h,record:v})=>[d.dataIndex==="parentesco"?(u(),c(C,{key:0},[v.parentesco=="Padre"?(u(),c("div",ea,[e(k,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):r("",!0),v.parentesco=="Madre"?(u(),c("div",aa,[e(k,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):r("",!0)],64)):r("",!0),d.dataIndex==="acciones"?(u(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:A=>o.abrirEditar(o.filiales[h]),size:"small"},{icon:a(()=>[e(x(X))]),_:2},1032,["onClick"]),e(H,{type:"vertical"}),e(I,{type:"danger",disabled:"",onClick:A=>o.eliminar(o.filiales[h]),shape:"",size:"small"},{icon:a(()=>[e(x(ce))]),_:2},1032,["onClick"])],64)):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"3",style:{}},{tab:a(()=>[s("div",ta,[D.value.length===0&&i.value.dni_temp!==""?(u(),c("div",oa,[s("span",null,[e(x(R))])])):r("",!0),t(" vouchers ")])]),default:a(()=>[e(P,{dataSource:D.value,columns:oe},{bodyCell:a(({column:d,index:h,record:v})=>[d.dataIndex==="codigo"?(u(),c(C,{key:0},[v.codigo==26?(u(),c("div",la,[e(k,{color:"green"},{default:a(()=>[t(" Derechos de admisión ")]),_:1})])):r("",!0),v.codigo==39?(u(),c("div",ia,[e(k,{color:"pink"},{default:a(()=>[t(" Examen médico ")]),_:1})])):r("",!0)],64)):r("",!0),d.dataIndex==="monto"?(u(),c("div",sa,[s("span",null,"S/ "+U(v.monto.toFixed(2)),1)])):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"4"},{tab:a(()=>[s("div",na,[N.value.length<3&&i.value.dni_temp!==""?(u(),c("div",da,[s("span",null,[e(x(R))])])):r("",!0),t(" Documentos ")])]),default:a(()=>[e(P,{dataSource:N.value,columns:le,size:"small"},{bodyCell:a(({column:d,index:h,record:v})=>[d.dataIndex==="estado"?(u(),c(C,{key:0},[v.estado==1?(u(),c("div",ua,[e(k,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(u(),c("div",ca,[e(k,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):r("",!0),d.dataIndex==="acciones"?(u(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:A=>o.abrirEditar(o.filiales[h]),size:"small"},{icon:a(()=>[e(x(X))]),_:2},1032,["onClick"]),e(H,{type:"vertical"}),s("a",{href:"../../"+v.url,target:"_blank"},[e(I,{type:"primary",onClick:A=>o.eliminar(o.filiales[h]),shape:"",size:"small"},{icon:a(()=>[e(x(W))]),_:2},1032,["onClick"])],8,ra)],64)):r("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"5",tab:"Inscripciones"},{default:a(()=>[s("pre",null,U(M.value),1)]),_:1}),e(S,{key:"6",tab:"Pre inscripciones"},{default:a(()=>[e(P,{dataSource:z.value,columns:se,size:"small"},{bodyCell:a(({column:d,index:h,record:v})=>[d.dataIndex==="estado"?(u(),c(C,{key:0},[v.estado==1?(u(),c("div",pa,[e(k,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(u(),c("div",_a,[e(k,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):r("",!0),d.dataIndex==="acciones"?(u(),re(I,{key:1,type:"primary",disabled:"",onClick:A=>o.abrirEditar(o.filiales[h]),size:"small"},{icon:a(()=>[e(x(W))]),_:2},1032,["onClick"])):r("",!0)]),_:1},8,["dataSource"])]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},ka=me(va,[["__scopeId","data-v-14f58e3e"]]);export{ka as default};
