import{r as t,x as ee,e as d,f as c,o as r,c as y,a,u as g,w as s,F as h,j as m,Z as te,d as n,S as ae,k,b as u,t as C,g as w,E as oe,D as se}from"./app-98dcf14e.js";import{L as ne}from"./LayoutSimulacro-c6125283.js";import{F as le}from"./FormOutlined-41b8c7be.js";import"./DropdownLink-fab57382.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-34825a62.js";const ie={class:"mb-4",style:{width:"100%"}},de={style:{background:"white","border-radius":"12px",overflow:"hidden","box-shadow":"rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.03) 0px 10px 10px -5px"}},ce={class:"flex justify-end mt-5 mb-4 mr-4"},re={class:"flex justify-between",style:{position:"relative"}},ue={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},pe={style:{color:"gray"}},ve={class:"flex justify-between mb-6 mt-2 pr-4"},ge={clas:"",style:{scale:"0.9"}},Ie={__name:"index",setup(me){t([]);const _=t(""),f=t(1),z=t(null),v=t(10),F=t(!1),O=t(null),D=t(null),E=t([]),U=t(null);t(!1);const P=t(),N=t(),R=t(),T=t(),q=t(),L=t(),$=t(),Z=t();t();const i=ee({cod_modular:"",nombre:"",cod_local:"",nivel:"",gestion:null,ubigeo:"",direccion:"",observacion:""});t(null);const S=async()=>{m.post("/get-ubigeo",{term:D.value}).then(e=>{E.value=e.data.datos.data,console.log("Datos recibidos:",E)}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},j=t([]),x=async()=>{let e=await m.post("get-pagos-simulacro?page="+f.value,{term:_.value,paginashoja:v.value});j.value=e.data.datos.data,z.value=e.data.datos.total};x();const B=async()=>{let e=await m.post("/get-departamentos-codigo",{term:N.value});P.value=e.data.datos.data},A=async()=>{let e=await m.post("/get-provincias-codigo?page=",{departamento:R.value});T.value=e.data.datos},G=async e=>{let o=await m.post("/get-distritos-codigo?page=",{departamento:R.value,provincia:L.value});$.value=o.data.datos};d(f,(e,o)=>{x()}),d(v,(e,o)=>{x()}),d(_,(e,o)=>{x()}),d(D,(e,o)=>{e.length>=3&&S()}),d(N,(e,o)=>{e.length>=3&&B()}),d(q,(e,o)=>{e.length>=3&&A()}),d(Z,(e,o)=>{e.length>=3&&G()}),d(U,(e,o)=>{e.length>=3&&getColegios()}),B(),S();const H=e=>{F.value=!0,i.id=e.id,i.cod_modular=e.cod_modular,i.nombre=e.nombre,i.cod_local=e.cod_local,i.gestion=e.gestion,i.nivel=e.nivel,i.ubigeo=e.ubigeo,O.value=e.lugar,i.direccion=e.direccion,i.observacion=e.observacion},J=t([{title:"Nro_Doc",dataIndex:"nro_doc"},{title:"Nombres",dataIndex:"nombre",responsive:["xs","sm","md","lg"]},{title:"Concepto",dataIndex:"concepto",responsive:["md"]},{title:"F. Confirmacion",dataIndex:"fec_confirmacion",responsive:["lg"]},{title:"autorizacion",dataIndex:"cod_autorizacion",responsive:["lg"]},{title:"Total",dataIndex:"total",width:"120px",align:"center"},{title:"Comision",dataIndex:"comision",width:"120px",align:"center"},{title:"Tipo",dataIndex:"type",width:"120px",align:"center"},{title:"Estado",dataIndex:"estado",width:"120px",align:"center"}]);return(e,o)=>{const K=c("a-input"),V=c("a-tag"),I=c("a-button"),M=c("a-popconfirm"),Q=c("a-table"),W=c("a-pagination"),b=c("a-select-option"),X=c("a-select");return r(),y(h,null,[a(g(te),{title:"Pagos"}),a(ne,null,{default:s(()=>[n("div",ie,[n("div",de,[n("div",ce,[n("div",re,[a(K,{type:"text",placeholder:"Buscar",value:_.value,"onUpdate:value":o[0]||(o[0]=l=>_.value=l),style:{"max-width":"340px","padding-left":"30px","border-radius":"6px"}},null,8,["value"]),n("div",ue,[a(g(ae))])])]),n("div",null,[a(Q,{dataSource:j.value,size:"",columns:J.value,pagination:!1},{bodyCell:s(({column:l,index:_e,record:p})=>[l.dataIndex==="nro_doc"?(r(),k(V,{key:0,color:"#4f4f4f",style:{width:"80px"}},{default:s(()=>[u(C(p.nro_doc),1)]),_:2},1024)):w("",!0),l.dataIndex==="nombre"?(r(),y(h,{key:1},[n("div",null,[n("span",null,C(p.nombre),1)]),n("div",null,[n("span",pe,C(p.email),1)])],64)):w("",!0),l.dataIndex==="acciones"?(r(),y(h,{key:2},[a(I,{type:"success",class:"mr-1",style:{color:"#476175"},size:"small",disabled:""},{icon:s(()=>[a(g(oe))]),_:1}),a(I,{class:"mr-1",onClick:Y=>H(p),style:{color:"blue"},size:"small",disabled:""},{icon:s(()=>[a(g(le))]),_:2},1032,["onClick"]),a(M,{title:"¿Estas seguro de eliminar?",onConfirm:Y=>e.eliminar(p),disabled:""},{default:s(()=>[a(I,{size:"small",style:{color:"crimson"},disabled:""},{icon:s(()=>[a(g(se),{disabled:""})]),_:1})]),_:2},1032,["onConfirm"])],64)):w("",!0),l.dataIndex==="estado"?(r(),y(h,{key:3},[p.estado===1?(r(),k(V,{key:0,color:"purple",style:{width:"80px"}},{default:s(()=>[u(" inscrito ")]),_:1})):(r(),k(V,{key:1,color:"red",style:{width:"80px"}},{default:s(()=>[u("No inscrito ")]),_:1}))],64)):w("",!0)]),_:1},8,["dataSource","columns"])]),n("div",ve,[n("div",null,[a(W,{current:f.value,"onUpdate:current":o[1]||(o[1]=l=>f.value=l),"page-size":v.value,simple:"",total:z.value,"show-less-items":""},null,8,["current","page-size","total"])]),n("div",ge,[a(X,{value:v.value,"onUpdate:value":o[2]||(o[2]=l=>v.value=l),style:{width:"90px"}},{default:s(()=>[a(b,{value:10},{default:s(()=>[u("10 Reg.")]),_:1}),a(b,{value:20},{default:s(()=>[u("20 Reg.")]),_:1}),a(b,{value:50},{default:s(()=>[u("50 Reg.")]),_:1}),a(b,{value:100},{default:s(()=>[u("100 Reg.")]),_:1})]),_:1},8,["value"])])])])])]),_:1})],64)}}};export{Ie as default};
