import{r as _,m as K,i as Q,e as P,c as k,a as e,u as y,w as a,F as N,q as M,o as w,X as W,d as s,b as c,S as Z,t as q,f as I,l as h,D as ee,s as le,n as ae,g as u}from"./app-da423e2d.js";import{A as oe}from"./AuthenticatedLayout-3442347c.js";import{f as te}from"./index-22fbcdac.js";import{F as ne}from"./FormOutlined-dd356abb.js";import"./DropdownLink-4ed40445.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";const se={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},ie={class:"mr-3"},de={class:"flex justify-between",style:{position:"relative"}},ue={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},re=s("label",null,"DNI",-1),_e=s("label",null,"Ap. Paterno",-1),ce=s("label",null,"Ap. Materno",-1),me=s("label",null,"Ap. Casada",-1),pe=s("label",null,"Nombres",-1),ve=s("label",null,"Sexo",-1),fe=s("label",null,"Fec. Nacimiento",-1),ge=s("label",null,"Ubigeo Nacimiento",-1),be=s("label",null,"Ubigeo residencia",-1),xe=s("label",null,"Celular",-1),ye=s("label",null,"Correo",-1),we=s("label",null,"Estado Civil",-1),Ue=s("label",null,"Dirección",-1),Ce=s("label",null,"Año egreso",-1),Pe=s("label",null,"Observaciones",-1),ke=s("label",null,"Colegio",-1),Ne={class:"flex justify-end"},Be={__name:"index",setup(qe){_("");const F=n=>{m.value=!0,l.id=n.id,l.nro_doc=n.nro_doc,l.primer_apellido=n.primer_apellido,l.segundo_apellido=n.segundo_apellido,l.apellido_casada=n.apellido_casada,l.nombres=n.nombres,l.sexo=n.sexo,l.fec_nacimiento=le(n.fec_nacimiento),l.ubigeo_nacimiento=n.ubigeo_nacimiento,l.ubigeo_residencia=n.ubigeo_residencia,l.celular=n.celular,l.email=n.email,l.estado_civil=n.estado_civil,l.direccion=n.direccion,l.anio_egreso=n.anio_egreso,l.observaciones=n.observaciones,l.id_colegio=n.id_colegio},l=K({nro_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),A=async()=>{let n=await M.post("save-postulante-admin",{id:l.id,nro_doc:l.nro_doc,primer_apellido:l.primer_apellido,segundo_apellido:l.segundo_apellido,apellido_casada:l.apellido_casada,nombres:l.nombres,sexo:l.sexo,fec_nacimiento:te(new Date(l.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:l.ubigeo_nacimiento,ubigeo_residencia:l.ubigeo_residencia,celular:l.celular,correo:l.email,estado_civil:l.estado_civil,direccion:l.direccion,egreso:l.anio_egreso,observaciones:l.observaciones,colegio:l.id_colegio});n.data.estado===!0&&E(n.data.tipo,n.data.titulo,n.data.mensaje)};Q(()=>{});const v=_(""),f=_([]);_([]);const m=_(!1),g=_(1),D=_(null),j=_({id:null,codigo:"",nombre:""}),B=()=>{m.value=!0};P(v,(n,o)=>{U()}),P(m,(n,o)=>{m.value==!1&&j.value.id!=null&&(l=null)});const U=async()=>{let n=await M.post("get-postulantes-admin?page="+g.value,{term:v.value});f.value=n.data.datos.data,D.value=n.data.datos.total},S=[{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],E=(n,o,p)=>{ae[n]({message:o,description:p})};return P(g,(n,o)=>{U()}),U(),(n,o)=>{const p=u("a-button"),r=u("a-input"),O=u("row"),Y=u("a-divider"),z=u("a-popconfirm"),$=u("a-table"),R=u("a-pagination"),d=u("a-form-item"),i=u("a-col"),b=u("a-select-option"),V=u("a-select"),G=u("a-date-picker"),C=u("a-row"),L=u("a-form"),T=u("a-card"),X=u("a-modal");return w(),k(N,null,[e(y(W),{title:"Postulantes"}),e(oe,null,{default:a(()=>[s("div",se,[e(O,{class:"flex justify-between mb-4"},{default:a(()=>[s("div",ie,[e(p,{type:"primary",onClick:B},{default:a(()=>[c("Nuevo")]),_:1})]),s("div",de,[e(r,{type:"text",placeholder:"Buscar",value:v.value,"onUpdate:value":o[0]||(o[0]=t=>v.value=t),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),s("div",ue,[e(y(Z))])])]),_:1}),e($,{columns:S,"data-source":f.value,pagination:!1,size:"small"},{bodyCell:a(({column:t,index:H,record:x})=>[t.dataIndex==="nombres"?(w(),k(N,{key:0},[c(q(x.nombres)+" "+q(x.primer_apellido)+" "+q(x.segundo_apellido),1)],64)):I("",!0),t.dataIndex==="acciones"?(w(),k(N,{key:1},[e(p,{type:"primary",onClick:J=>F(x),size:"small"},{icon:a(()=>[e(y(ne))]),_:2},1032,["onClick"]),e(Y,{type:"vertical"}),f.value.length?(w(),h(z,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:J=>n.eliminar(f.value[H])},{default:a(()=>[e(p,{type:"danger",shape:"",size:"small"},{icon:a(()=>[e(y(ee))]),_:1})]),_:2},1032,["onConfirm"])):I("",!0)],64)):I("",!0)]),_:1},8,["data-source"]),e(R,{current:g.value,"onUpdate:current":o[1]||(o[1]=t=>g.value=t),total:D.value,"show-less-items":""},null,8,["current","total"])]),s("div",null,[e(X,{visible:m.value,"onUpdate:visible":o[19]||(o[19]=t=>m.value=t),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:a(()=>[e(C,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[e(T,{title:"Formulario de Postulante",bordered:!1},{default:a(()=>[e(L,{model:l,rules:n.formRules},{default:a(()=>[e(C,{gutter:16},{default:a(()=>[e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[re,e(d,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:a(()=>[e(r,{value:l.nro_doc,"onUpdate:value":o[2]||(o[2]=t=>l.nro_doc=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[_e,e(d,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:a(()=>[e(r,{value:l.primer_apellido,"onUpdate:value":o[3]||(o[3]=t=>l.primer_apellido=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ce,e(d,null,{default:a(()=>[e(r,{value:l.segundo_apellido,"onUpdate:value":o[4]||(o[4]=t=>l.segundo_apellido=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[me,e(d,null,{default:a(()=>[e(r,{value:l.apellido_casada,"onUpdate:value":o[5]||(o[5]=t=>l.apellido_casada=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[pe,e(d,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:a(()=>[e(r,{value:l.nombres,"onUpdate:value":o[6]||(o[6]=t=>l.nombres=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ve,e(d,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:a(()=>[e(V,{value:l.sexo,"onUpdate:value":o[7]||(o[7]=t=>l.sexo=t)},{default:a(()=>[e(b,{value:"1"},{default:a(()=>[c("Masculino")]),_:1}),e(b,{value:"2"},{default:a(()=>[c("Femenino")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[fe,e(d,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:a(()=>[e(G,{style:{width:"100%"},value:l.fec_nacimiento,"onUpdate:value":o[8]||(o[8]=t=>l.fec_nacimiento=t),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ge,e(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:a(()=>[e(r,{value:l.ubigeo_nacimiento,"onUpdate:value":o[9]||(o[9]=t=>l.ubigeo_nacimiento=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[be,e(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:a(()=>[e(r,{value:l.ubigeo_residencia,"onUpdate:value":o[10]||(o[10]=t=>l.ubigeo_residencia=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[xe,e(d,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:a(()=>[e(r,{value:l.celular,"onUpdate:value":o[11]||(o[11]=t=>l.celular=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ye,e(d,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:a(()=>[e(r,{value:l.email,"onUpdate:value":o[12]||(o[12]=t=>l.email=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[we,e(d,null,{default:a(()=>[e(V,{value:l.estado_civil,"onUpdate:value":o[13]||(o[13]=t=>l.estado_civil=t)},{default:a(()=>[e(b,{value:"1"},{default:a(()=>[c("Soltero")]),_:1}),e(b,{value:"2"},{default:a(()=>[c("Casado")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Ue,e(d,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:a(()=>[e(r,{value:l.direccion,"onUpdate:value":o[14]||(o[14]=t=>l.direccion=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(d,null,{default:a(()=>[Ce,e(r,{value:l.anio_egreso,"onUpdate:value":o[15]||(o[15]=t=>l.anio_egreso=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[Pe,e(d,null,{default:a(()=>[e(r,{value:l.observaciones,"onUpdate:value":o[16]||(o[16]=t=>l.observaciones=t)},null,8,["value"])]),_:1})]),_:1}),e(i,{xs:24,sm:12,md:8,lg:6},{default:a(()=>[ke,e(d,null,{default:a(()=>[e(r,{value:l.id_colegio,"onUpdate:value":o[17]||(o[17]=t=>l.id_colegio=t)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(C,null,{default:a(()=>[e(i,null,{default:a(()=>[s("div",Ne,[e(p,{onClick:o[18]||(o[18]=t=>m.value=!1)},{default:a(()=>[c(" Cancelar ")]),_:1}),e(p,{type:"primary",onClick:A},{default:a(()=>[c("Guardar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{Be as default};
