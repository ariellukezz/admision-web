import{r as p,q as I,f as u,o as _,c as h,d as t,a as l,w as r,t as i,l as d,F as P,i as k,s as j,G as E,b as N,p as S,h as T}from"./app-7c4d3c52.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const D="/build/assets/Veterinaria-b66778be.png";const V=n=>(S("data-v-59b86e6f"),n=n(),T(),n),q={class:"flex justify-center"},z={style:{width:"100%",background:"#cdcdcdc","max-width":"1000px","margin-top":"20px"}},A=["onClick"],F={style:{display:"flex","justify-content":"space-between",width:"100%","align-items":"center"}},R={style:{width:"calc(100% - 50px)"}},$={style:{"font-size":".8rem","text-transform":"capitalize"}},G=V(()=>t("div",{class:"flex justify-center",style:{width:"50px",height:"60px","align-items":"center"}},[t("img",{src:D,width:"50px"})],-1)),L={__name:"carrerasPrevias",setup(n){const s=p(null),c=p("76701665"),a=p([{codigo:"150570",career:"Ing. de Sistemas",cod_car:39},{codigo:"164098",career:"Enfermería",cod_car:23},{codigo:"202341",career:"Nutricion",cod_car:27}]),y=async()=>{s.value=null;const e=await d.get("/get-data-prisma/"+c.value);e.estado===!0&&(s.value=e.data.datos),x()},x=async()=>{if(console.log(c.value),s.value!=null){const e=await d.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:s.value.dni,nom_:s.value.nombre,app_:s.value.paterno,apm_:s.value.materno},{headers:{"Content-Type":"application/json"}});a.value=e.data}else{const e=await d.post("https://service2.unap.edu.pe/TieneCarrerasPrevias/",{doc_:c.value,nom_:"DIRECCIÓN",app_:"ADMISIÓN",apm_:"UNAP"},{headers:{"Content-Type":"application/json"}});a.value=e.data}};y();const b=async()=>{d.post("/registrar-carreras-previas",{carreras:v.value,dni:c.value}).then(e=>{confirmarcion.value=e.data.estado}).catch(e=>{e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)})},w=e=>{e.selected=!e.selected},v=I(()=>{if(a.value)return a.value.filter(e=>e.selected)});return(e,m)=>{const f=u("a-col"),g=u("a-row"),C=u("a-button");return _(),h("div",q,[t("div",z,[l(g,{style:{display:"flex","justify-content":"center"},class:"pb-0"},{default:r(()=>[l(f,{span:24},{default:r(()=>[l(g,{gutter:16,style:{display:"fleX","justify-content":"center"}},{default:r(()=>[(_(!0),h(P,null,k(a.value,o=>(_(),j(f,{key:o,xs:24,sm:24,md:24,lg:24,style:{"margin-bottom":"10px"}},{default:r(()=>[t("div",{onClick:M=>w(o),class:E([{selected:o.selected},"flex p-4"]),style:{height:"80px","border-radius":"5px",cursor:"pointer",border:"solid 1px #d9d9d9","align-items":"center"}},[t("div",F,[t("div",R,[t("span",$,i(o.career),1)]),G])],10,A)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t("div",null,[t("pre",null," "+i(s.value)+" ",1)]),t("p",null,"Elementos seleccionados: "+i(v.value),1),t("div",null,[t("pre",null," "+i(a.value)+" ",1)]),t("div",null,[l(C,{onClick:m[0]||(m[0]=o=>b())},{default:r(()=>[N("Registrar")]),_:1})])])])}}},H=B(L,[["__scopeId","data-v-59b86e6f"]]);export{H as default};
