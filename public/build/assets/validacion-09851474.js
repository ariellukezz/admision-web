import{r as T,e as V,o as k,E as L,w as b,y as D,d as E,a as _,u as C,f as w,c as P,t as M,b as H,F as Y,n as q,I as G,B as J,L as X,_ as K,h as Q,i as W,P as Z,M as tt}from"./app-cb2b04a1.js";import{A as et}from"./LayoutDocente-b4a9414d.js";import{C as B}from"./CopyOutlined-96dfb396.js";import{S as nt}from"./SearchOutlined-4de8140b.js";import{E as it}from"./EyeOutlined-fae3f109.js";import"./DropdownLink-34c08f60.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-29971db6.js";import"./perfil-8f870394.js";/* empty css                                                               */import"./UserOutlined-d22982c2.js";import"./AntdIcon-03e9de4c.js";import"./SafetyCertificateOutlined-b9de7e86.js";import"./EditOutlined-349992f9.js";import"./DownOutlined-93bf85fe.js";/*!
  * @soerenmartius/vue3-clipboard v0.1.2
  * (c) 2021 Soeren Martius
  * @license MIT
  */var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function at(g,S,p){return p={path:S,exports:{},require:function(y,e){return st(y,e??p.path)}},g(p,p.exports),p.exports}function st(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var lt=at(function(g,S){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(y,e){g.exports=e()})(ot,function(){return function(p){var y={};function e(t){if(y[t])return y[t].exports;var i=y[t]={i:t,l:!1,exports:{}};return p[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=p,e.c=y,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(i&1&&(t=e(t)),i&8||i&4&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),i&2&&typeof t!="string")for(var f in t)e.d(s,f,(function(u){return t[u]}).bind(null,f));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=6)}([function(p,y){function e(t){var i;if(t.nodeName==="SELECT")t.focus(),i=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var s=t.hasAttribute("readonly");s||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),s||t.removeAttribute("readonly"),i=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var f=window.getSelection(),u=document.createRange();u.selectNodeContents(t),f.removeAllRanges(),f.addRange(u),i=f.toString()}return i}p.exports=e},function(p,y){function e(){}e.prototype={on:function(t,i,s){var f=this.e||(this.e={});return(f[t]||(f[t]=[])).push({fn:i,ctx:s}),this},once:function(t,i,s){var f=this;function u(){f.off(t,u),i.apply(s,arguments)}return u._=i,this.on(t,u,s)},emit:function(t){var i=[].slice.call(arguments,1),s=((this.e||(this.e={}))[t]||[]).slice(),f=0,u=s.length;for(f;f<u;f++)s[f].fn.apply(s[f].ctx,i);return this},off:function(t,i){var s=this.e||(this.e={}),f=s[t],u=[];if(f&&i)for(var v=0,h=f.length;v<h;v++)f[v].fn!==i&&f[v].fn._!==i&&u.push(f[v]);return u.length?s[t]=u:delete s[t],this}},p.exports=e,p.exports.TinyEmitter=e},function(p,y,e){var t=e(3),i=e(4);function s(h,m,l){if(!h&&!m&&!l)throw new Error("Missing required arguments");if(!t.string(m))throw new TypeError("Second argument must be a String");if(!t.fn(l))throw new TypeError("Third argument must be a Function");if(t.node(h))return f(h,m,l);if(t.nodeList(h))return u(h,m,l);if(t.string(h))return v(h,m,l);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(h,m,l){return h.addEventListener(m,l),{destroy:function(){h.removeEventListener(m,l)}}}function u(h,m,l){return Array.prototype.forEach.call(h,function(c){c.addEventListener(m,l)}),{destroy:function(){Array.prototype.forEach.call(h,function(c){c.removeEventListener(m,l)})}}}function v(h,m,l){return i(document.body,h,m,l)}p.exports=s},function(p,y){y.node=function(e){return e!==void 0&&e instanceof HTMLElement&&e.nodeType===1},y.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==void 0&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in e&&(e.length===0||y.node(e[0]))},y.string=function(e){return typeof e=="string"||e instanceof String},y.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},function(p,y,e){var t=e(5);function i(u,v,h,m,l){var c=f.apply(this,arguments);return u.addEventListener(h,c,l),{destroy:function(){u.removeEventListener(h,c,l)}}}function s(u,v,h,m,l){return typeof u.addEventListener=="function"?i.apply(null,arguments):typeof h=="function"?i.bind(null,document).apply(null,arguments):(typeof u=="string"&&(u=document.querySelectorAll(u)),Array.prototype.map.call(u,function(c){return i(c,v,h,m,l)}))}function f(u,v,h,m){return function(l){l.delegateTarget=t(l.target,v),l.delegateTarget&&m.call(u,l)}}p.exports=s},function(p,y){var e=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function i(s,f){for(;s&&s.nodeType!==e;){if(typeof s.matches=="function"&&s.matches(f))return s;s=s.parentNode}}p.exports=i},function(p,y,e){e.r(y);var t=e(0),i=e.n(t),s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f=function(){function r(o,n){for(var a=0;a<n.length;a++){var d=n[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,n,a){return n&&r(o.prototype,n),a&&r(o,a),o}}();function u(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}var v=function(){function r(o){u(this,r),this.resolveOptions(o),this.initSelection()}return f(r,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=n.action,this.container=n.container,this.emitter=n.emitter,this.target=n.target,this.text=n.text,this.trigger=n.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var n=this,a=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return n.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[a?"right":"left"]="-9999px";var d=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=d+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var n=void 0;try{n=document.execCommand(this.action)}catch{n=!1}this.handleResult(n)}},{key:"handleResult",value:function(n){this.emitter.emit(n?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"copy";if(this._action=n,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(n){if(n!==void 0)if(n&&(typeof n>"u"?"undefined":s(n))==="object"&&n.nodeType===1){if(this.action==="copy"&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=n}else throw new Error('Invalid "target" value, use a valid Element')},get:function(){return this._target}}]),r}(),h=v,m=e(1),l=e.n(m),c=e(2),x=e.n(c),A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},I=function(){function r(o,n){for(var a=0;a<n.length;a++){var d=n[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,n,a){return n&&r(o.prototype,n),a&&r(o,a),o}}();function N(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function F(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function z(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var R=function(r){z(o,r);function o(n,a){N(this,o);var d=F(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return d.resolveOptions(a),d.listenClick(n),d}return I(o,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof a.action=="function"?a.action:this.defaultAction,this.target=typeof a.target=="function"?a.target:this.defaultTarget,this.text=typeof a.text=="function"?a.text:this.defaultText,this.container=A(a.container)==="object"?a.container:document.body}},{key:"listenClick",value:function(a){var d=this;this.listener=x()(a,"click",function(j){return d.onClick(j)})}},{key:"onClick",value:function(a){var d=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new h({action:this.action(d),target:this.target(d),text:this.text(d),container:this.container,trigger:d,emitter:this})}},{key:"defaultAction",value:function(a){return O("action",a)}},{key:"defaultTarget",value:function(a){var d=O("target",a);if(d)return document.querySelector(d)}},{key:"defaultText",value:function(a){return O("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],d=typeof a=="string"?[a]:a,j=!!document.queryCommandSupported;return d.forEach(function($){j=j&&!!document.queryCommandSupported($)}),j}}]),o}(l.a);function O(r,o){var n="data-clipboard-"+r;if(o.hasAttribute(n))return o.getAttribute(n)}y.default=R}]).default})}),ut=rt(lt);const U=(g,S="copy")=>new Promise((p,y)=>{const e=document.createElement("button"),t=new ut(e,{text:()=>g,action:()=>S});t.on("success",i=>{t.destroy(),p(i)}),t.on("error",i=>{t.destroy(),y(i)}),document.body.appendChild(e),e.click(),document.body.removeChild(e)});const ct={style:{}},ft={class:"mb-2 flex justify-end"},dt={key:1,class:"flex justify-between"},pt={style:{"font-weight":"bold","font-size":"0.9rem","margin-right":"8px"}},ht={key:2,class:"flex justify-between"},yt={style:{"font-size":"0.9rem","margin-right":"8px"}},mt={key:3,class:"flex"},vt={style:{"text-transform":"uppercase","font-size":".9rem"}},gt={class:"flex justify-end"},bt=["src"],Ft={__name:"validacion",setup(g){const S=T([]),p=T(!1),y=T(""),e=T(""),t=T(0),i=T(1),s=T(10),f=l=>{console.log("http://admision-web.test/"+l.url),y.value="http://admision-web.test/"+l.url,p.value=!0},u=async()=>{let l=await D.post("get-certificados-revision?page="+i.value,{term:e.value,paginasize:s.value});S.value=l.data.datos.data,t.value=l.data.datos.total},v=async l=>{let c=0;l.verificado===0?c=1:c=0;let x=await D.post("cambiar-estado",{id:l.id,estado:c});h("success",x.data.titulo,x.data.mensaje),u()};V(e,(l,c)=>{u()}),V(i,(l,c)=>{u()}),V(s,(l,c)=>{u()});const h=(l,c,x)=>{q[l]({message:c,description:x})};u();const m=[{title:"ver",dataIndex:"ver",align:"center"},{title:"Codigo",dataIndex:"cod",key:"codigo",width:"100px"},{title:"Tipo",dataIndex:"tipo",key:"tipo",align:"center"},{title:"DNI",dataIndex:"dni",align:"left",width:"110px"},{title:"Postulante",dataIndex:"nombres",key:"nombres"},{title:"Estado",dataIndex:"verificado",key:"verificado",align:"center"},{title:"operation",dataIndex:"operation"}];return(l,c)=>{const x=G,A=J,I=X,N=K,F=Q,z=W,R=Z,O=tt;return k(),L(et,null,{default:b(()=>[E("div",ct,[_(R,{style:{background:"white"},class:"m-0 p-0"},{default:b(()=>[E("div",ft,[_(x,{placeholder:"Buscar",value:e.value,"onUpdate:value":c[0]||(c[0]=r=>e.value=r),style:{"max-width":"300px"}},{suffix:b(()=>[_(C(nt))]),_:1},8,["value"])]),E("div",null,[_(F,{size:"small",dataSource:S.value,columns:m,pagination:!1},{bodyCell:b(({column:r,text:o,record:n})=>[r.dataIndex==="ver"?(k(),L(C(it),{key:0,onClick:a=>f(n),class:"custom-icon"},null,8,["onClick"])):w("",!0),r.dataIndex==="cod"?(k(),P("div",dt,[E("span",pt,M(n.cod),1),_(I,{title:"copiar"},{default:b(()=>[_(A,{onClick:a=>C(U)(n.cod),style:{height:"22px",width:"20px"}},{icon:b(()=>[_(C(B))]),_:2},1032,["onClick"])]),_:2},1024)])):w("",!0),r.dataIndex==="dni"?(k(),P("div",ht,[E("span",yt,M(n.dni),1),_(I,{title:"Copiar DNI"},{default:b(()=>[_(A,{onClick:a=>C(U)(n.dni),style:{height:"22px",width:"20px"}},{icon:b(()=>[_(C(B))]),_:2},1032,["onClick"])]),_:2},1024)])):w("",!0),r.dataIndex==="nombres"?(k(),P("div",mt,[E("span",vt,M(n.nombres)+" "+M(n.paterno)+" "+M(n.materno),1)])):w("",!0),r.dataIndex==="verificado"?(k(),P(Y,{key:4},[n.verificado===0?(k(),L(N,{key:0,color:"error"},{default:b(()=>c[4]||(c[4]=[H("no verificado")])),_:1})):w("",!0),n.verificado===1?(k(),L(N,{key:1,color:"success"},{default:b(()=>c[5]||(c[5]=[H("verificado")])),_:1})):w("",!0)],64)):w("",!0),r.dataIndex==="operation"?(k(),L(A,{key:5,class:"custom-button",onClick:a=>v(n),type:"primary"},{default:b(()=>c[6]||(c[6]=[H("Validar")])),_:2},1032,["onClick"])):w("",!0)]),_:1},8,["dataSource"]),E("div",gt,[_(z,{current:i.value,"onUpdate:current":c[1]||(c[1]=r=>i.value=r),pageSize:s.value,"onUpdate:pageSize":c[2]||(c[2]=r=>s.value=r),total:t.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})]),_(O,{width:"80%",height:"90%",visible:p.value,"onUpdate:visible":c[3]||(c[3]=r=>p.value=r),title:"Certificado",style:{"margin-top":"-70px"},onOk:l.handleOk},{default:b(()=>[E("iframe",{src:y.value,width:"100%",height:"450px"},null,8,bt)]),_:1},8,["visible","onOk"])]),_:1})}}};export{Ft as default};
