import{r as c,e as K,c as r,a as o,u as B,w as s,F as N,M as m,o as d,X as D,d as e,t as x,b as w,L as J,x as M,i as X,f as v,g as i,p as $,h as G}from"./app-c9933b9e.js";import{A as H}from"./LayoutDocente-b4624dd3.js";import Q from"./voucher-8c710419.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{C as Y}from"./CreditCardOutlined-4c0a244e.js";import"./DropdownLink-57337d13.js";import"./logotiny-c4b525af.js";const U=_=>($("data-v-b4d133df"),_=_(),G(),_),Z=U(()=>e("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),ee={style:{height:"34px"}},te={style:{"font-weight":"700",color:"black","font-size":".7rem"}},oe={style:{"margin-top":"-10px"}},se={style:{"font-size":".8rem","text-transform":"uppercase"}},ae={style:{height:"240px"}},le=U(()=>e("h1",{style:{"font-weight":"bold"}},"Requisitos",-1)),ne={style:{"margin-right":"-8px","margin-left":"-8px","min-width":"600px"}},ie={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},de={key:0},ue=["src"],ce={class:"",style:{width:"100%",height:"380px"}},re={key:0},pe={style:{height:"380px"}},ve={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},_e={key:0},he=["src"],me={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},fe={key:0},ye=["src"],ge={style:{width:"100%",height:"380px",position:"relative",overflow:"hidden"}},be={key:0},xe=["src"],we={class:"mt-4 flex justify-end",style:{"margin-right":"-10px"}},ke={__name:"documentos",setup(_){const h=c(null),t=c(null),k=c([]),u=c([]),A=[{label:"Solicitud",value:1},{label:"Vouchers",value:2},{label:"Certificado",value:3},{label:"Ex vocacional",value:4},{label:"C. Cepreuna",value:5}],f=c(!1),E=l=>{f.value=l.target.checked,u.value=l.target.checked?A.map(a=>a.value):[]},C=c([]),L=async()=>{let l=await m.get("get-requisitos");C.value=l.data.datos},I=c(null),R=async()=>{I.value.focus(),await m.post("save-requisito",{dni:t.value,requisitos:u.value}),t.value=null,u.value=[]},z=async(l="",a=1)=>{let y=await m.post("get-postulantes?page="+a,{term:h.value});k.value=y.data.datos.data},S=async()=>{u.value=[];let l=await m.post("get-postulante-requisitos",{dni:t.value});l.data.estado===!0&&(u.value=JSON.parse(l.data.datos.requisitos))};return S(),K(h,(l,a)=>{z()}),K(t,(l,a)=>{S()}),L(),(l,a)=>{const y=i("a-input"),P=i("a-auto-complete"),g=i("a-col"),V=i("a-row"),q=i("a-checkbox"),j=i("a-checkbox-group"),p=i("a-tab-pane"),F=i("a-tabs"),O=i("a-button"),T=i("a-card");return d(),r(N,null,[o(B(D),{title:"RevisiÃ³n de documentos"}),o(H,null,{default:s(()=>[e("div",null,[o(T,{style:{background:"white",height:"calc(100vh - 90px)",overflow:"hidden"},class:"mb-0 p-0"},{default:s(()=>[o(V,{gutter:16,class:"mb-3"},{default:s(()=>[o(g,{span:24,sm:24,md:24,lg:24,style:{display:"flex","justify-content":"end","align-items":"end"}},{default:s(()=>[e("div",null,[Z,o(P,{value:t.value,"onUpdate:value":a[1]||(a[1]=n=>t.value=n),options:k.value,style:{width:"300px"},onSelect:l.onSelect,onSearch:l.onSearch},{suffix:s(()=>[o(B(Y))]),option:s(({value:n,label:b})=>[e("div",ee,[e("div",null,[e("span",te,x(n),1)]),e("div",oe,[e("span",se,x(b),1)])])]),default:s(()=>[o(y,{ref_key:"dniInput",ref:I,placeholder:"Buscar",value:h.value,"onUpdate:value":a[0]||(a[0]=n=>h.value=n),onKeypress:l.handleKeyPress},null,8,["value","onKeypress"])]),_:1},8,["value","options","onSelect","onSearch"])])]),_:1})]),_:1}),o(V,{gutter:16},{default:s(()=>[o(g,{span:24,sm:24,md:8,lg:6},{default:s(()=>[e("div",ae,[le,o(q,{checked:f.value,"onUpdate:checked":a[2]||(a[2]=n=>f.value=n),class:"first-item",onChange:E},{default:s(()=>[w("Todo")]),_:1},8,["checked"]),o(j,{value:u.value,"onUpdate:value":a[3]||(a[3]=n=>u.value=n),class:"checkbox-group-vertical"},{default:s(()=>[(d(!0),r(N,null,J(C.value,(n,b)=>(d(),M(q,{key:n.value,value:n.value,class:X([{"first-item":b===0},"checkbox-item"])},{default:s(()=>[w(x(n.label),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["value"])])]),_:1}),o(g,{span:24,sm:24,md:16,lg:18,style:{border:"1px solid #d9d9d9","min-width":"600px"},class:"m-0 p-0"},{default:s(()=>[e("div",ne,[o(F,{activeKey:l.activeKey,"onUpdate:activeKey":a[4]||(a[4]=n=>l.activeKey=n),type:"card",style:{}},{default:s(()=>[o(p,{key:"1",tab:"Solicitud",class:"pl-2 pr-2"},{default:s(()=>[e("div",null,[e("div",ie,[t.value!==null&&t.value.length===8?(d(),r("div",de,[e("iframe",{src:"http://admision-web.test/documentos/cepre2023-II/"+t.value+"/solicitud-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"100%",scrolling:"yes",frameborder:"1"},null,8,ue)])):v("",!0)])])]),_:1}),o(p,{key:"2",tab:"Voucher",class:"pl-2 pr-2"},{default:s(()=>[e("div",ce,[t.value!==null&&t.value.length===8?(d(),r("div",re,[o(Q,{dni:t.value},null,8,["dni"])])):v("",!0)])]),_:1}),o(p,{key:"3",tab:"Certificado"},{default:s(()=>[e("div",pe,[e("div",ve,[t.value!==null&&t.value.length===8?(d(),r("div",_e,[e("iframe",{src:"http://admision-web.test/documentos/cepre2023-II/"+t.value+"/certificado-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,he)])):v("",!0)])])]),_:1}),o(p,{key:"4",tab:"Ex vocacional"},{default:s(()=>[e("div",null,[e("div",me,[t.value!==null&&t.value.length===8?(d(),r("div",fe,[e("iframe",{src:"http://admision-web.test/documentos/cepre2023-II/"+t.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,ye)])):v("",!0)])])]),_:1}),o(p,{key:"5",tab:"Cert Cepre"},{default:s(()=>[e("div",null,[e("div",ge,[t.value!==null&&t.value.length===8?(d(),r("div",be,[e("iframe",{src:"http://admision-web.test/documentos/cepre2023-II/"+t.value+"/constancia%20vocacional-1.pdf",style:{top:"-54px",position:"absolute"},width:"100%",height:"470px",scrolling:"yes",frameborder:"1"},null,8,xe)])):v("",!0)])])]),_:1})]),_:1},8,["activeKey"])])]),_:1})]),_:1}),e("div",we,[o(O,{type:"primary",onClick:a[5]||(a[5]=n=>R())},{default:s(()=>[w("Enviar")]),_:1})])]),_:1})])]),_:1})],64)}}},Ne=W(ke,[["__scopeId","data-v-b4d133df"]]);export{Ne as default};
