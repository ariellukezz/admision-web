import{r as g,e as M,q as te,f as u,o as n,c as r,a,u as v,w as t,F as S,l as I,Z as le,d as f,b as d,S as ne,g as s,E as U,D as L,t as y,s as E,v as se,n as re}from"./app-7f7ee390.js";import{A as de}from"./AuthenticatedLayout-a7d0237d.js";import{F as j}from"./FormOutlined-1234c3dc.js";import"./DropdownLink-bfa9f93f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logotiny-c4b525af.js";import"./TeamOutlined-3ca579c0.js";const ie={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},ue={class:"mr-3"},ce={class:"flex justify-between",style:{position:"relative"}},pe={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},me={key:0,class:"flex",style:{"justify-content":"center"}},ge={key:0},ve={key:1},fe={style:{display:"none"}},_e={key:0},ye={style:{"font-size":".9rem"}},he={key:1},be={style:{"font-size":".9rem"}},ke={key:2},Ie={style:{"font-size":".9rem"}},Ce={key:3,class:"flex",style:{"justify-content":"center"}},xe={key:4,class:"flex",style:{"justify-content":"center"}},we={key:0},Ae={key:1},Se={class:"flex",style:{"justify-content":"flex-end"}},Te={__name:"programas",setup(Ee){const i=g([]),B=g([]),O=g(""),x=g(1),G=g(null),N=g([]),h=g(!1),$=g(""),K=()=>{h.value=!0};M($,(e,o)=>{getDepartamentos()}),M(x,(e,o)=>{C()});const q=async(e="")=>{let o=await I.get("/admin/get-programas-proceso");N.value=o.data.datos},F=e=>{h.value=!0,programa.value.id=e.id,programa.value.codigo=e.codigo,programa.value.nombre=e.nombre,programa.value.nivel_academico=e.nivel_academico,programa.value.tipo_autorizacion=e.tipo_autorizacion,programa.value.id_facultad=e.id_fac,e.estado==1?programa.value.estado=!0:programa.value.estado=!1,programa.value.area=e.area},C=async(e="")=>{let o=await I.post("/select-programas");i.value=o.data.datos},X=async(e="")=>{let o=await I.post("/select-modalidades");B.value=o.data.datos.data},Z=()=>{let e={id:programa.value.id,codigo:programa.value.codigo,nombre:programa.value.nombre,nivel_academico:programa.value.nivel_academico,tipo_autorizacion:programa.value.tipo_autorizacion,estado:programa.value.estado,id_facultad:programa.value.id_facultad,area:programa.value.area};I.post("save-programa",e).then(o=>{C(),D("success",o.data.titulo,o.data.mensaje),h.value=!1,programa.value.codigo=null,programa.value.id=null,programa.value.nombre=""})},R=e=>{I.get("eliminar-programa/"+e.id).then(o=>{C(),D("warning","PROGRAMA ELIMINADO",o.data.mensaje)})},H=[{title:"Cod",dataIndex:"codigo",width:"60px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nombre"},{title:"Area",dataIndex:"area",align:"center",width:"100px",responsive:["md"]},{title:"Fun.",dataIndex:"estado",align:"center",width:"60px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],J=[{title:"PROGRAMA",dataIndex:"programa",width:"360px",align:"left",responsive:["md"]},{title:"GENERAL",dataIndex:"8",align:"center",responsive:["md"]},{title:"CEPREUNA",dataIndex:"9",align:"center",responsive:["md"]},{title:"CONADIS",dataIndex:"7",align:"center",responsive:["md"]},{title:"GRAD. TITULADOS",dataIndex:"1",align:"center",responsive:["md"]},{title:"TRASLADO INTERNO",dataIndex:"2",align:"center",responsive:["md"]},{title:"TRASLADO EXTERNO",dataIndex:"3",align:"center",responsive:["md"]},{title:"PRIMEROS PUESTOS",dataIndex:"4",align:"center",responsive:["md"]},{title:"DEPORTISTAS",dataIndex:"5",align:"center",responsive:["md"]}],z=g([]),Q=e=>{console.log("selectedRowKeys changed: ",e),z.value=e};te(()=>({selectedRowKeys:v(z),onChange:Q,hideDefaultSelections:!0}));const D=(e,o,c)=>{re[e]({message:o,description:c})},P=e=>{console.log("Detalle:",e)};return C(),X(),q(),(e,o)=>{const c=u("a-button"),w=u("a-input"),W=u("row"),_=u("a-tag"),T=u("a-table"),Y=u("a-pagination"),b=u("a-form-item"),V=u("a-select"),A=u("a-select-option"),ee=u("a-switch"),ae=u("a-form"),oe=u("a-modal");return n(),r(S,null,[a(v(le),{title:"Proceso - Configuracion - programas"}),a(de,null,{default:t(()=>[f("div",ie,[a(W,{class:"flex justify-between mb-4"},{default:t(()=>[f("div",ue,[a(c,{type:"primary",style:{"border-radius":"5px",background:"#476175"},onClick:K},{default:t(()=>[d("Modificar")]),_:1})]),f("div",ce,[a(w,{type:"text",placeholder:"Buscar",value:O.value,"onUpdate:value":o[0]||(o[0]=l=>O.value=l),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),f("div",pe,[a(v(ne))])])]),_:1}),a(T,{columns:J,"data-source":N.value,pagination:!1,size:"small",bordered:"",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:t(({column:l,index:p,record:m})=>[l.dataIndex==="estado"?(n(),r("div",me,[i.value[p].estado==1?(n(),r("div",ge,[a(_,{color:"green"},{default:t(()=>[d("Si")]),_:1})])):s("",!0),i.value[p].estado==0?(n(),r("div",ve,[a(_,{color:"red"},{default:t(()=>[d("No")]),_:1})])):s("",!0)])):s("",!0),l.dataIndex==="acciones"?(n(),r(S,{key:1},[a(c,{type:"",onClick:k=>P(m),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:t(()=>[a(v(U))]),_:2},1032,["onClick"]),a(c,{type:"",onClick:k=>F(m),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:t(()=>[a(v(j))]),_:2},1032,["onClick"]),a(c,{class:"",onClick:k=>R(m),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:t(()=>[a(v(L))]),_:2},1032,["onClick"])],64)):s("",!0)]),_:1},8,["data-source","scroll"]),f("div",fe,[a(T,{columns:H,"data-source":i.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 290px)"}},{bodyCell:t(({column:l,index:p,record:m})=>[l.dataIndex==="codigo"?(n(),r("div",_e,[f("span",ye,y(m.codigo),1)])):s("",!0),l.dataIndex==="nombre"?(n(),r("div",he,[f("span",be,y(m.nombre),1)])):s("",!0),l.dataIndex==="facultad"?(n(),r("div",ke,[f("span",Ie,y(m.facultad),1)])):s("",!0),l.dataIndex==="area"?(n(),r("div",Ce,[i.value[p].area=="BIOMÉDICAS"?(n(),E(_,{key:0,style:{"font-size":".8rem"},color:"cyan"},{default:t(()=>[d(y(i.value[p].area),1)]),_:2},1024)):s("",!0),i.value[p].area=="SOCIALES"?(n(),E(_,{key:1,style:{"font-size":".8rem"},color:"purple"},{default:t(()=>[d(y(i.value[p].area),1)]),_:2},1024)):s("",!0),i.value[p].area=="INGENIERÍAS"?(n(),E(_,{key:2,style:{"font-size":".8rem"},color:"blue"},{default:t(()=>[d(y(i.value[p].area),1)]),_:2},1024)):s("",!0)])):s("",!0),l.dataIndex==="estado"?(n(),r("div",xe,[i.value[p].estado==1?(n(),r("div",we,[a(_,{color:"green"},{default:t(()=>[d("Si")]),_:1})])):s("",!0),i.value[p].estado==0?(n(),r("div",Ae,[a(_,{color:"red"},{default:t(()=>[d("No")]),_:1})])):s("",!0)])):s("",!0),l.dataIndex==="acciones"?(n(),r(S,{key:5},[a(c,{type:"",onClick:k=>P(m),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:t(()=>[a(v(U))]),_:2},1032,["onClick"]),a(c,{type:"",onClick:k=>F(m),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:t(()=>[a(v(j))]),_:2},1032,["onClick"]),a(c,{class:"",onClick:k=>R(m),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:t(()=>[a(v(L))]),_:2},1032,["onClick"])],64)):s("",!0)]),_:1},8,["data-source","scroll"])]),f("div",Se,[a(Y,{current:x.value,"onUpdate:current":o[1]||(o[1]=l=>x.value=l),simple:"","page-size":"50",total:G.value},null,8,["current","total"])])])]),_:1}),a(oe,{visible:h.value,"onUpdate:visible":o[8]||(o[8]=l=>h.value=l),title:"Titulo Modal",style:{"margin-top":"-40px"}},{footer:t(()=>[a(c,{style:{"margin-left":"10px"},onClick:e.resetForm},{default:t(()=>[d("Cancelar")]),_:1},8,["onClick"]),a(c,{type:"primary",onClick:o[7]||(o[7]=l=>Z())},{default:t(()=>[d("Guardar")]),_:1})]),default:t(()=>[a(ae,se({ref:"formRef",name:"custom-validation",model:e.formState,rules:e.rules},e.layout,{onFinish:e.handleFinish,onValidate:e.handleValidate,onFinishFailed:e.handleFinishFailed}),{default:t(()=>[a(b,{"has-feedback":"",label:"Codigo",name:"codigo"},{default:t(()=>[a(w,{type:"text",value:e.programa.codigo,"onUpdate:value":o[2]||(o[2]=l=>e.programa.codigo=l),autocomplete:"off"},null,8,["value"])]),_:1}),a(b,{"has-feedback":"",label:"Nombre",name:"nombre"},{default:t(()=>[a(w,{type:"text",value:e.programa.nombre,"onUpdate:value":o[3]||(o[3]=l=>e.programa.nombre=l),autocomplete:"off"},null,8,["value"])]),_:1}),a(b,{"has-feedback":"",label:"Facultad",name:"facultad"},{default:t(()=>[a(V,{options:e.facultades,ref:"Tipo",style:{width:"100%"},onFocus:e.focus,onChange:e.handleChange,value:e.programa.id_facultad,"onUpdate:value":o[4]||(o[4]=l=>e.programa.id_facultad=l)},null,8,["options","onFocus","onChange","value"])]),_:1}),a(b,{"has-feedback":"",label:"Area",name:"area"},{default:t(()=>[a(V,{style:{width:"100%"},onFocus:e.focus,onChange:e.handleChange,value:e.programa.area,"onUpdate:value":o[5]||(o[5]=l=>e.programa.area=l)},{default:t(()=>[a(A,{value:"BIOMÉDICAS"},{default:t(()=>[d(" BIOMEDICAS ")]),_:1}),a(A,{value:"INGENIERÍAS"},{default:t(()=>[d(" INGENIERÍAS ")]),_:1}),a(A,{value:"SOCIALES"},{default:t(()=>[d(" SOCIALES ")]),_:1})]),_:1},8,["onFocus","onChange","value"])]),_:1}),a(b,{"has-feedback":"",label:"Vigente",name:"estado"},{default:t(()=>[a(ee,{checked:e.programa.estado,"onUpdate:checked":o[6]||(o[6]=l=>e.programa.estado=l)},null,8,["checked"])]),_:1})]),_:1},16,["model","rules","onFinish","onValidate","onFinishFailed"])]),_:1},8,["visible"])],64)}}};export{Te as default};
