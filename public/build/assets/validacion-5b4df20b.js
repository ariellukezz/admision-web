import{r as C,e as H,f as E,o as x,s as M,w as b,l as U,d as w,a as k,u as A,S as q,E as G,g as S,c as P,t as N,ab as B,b as D,F as J,n as X}from"./app-4861b1c9.js";import{A as K}from"./LayoutDocente-c78b3b7a.js";import"./DropdownLink-34dded81.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-99ff3da5.js";/*!
  * @soerenmartius/vue3-clipboard v0.1.2
  * (c) 2021 Soeren Martius
  * @license MIT
  */var Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}function Z(m,T,d){return d={path:T,exports:{},require:function(y,e){return tt(y,e??d.path)}},m(d,d.exports),d.exports}function tt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var et=Z(function(m,T){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(y,e){m.exports=e()})(Q,function(){return function(d){var y={};function e(t){if(y[t])return y[t].exports;var i=y[t]={i:t,l:!1,exports:{}};return d[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=d,e.c=y,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(i&1&&(t=e(t)),i&8||i&4&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),i&2&&typeof t!="string")for(var u in t)e.d(s,u,(function(c){return t[c]}).bind(null,u));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=6)}([function(d,y){function e(t){var i;if(t.nodeName==="SELECT")t.focus(),i=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var s=t.hasAttribute("readonly");s||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),s||t.removeAttribute("readonly"),i=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var u=window.getSelection(),c=document.createRange();c.selectNodeContents(t),u.removeAllRanges(),u.addRange(c),i=u.toString()}return i}d.exports=e},function(d,y){function e(){}e.prototype={on:function(t,i,s){var u=this.e||(this.e={});return(u[t]||(u[t]=[])).push({fn:i,ctx:s}),this},once:function(t,i,s){var u=this;function c(){u.off(t,c),i.apply(s,arguments)}return c._=i,this.on(t,c,s)},emit:function(t){var i=[].slice.call(arguments,1),s=((this.e||(this.e={}))[t]||[]).slice(),u=0,c=s.length;for(u;u<c;u++)s[u].fn.apply(s[u].ctx,i);return this},off:function(t,i){var s=this.e||(this.e={}),u=s[t],c=[];if(u&&i)for(var g=0,p=u.length;g<p;g++)u[g].fn!==i&&u[g].fn._!==i&&c.push(u[g]);return c.length?s[t]=c:delete s[t],this}},d.exports=e,d.exports.TinyEmitter=e},function(d,y,e){var t=e(3),i=e(4);function s(p,v,l){if(!p&&!v&&!l)throw new Error("Missing required arguments");if(!t.string(v))throw new TypeError("Second argument must be a String");if(!t.fn(l))throw new TypeError("Third argument must be a Function");if(t.node(p))return u(p,v,l);if(t.nodeList(p))return c(p,v,l);if(t.string(p))return g(p,v,l);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function u(p,v,l){return p.addEventListener(v,l),{destroy:function(){p.removeEventListener(v,l)}}}function c(p,v,l){return Array.prototype.forEach.call(p,function(h){h.addEventListener(v,l)}),{destroy:function(){Array.prototype.forEach.call(p,function(h){h.removeEventListener(v,l)})}}}function g(p,v,l){return i(document.body,p,v,l)}d.exports=s},function(d,y){y.node=function(e){return e!==void 0&&e instanceof HTMLElement&&e.nodeType===1},y.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==void 0&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in e&&(e.length===0||y.node(e[0]))},y.string=function(e){return typeof e=="string"||e instanceof String},y.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},function(d,y,e){var t=e(5);function i(c,g,p,v,l){var h=u.apply(this,arguments);return c.addEventListener(p,h,l),{destroy:function(){c.removeEventListener(p,h,l)}}}function s(c,g,p,v,l){return typeof c.addEventListener=="function"?i.apply(null,arguments):typeof p=="function"?i.bind(null,document).apply(null,arguments):(typeof c=="string"&&(c=document.querySelectorAll(c)),Array.prototype.map.call(c,function(h){return i(h,g,p,v,l)}))}function u(c,g,p,v){return function(l){l.delegateTarget=t(l.target,g),l.delegateTarget&&v.call(c,l)}}d.exports=s},function(d,y){var e=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function i(s,u){for(;s&&s.nodeType!==e;){if(typeof s.matches=="function"&&s.matches(u))return s;s=s.parentNode}}d.exports=i},function(d,y,e){e.r(y);var t=e(0),i=e.n(t),s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u=function(){function r(o,n){for(var a=0;a<n.length;a++){var f=n[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,n,a){return n&&r(o.prototype,n),a&&r(o,a),o}}();function c(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}var g=function(){function r(o){c(this,r),this.resolveOptions(o),this.initSelection()}return u(r,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=n.action,this.container=n.container,this.emitter=n.emitter,this.target=n.target,this.text=n.text,this.trigger=n.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var n=this,a=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return n.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[a?"right":"left"]="-9999px";var f=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=f+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var n=void 0;try{n=document.execCommand(this.action)}catch{n=!1}this.handleResult(n)}},{key:"handleResult",value:function(n){this.emitter.emit(n?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"copy";if(this._action=n,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(n){if(n!==void 0)if(n&&(typeof n>"u"?"undefined":s(n))==="object"&&n.nodeType===1){if(this.action==="copy"&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=n}else throw new Error('Invalid "target" value, use a valid Element')},get:function(){return this._target}}]),r}(),p=g,v=e(1),l=e.n(v),h=e(2),_=e.n(h),O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},I=function(){function r(o,n){for(var a=0;a<n.length;a++){var f=n[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,n,a){return n&&r(o.prototype,n),a&&r(o,a),o}}();function F(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function z(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function R(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var V=function(r){R(o,r);function o(n,a){F(this,o);var f=z(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return f.resolveOptions(a),f.listenClick(n),f}return I(o,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof a.action=="function"?a.action:this.defaultAction,this.target=typeof a.target=="function"?a.target:this.defaultTarget,this.text=typeof a.text=="function"?a.text:this.defaultText,this.container=O(a.container)==="object"?a.container:document.body}},{key:"listenClick",value:function(a){var f=this;this.listener=_()(a,"click",function(L){return f.onClick(L)})}},{key:"onClick",value:function(a){var f=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new p({action:this.action(f),target:this.target(f),text:this.text(f),container:this.container,trigger:f,emitter:this})}},{key:"defaultAction",value:function(a){return j("action",a)}},{key:"defaultTarget",value:function(a){var f=j("target",a);if(f)return document.querySelector(f)}},{key:"defaultText",value:function(a){return j("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],f=typeof a=="string"?[a]:a,L=!!document.queryCommandSupported;return f.forEach(function(Y){L=L&&!!document.queryCommandSupported(Y)}),L}}]),o}(l.a);function j(r,o){var n="data-clipboard-"+r;if(o.hasAttribute(n))return o.getAttribute(n)}y.default=V}]).default})}),nt=W(et);const $=(m,T="copy")=>new Promise((d,y)=>{const e=document.createElement("button"),t=new nt(e,{text:()=>m,action:()=>T});t.on("success",i=>{t.destroy(),d(i)}),t.on("error",i=>{t.destroy(),y(i)}),document.body.appendChild(e),e.click(),document.body.removeChild(e)});const it={style:{}},ot={class:"mb-2 flex justify-end"},rt={key:1,class:"flex justify-between"},at={style:{"font-weight":"bold","font-size":"0.9rem","margin-right":"8px"}},st={key:2,class:"flex justify-between"},lt={style:{"font-size":"0.9rem","margin-right":"8px"}},ct={key:3,class:"flex"},ut={style:{"text-transform":"uppercase","font-size":".9rem"}},ft={class:"flex justify-end"},dt=["src"],bt={__name:"validacion",setup(m){const T=C([]),d=C(!1),y=C(""),e=C(""),t=C(0),i=C(1),s=C(10),u=l=>{console.log("http://admision-web.test/"+l.url),y.value="http://admision-web.test/"+l.url,d.value=!0},c=async()=>{let l=await U.post("get-certificados-revision?page="+i.value,{term:e.value,paginasize:s.value});T.value=l.data.datos.data,t.value=l.data.datos.total},g=async l=>{let h=0;l.verificado===0?h=1:h=0;let _=await U.post("cambiar-estado",{id:l.id,estado:h});p("success",_.data.titulo,_.data.mensaje),c()};H(e,(l,h)=>{c()}),H(i,(l,h)=>{c()}),H(s,(l,h)=>{c()});const p=(l,h,_)=>{X[l]({message:h,description:_})};c();const v=[{title:"ver",dataIndex:"ver",align:"center"},{title:"Codigo",dataIndex:"cod",key:"codigo",width:"100px"},{title:"Tipo",dataIndex:"tipo",key:"tipo",align:"center"},{title:"DNI",dataIndex:"dni",align:"left",width:"110px"},{title:"Postulante",dataIndex:"nombres",key:"nombres"},{title:"Estado",dataIndex:"verificado",key:"verificado",align:"center"},{title:"operation",dataIndex:"operation"}];return(l,h)=>{const _=E("a-input"),O=E("a-button"),I=E("a-tooltip"),F=E("a-tag"),z=E("a-table"),R=E("a-pagination"),V=E("a-card"),j=E("a-modal");return x(),M(K,null,{default:b(()=>[w("div",it,[k(V,{style:{background:"white"},class:"m-0 p-0"},{default:b(()=>[w("div",ot,[k(_,{placeholder:"Buscar",value:e.value,"onUpdate:value":h[0]||(h[0]=r=>e.value=r),style:{"max-width":"300px"}},{suffix:b(()=>[k(A(q))]),_:1},8,["value"])]),w("div",null,[k(z,{size:"small",dataSource:T.value,columns:v,pagination:!1},{bodyCell:b(({column:r,text:o,record:n})=>[r.dataIndex==="ver"?(x(),M(A(G),{key:0,onClick:a=>u(n),class:"custom-icon"},null,8,["onClick"])):S("",!0),r.dataIndex==="cod"?(x(),P("div",rt,[w("span",at,N(n.cod),1),k(I,{title:"copiar"},{default:b(()=>[k(O,{onClick:a=>A($)(n.cod),style:{height:"22px",width:"20px"}},{icon:b(()=>[k(A(B))]),_:2},1032,["onClick"])]),_:2},1024)])):S("",!0),r.dataIndex==="dni"?(x(),P("div",st,[w("span",lt,N(n.dni),1),k(I,{title:"Copiar DNI"},{default:b(()=>[k(O,{onClick:a=>A($)(n.dni),style:{height:"22px",width:"20px"}},{icon:b(()=>[k(A(B))]),_:2},1032,["onClick"])]),_:2},1024)])):S("",!0),r.dataIndex==="nombres"?(x(),P("div",ct,[w("span",ut,N(n.nombres)+" "+N(n.paterno)+" "+N(n.materno),1)])):S("",!0),r.dataIndex==="verificado"?(x(),P(J,{key:4},[n.verificado===0?(x(),M(F,{key:0,color:"error"},{default:b(()=>[D("no verificado")]),_:1})):S("",!0),n.verificado===1?(x(),M(F,{key:1,color:"success"},{default:b(()=>[D("verificado")]),_:1})):S("",!0)],64)):S("",!0),r.dataIndex==="operation"?(x(),M(O,{key:5,class:"custom-button",onClick:a=>g(n),type:"primary"},{default:b(()=>[D("Validar")]),_:2},1032,["onClick"])):S("",!0)]),_:1},8,["dataSource"]),w("div",ft,[k(R,{current:i.value,"onUpdate:current":h[1]||(h[1]=r=>i.value=r),pageSize:s.value,"onUpdate:pageSize":h[2]||(h[2]=r=>s.value=r),total:t.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})]),k(j,{width:"80%",height:"90%",visible:d.value,"onUpdate:visible":h[3]||(h[3]=r=>d.value=r),title:"Certificado",style:{"margin-top":"-70px"},onOk:l.handleOk},{default:b(()=>[w("iframe",{src:y.value,width:"100%",height:"450px"},null,8,dt)]),_:1},8,["visible","onOk"])]),_:1})}}};export{bt as default};
