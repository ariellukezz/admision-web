import{r as f,e as F,c,a as e,u as r,w as a,F as C,o as u,X as ce,d as s,t as D,b as t,f as p,D as re,P as W,L as X,i as pe,g as _,p as _e,h as ve}from"./app-6dbd4273.js";import{A as me}from"./AuthenticatedLayout-c36094ca.js";import{_ as fe}from"./_plugin-vue_export-helper-c27b6911.js";import{F as Q}from"./FormOutlined-4b5ba5c4.js";import"./DropdownLink-f2959fa9.js";import"./logotiny-c4b525af.js";const ge=E=>(_e("data-v-b2698cf1"),E=E(),ve(),E),ye={style:{padding:"0px 15px"}},he={class:"flex justify-end"},be=ge(()=>s("label",{style:{"margin-right":"10px"}}," Buscar:",-1)),ke={style:{height:"34px"}},xe={style:{"font-weight":"700",color:"black","font-size":".7rem"}},Ie={style:{"margin-top":"-10px"}},Ce={style:{"font-size":".8rem","text-transform":"uppercase"}},Se={style:{width:"100%",border:"solid 1px #f3f3f3",margin:"20px 0px"}},we={class:"container-principal"},Ee={class:"container-postulante"},Pe={class:"mr-3 container-imagen"},Ae=["src"],Me=["src"],De={class:"datos-postulante"},Ue={class:"mb-2"},Ne={class:"mb-2"},Be={class:"mb-2"},Ve={class:"flex"},Fe={class:"mr-3"},ze={style:{width:"100%"}},je={class:"container-postulante mb-2"},Oe={style:{width:"100%"}},Ke={class:"container-postulante mb-2"},Le={style:{width:"100%"}},Te={class:"container-postulante"},$e={style:{width:"100%"}},qe={class:"mb-2"},He={class:"mt-4 container-huellas"},Re={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%","overflow-y":"hidden"}},Ge=["src"],We=["src"],Xe={class:"mr-1",style:{border:"solid 1px #F4f4f4",width:"100%",height:"100%"}},Qe=["src"],Je=["src"],Ye={style:{display:"flex","justify-content":"flex-end","margin-top":"-10px"}},Ze={key:0},ea={key:1},aa={key:0},ta={key:1},oa={class:"flex",style:{"align-items":"center"}},la={key:0,style:{color:"red","margin-top":"-8px"}},ia={key:0},sa={key:1},na={key:1},da={class:"flex",style:{"align-items":"center"}},ua={key:0,style:{color:"red","margin-top":"-8px"}},ca={key:0,type:"primary",ghost:""},ra={key:1,type:"danger",ghost:""},pa=["href"],_a={key:0,type:"primary",ghost:""},va={key:1,type:"danger",ghost:""},ma={__name:"impresion",props:{baseUrl:String},setup(E){const x=window.location.origin,z=f(!1),w=f(""),b=f("1"),v=f(null),j=f(null),U=f(null),O=f([]),i=f({id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}),K=f([]),N=f([]),B=f([]),J=()=>{console.log("onSelect",v)},Y=o=>{console.log("handleKeyPress",o)},L=async(o="",n=1)=>{let g=await axios.post("/admin/inscripciones/get-postulantes?page="+n,{term:w.value});O.value=g.data.datos.data},Z=async()=>{let o=await axios.get("/admin/inscripciones/get-postulante-dni/"+v.value);i.value.id=o.data.datos.id_postulante,i.value.nombres=o.data.datos.nombres,i.value.primer_apellido=o.data.datos.primer_apellido,i.value.segundo_apellido=o.data.datos.segundo_apellido,i.value.sexo=o.data.datos.sexo,i.value.colegio=o.data.datos.colegio,i.value.procedencia=o.data.datos.departamento+" / "+o.data.datos.provincia+" / "+o.data.datos.distrito,i.value.proceso=o.data.datos.proceso,i.value.modalidad=o.data.datos.modalidad,i.value.programa=o.data.datos.programa,i.value.id_programa=o.data.datos.id_programa,i.value.id_proceso=o.data.datos.id_proceso,i.value.id_modalidad=o.data.datos.id_modalidad,i.value.dni_temp=o.data.datos.dni,z.value=se(o.data.datos.id_postulante,i.value.id_proceso)},ee=async()=>{let o=await axios.get("/admin/inscripciones/get-apoderados-postulante/"+v.value);K.value=o.data.datos},T=async()=>{let o=await axios.get("/admin/inscripciones/get-vouchers-postulante/"+v.value);N.value=o.data.datos},$=async()=>{let o=await axios.get("/admin/inscripciones/get-documentos-postulante/"+v.value);B.value=o.data.datos},ae=async()=>{let o=await axios.get("/admin/inscripciones/get-preinscripciones-postulante/"+v.value);j.value=o.data.datos},q=async()=>{let o=await axios.get("/admin/inscripciones/get-inscripciones-postulante/"+v.value);U.value=o.data.datos},H=async()=>{await axios.post("/admin/inscripciones/inscribir",{postulante:i.value}),te(v.value),v.value="",w.value="",i.value={id:"",nombres:"",primer_apellido:"",segundo_apellido:"",sexo:"Masculino",fec_nacimiento:"",colegio:"",procedencia:"",proceso:"",id_proceso:"",modalidad:"",id_modalidad:"",programa:"",id_programa:"",dni_temp:""}};F(w,(o,n)=>{L()}),F(v,(o,n)=>{q(),Z(),T(),$()}),F(b,(o,n)=>{b.value==2&&ee(),b.value==3&&T(),b.value==4&&$(),b.value==5&&q(),b.value==6&&ae()});const te=o=>{var n=document.createElement("iframe");n.style.display="none",n.src=x+"/documentos/cepre2023-II/"+o+"/inscripcion-1.pdf",document.body.appendChild(n),n.contentWindow.focus(),n.contentWindow.print()},oe=[{title:"DNI",dataIndex:"nro_documento",key:"nro_documento"},{title:"Nombres",dataIndex:"nombres",key:"nombres"},{title:"Paterno",dataIndex:"paterno",key:"paterno"},{title:"Materno",dataIndex:"materno",key:"materno"},{title:"Parentesco",dataIndex:"parentesco"},{title:"Acciones",dataIndex:"acciones"}],le=[{title:"N° Operación",dataIndex:"operacion",key:"operacion"},{title:"Fecha",dataIndex:"fecha",key:"fecha"},{title:"Hora",dataIndex:"hora",key:"hora"},{title:"Concepto",dataIndex:"codigo",key:"codigo"},{title:"Monto",dataIndex:"monto",key:"monto"}],ie=[{title:"Codigo",dataIndex:"codigo",key:"codigo"},{title:"Documento",dataIndex:"nombre",key:"nombre"},{title:"Tipo",dataIndex:"tipo",key:"tipo"},{title:"estado",dataIndex:"estado",key:"estado"},{title:"Acciones",dataIndex:"acciones"}],se=(o,n)=>!!U.value.find(P=>P.id_postulante===o&&P.id_proceso===n),ne=[{title:"Programa",dataIndex:"programa",key:"programa"},{title:"Proceso",dataIndex:"proceso",key:"proceso"},{title:"Modalidad",dataIndex:"modalidad",key:"modalidad"},{title:"Estado",dataIndex:"estado",key:"estado"},{title:"Ver",dataIndex:"acciones"}];return L(),(o,n)=>{const g=_("a-input"),P=_("a-auto-complete"),y=_("a-label"),de=_("a-date-picker"),l=_("a-select-option"),V=_("a-select"),R=_("a-col"),I=_("a-button"),S=_("a-tab-pane"),k=_("a-tag"),G=_("a-divider"),A=_("a-table"),ue=_("a-tabs");return u(),c(C,null,[e(r(ce),{title:"Inscripciones-impresión"}),e(me,null,{default:a(()=>[s("div",null,[e(ue,{activeKey:b.value,"onUpdate:activeKey":n[12]||(n[12]=d=>b.value=d),type:"card"},{default:a(()=>[e(S,{key:"1",tab:"Inscripcion"},{default:a(()=>[s("div",ye,[s("div",he,[s("div",null,[be,e(P,{value:v.value,"onUpdate:value":n[1]||(n[1]=d=>v.value=d),options:O.value,style:{width:"300px"},onSelect:J,onSearch:o.onSearch},{option:a(({value:d,label:h})=>[s("div",ke,[s("div",null,[s("span",xe,D(d),1)]),s("div",Ie,[s("span",Ce,D(h),1)])])]),default:a(()=>[e(g,{placeholder:"Buscar",value:w.value,"onUpdate:value":n[0]||(n[0]=d=>w.value=d),onKeypress:Y},null,8,["value"])]),_:1},8,["value","options","onSearch"])])]),s("div",Se,[s("div",we,[e(R,{flex:"1 1"},{default:a(()=>[s("div",Ee,[s("div",Pe,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:r(x)+"/fotos/inscripcion/"+i.value.dni_temp+".jpg"},null,8,Ae)):(u(),c("img",{key:1,src:r(x)+"/fotos/postulantex.jpg"},null,8,Me))]),s("div",De,[s("div",Ue,[e(y,null,{default:a(()=>[t("Primer apellido")]),_:1}),e(g,{value:i.value.primer_apellido,"onUpdate:value":n[2]||(n[2]=d=>i.value.primer_apellido=d),placeholder:"Primer apellido"},null,8,["value"])]),s("div",Ne,[e(y,null,{default:a(()=>[t("Segundo apellido")]),_:1}),e(g,{value:i.value.segundo_apellido,"onUpdate:value":n[3]||(n[3]=d=>i.value.segundo_apellido=d),placeholder:"Segundo apellido"},null,8,["value"])]),s("div",Be,[e(y,null,{default:a(()=>[t("Prenombres")]),_:1}),e(g,{value:i.value.nombres,"onUpdate:value":n[4]||(n[4]=d=>i.value.nombres=d),placeholder:"Pre_nombres"},null,8,["value"])]),s("div",Ve,[s("div",Fe,[e(y,null,{default:a(()=>[t("Fecha Nac")]),_:1}),s("div",null,[e(de,{value:o.fecha,"onUpdate:value":n[5]||(n[5]=d=>o.fecha=d)},null,8,["value"])])]),s("div",ze,[e(y,null,{default:a(()=>[t("Sexo")]),_:1}),e(V,{ref:"select",value:i.value.sexo,"onUpdate:value":n[6]||(n[6]=d=>i.value.sexo=d),style:{width:"100%"}},{default:a(()=>[e(l,{value:"1"},{default:a(()=>[t("Masculino")]),_:1}),e(l,{value:"0"},{default:a(()=>[t("Femenino")]),_:1})]),_:1},8,["value"])])])])]),s("div",null,[s("div",je,[s("div",Oe,[e(y,null,{default:a(()=>[t("Colegio")]),_:1}),e(g,{value:i.value.colegio,"onUpdate:value":n[7]||(n[7]=d=>i.value.colegio=d),placeholder:"Basic usage"},null,8,["value"])])]),s("div",Ke,[s("div",Le,[e(y,null,{default:a(()=>[t("Procedencia")]),_:1}),e(g,{value:i.value.procedencia,"onUpdate:value":n[8]||(n[8]=d=>i.value.procedencia=d),placeholder:"Basic usage"},null,8,["value"])])]),s("div",Te,[s("div",$e,[e(y,null,{default:a(()=>[t("Proceso")]),_:1}),e(g,{value:i.value.proceso,"onUpdate:value":n[9]||(n[9]=d=>i.value.proceso=d),placeholder:"Basic usage"},null,8,["value"])])])])]),_:1}),e(R,{flex:"0 1 400px"},{default:a(()=>[s("div",null,[s("div",qe,[e(y,null,{default:a(()=>[t("Modalidad")]),_:1}),e(V,{ref:"select",value:i.value.modalidad,"onUpdate:value":n[10]||(n[10]=d=>i.value.modalidad=d),style:{width:"100%"}},{default:a(()=>[e(l,{value:7},{default:a(()=>[t("PERSONAS CON DISCAPACIDAD")]),_:1}),e(l,{value:8},{default:a(()=>[t("EXAMEN GENERAL")]),_:1}),e(l,{value:9},{default:a(()=>[t("CEPREUNA")]),_:1})]),_:1},8,["value"])]),s("div",null,[e(y,null,{default:a(()=>[t("Programa de estudios")]),_:1}),e(V,{ref:"select",value:i.value.programa,"onUpdate:value":n[11]||(n[11]=d=>i.value.programa=d),style:{width:"100%"},disabled:!0},{default:a(()=>[e(l,{value:1},{default:a(()=>[t("Administración")]),_:1}),e(l,{value:2},{default:a(()=>[t("Antropología")]),_:1}),e(l,{value:3},{default:a(()=>[t("Arquitectura y Urbanismo")]),_:1}),e(l,{value:4},{default:a(()=>[t("Arte: Artes plásticas")]),_:1}),e(l,{value:5},{default:a(()=>[t("Arte: Danza")]),_:1}),e(l,{value:6},{default:a(()=>[t("Arte: Musica")]),_:1}),e(l,{value:7},{default:a(()=>[t("Biología: Ecología")]),_:1}),e(l,{value:8},{default:a(()=>[t("Biología: Microbiología y laboratorio clínico")]),_:1}),e(l,{value:9},{default:a(()=>[t("Biología: Pesquería")]),_:1}),e(l,{value:1},{default:a(()=>[t("Ciencias contables")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ciencias de la comunicación")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ciencias físisco matemáticas: Física")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ciencias físisco matemáticas: Matemática")]),_:1}),e(l,{value:5},{default:a(()=>[t("Derecho")]),_:1}),e(l,{value:6},{default:a(()=>[t("Educación física")]),_:1}),e(l,{value:7},{default:a(()=>[t("Educación Inicial")]),_:1}),e(l,{value:8},{default:a(()=>[t("Educación primaria")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de ciencia, tecnología y ambiente")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Ciencias Sociales")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Lengua, Literatura, psicología y filosofía")]),_:1}),e(l,{value:9},{default:a(()=>[t("Educ. Sec. de la espeialidad de Matemática, física, computación e informática")]),_:1}),e(l,{value:1},{default:a(()=>[t("Enfermería")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ingeniería Agrícola")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ingeniería Agroindustrial")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ingeniería Civil")]),_:1}),e(l,{value:5},{default:a(()=>[t("Ingeniería de Minas")]),_:1}),e(l,{value:6},{default:a(()=>[t("Ingeniería de Sistemas")]),_:1}),e(l,{value:7},{default:a(()=>[t("Ingeniería Económica")]),_:1}),e(l,{value:8},{default:a(()=>[t("Ingeniería Electrónica")]),_:1}),e(l,{value:9},{default:a(()=>[t("Ingeniería Estadística e informática")]),_:1}),e(l,{value:1},{default:a(()=>[t("Ingeniería Geológica")]),_:1}),e(l,{value:2},{default:a(()=>[t("Ingeniería Mecánica eléctrica")]),_:1}),e(l,{value:3},{default:a(()=>[t("Ingeniería Metalúrgica")]),_:1}),e(l,{value:4},{default:a(()=>[t("Ingeniería Química")]),_:1}),e(l,{value:5},{default:a(()=>[t("Ingeniería Topográfica y Agrimensura")]),_:1}),e(l,{value:6},{default:a(()=>[t("Medicina Humana")]),_:1}),e(l,{value:7},{default:a(()=>[t("Medicina Veterinaria y zootecnia")]),_:1}),e(l,{value:8},{default:a(()=>[t("Nutrición Humana")]),_:1}),e(l,{value:9},{default:a(()=>[t("Odontología")]),_:1}),e(l,{value:1},{default:a(()=>[t("Sociología")]),_:1}),e(l,{value:2},{default:a(()=>[t("Trabajo Social")]),_:1}),e(l,{value:3},{default:a(()=>[t("Turismo")]),_:1})]),_:1},8,["value"])])]),s("div",He,[s("div",Re,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:r(x)+"/huellascepre/"+i.value.dni_temp+".jpg"},null,8,Ge)):(u(),c("img",{key:1,src:r(x)+"/huellas/huella.jpg"},null,8,We))]),s("div",Xe,[i.value.primer_apellido!==""?(u(),c("img",{key:0,src:r(x)+"/huellascepre/"+i.value.dni_temp+"x.jpg"},null,8,Qe)):(u(),c("img",{key:1,src:r(x)+"/huellas/huella.jpg"},null,8,Je))])])]),_:1})])]),s("div",Ye,[z.value==!1?(u(),c("div",Ze,[e(I,{type:"primary",onClick:H},{default:a(()=>[t("Inscribir")]),_:1})])):(u(),c("div",ea,[e(I,{type:"primary",disabled:"",onClick:H},{default:a(()=>[t("Inscribir")]),_:1})]))])])]),_:1}),e(S,{key:"2",tab:"Apoderados"},{default:a(()=>[e(A,{dataSource:K.value,columns:oe},{bodyCell:a(({column:d,index:h,record:m})=>[d.dataIndex==="parentesco"?(u(),c(C,{key:0},[m.parentesco=="Padre"?(u(),c("div",aa,[e(k,{color:"blue"},{default:a(()=>[t("Padre")]),_:1})])):p("",!0),m.parentesco=="Madre"?(u(),c("div",ta,[e(k,{color:"pink"},{default:a(()=>[t("Madre")]),_:1})])):p("",!0)],64)):p("",!0),d.dataIndex==="acciones"?(u(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:M=>o.abrirEditar(o.filiales[h]),size:"small"},{icon:a(()=>[e(r(Q))]),_:2},1032,["onClick"]),e(G,{type:"vertical"}),e(I,{type:"danger",disabled:"",onClick:M=>o.eliminar(o.filiales[h]),shape:"",size:"small"},{icon:a(()=>[e(r(re))]),_:2},1032,["onClick"])],64)):p("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"3",style:{}},{tab:a(()=>[s("div",oa,[N.value.length===0&&i.value.dni_temp!==""?(u(),c("div",la,[s("span",null,[e(r(W))])])):p("",!0),t(" vouchers ")])]),default:a(()=>[e(A,{dataSource:N.value,columns:le},{bodyCell:a(({column:d,index:h,record:m})=>[d.dataIndex==="codigo"?(u(),c(C,{key:0},[m.codigo==26?(u(),c("div",ia,[e(k,{color:"green"},{default:a(()=>[t(" Derechos de admisión ")]),_:1})])):p("",!0),m.codigo==39?(u(),c("div",sa,[e(k,{color:"pink"},{default:a(()=>[t(" Examen médico ")]),_:1})])):p("",!0)],64)):p("",!0),d.dataIndex==="monto"?(u(),c("div",na,[s("span",null,"S/ "+D(m.monto.toFixed(2)),1)])):p("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"4"},{tab:a(()=>[s("div",da,[B.value.length<3&&i.value.dni_temp!==""?(u(),c("div",ua,[s("span",null,[e(r(W))])])):p("",!0),t(" Documentos ")])]),default:a(()=>[e(A,{dataSource:B.value,columns:ie,size:"small"},{bodyCell:a(({column:d,index:h,record:m})=>[d.dataIndex==="estado"?(u(),c(C,{key:0},[m.estado==1?(u(),c("div",ca,[e(k,{color:"green"},{default:a(()=>[t(" verificado ")]),_:1})])):(u(),c("div",ra,[e(k,{color:"pink"},{default:a(()=>[t(" No verificado ")]),_:1})]))],64)):p("",!0),d.dataIndex==="acciones"?(u(),c(C,{key:1},[e(I,{type:"primary",disabled:"",onClick:M=>o.abrirEditar(o.filiales[h]),size:"small"},{icon:a(()=>[e(r(Q))]),_:2},1032,["onClick"]),e(G,{type:"vertical"}),s("a",{href:"../../"+m.url,target:"_blank"},[e(I,{type:"primary",onClick:M=>o.eliminar(o.filiales[h]),shape:"",size:"small"},{icon:a(()=>[e(r(X))]),_:2},1032,["onClick"])],8,pa)],64)):p("",!0)]),_:1},8,["dataSource"])]),_:1}),e(S,{key:"5",tab:"Inscripciones"},{default:a(()=>[s("pre",null,D(U.value),1)]),_:1}),e(S,{key:"6",tab:"Pre inscripciones"},{default:a(()=>[e(A,{dataSource:j.value,columns:ne,size:"small"},{bodyCell:a(({column:d,index:h,record:m})=>[d.dataIndex==="estado"?(u(),c(C,{key:0},[m.estado==1?(u(),c("div",_a,[e(k,{color:"green"},{default:a(()=>[t(" Disponible ")]),_:1})])):(u(),c("div",va,[e(k,{color:"pink"},{default:a(()=>[t(" Bloqueado ")]),_:1})]))],64)):p("",!0),d.dataIndex==="acciones"?(u(),pe(I,{key:1,type:"primary",disabled:"",onClick:M=>o.abrirEditar(o.filiales[h]),size:"small"},{icon:a(()=>[e(r(X))]),_:2},1032,["onClick"])):p("",!0)]),_:1},8,["dataSource"])]),_:1})]),_:1},8,["activeKey"])])]),_:1})],64)}}},xa=fe(ma,[["__scopeId","data-v-b2698cf1"]]);export{xa as default};
