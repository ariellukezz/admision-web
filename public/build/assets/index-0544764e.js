import{r as n,e as S,f as u,o as r,c as i,d as t,a,u as $,F as x,i as z,j as M,k as I,w as l,g as T,l as N,t as E,b as f,m as U}from"./app-f38c0f4e.js";import{H as G}from"./HomeOutlined-96bef525.js";const X={class:"ml-3 flex mb-2 mt-5"},Y={class:"flex"},A={style:{"margin-top":"-4px"}},J=["onClick"],K={class:"flex",style:{height:"20px","align-items":"center"}},P={class:"carpetas-select px-1"},Q=["onDblclick"],R=t("div",null,[t("svg",{width:"80px",height:"60px",viewBox:"0 0 32 32","enable-background":"new 0 0 32 32",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",null,[t("path",{d:"M27,9v5c0,0.55-0.45,1-1,1H6.74L2.96,27.29C2.83,27.72,2.43,28,2,28c-0.05,0-0.1,0-0.15-0.01    C1.36,27.92,1,27.5,1,27V5c0-0.55,0.45-1,1-1h7c0.31,0,0.61,0.15,0.8,0.4L12.5,8H26C26.55,8,27,8.45,27,9z",fill:"#476175"})]),t("g",null,[t("path",{d:"M30.96,14.29l-4,13C26.83,27.71,26.44,28,26,28H2c-0.32,0-0.62-0.15-0.8-0.41    c-0.19-0.25-0.25-0.58-0.16-0.88l4-13C5.17,13.29,5.56,13,6,13h24c0.32,0,0.62,0.15,0.8,0.41C30.99,13.66,31.05,13.99,30.96,14.29    z",fill:"#4761ac"})])])],-1),W=t("p",null,"Haz clic derecho dentro de este div para mostrar el menú contextual.",-1),Z=t("div",{style:{"margin-top":"0px"}}," Nueva Carpeta ",-1),ee=t("div",{style:{"margin-top":"0px"}}," Subir archivo ",-1),te={style:{background:"#476175",height:"36px","margin-left":"-24px","margin-right":"-24px","margin-top":"-24px"}},oe={class:"flex justify-between ml-3 mr-1",style:{height:"36px","align-items":"center"}},se=t("div",null,[t("span",{style:{"font-weight":"bold",color:"white","font-size":"1rem"}},"Nueva carpeta")],-1),ne={class:"flex",style:{height:"100px","align-items":"center"}},ae={style:{width:"100%"},class:""},le={style:{margin:"-24px","margin-top":"-5px"},class:"px-6 pb-3 flex justify-end"},de={__name:"index",setup(re){const c=n([{id:1,nombre:"home"}]);n([]);const V=n(null),h=n([]),p=n(1),d=n(!1),v=n(""),m=async()=>{try{const e=await N.get("/raiz/ver-contenido-carpeta/"+p.value);h.value=e.data.carpetas,V.value=e.data.carpeta}catch(e){e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)}},H=async()=>{try{const e=await N.post("/carpetas/crear-carpeta",{nombre:v.value,carpeta_padre_id:p.value});m(),d.value=!1}catch(e){e.response?console.error("Error de servidor:",e.response.data):e.request?console.error("Error de red:",e.request):console.error("Error de configuración:",e.message)}},g=async e=>{const o=c.value.indexOf(e);o!==-1?c.value.splice(o+1,c.value.length-o):c.value.push(e),p.value=e.id};S(p,(e,o)=>{m()});const q=e=>{console.log("Clic derecho detectado",e)},B=()=>{d.value=!1};m();const _=n(!1),b=n(0),y=n(0),D=e=>{_.value=!0,b.value=e.clientY,y.value=e.clientX,e.preventDefault()},w=e=>{e==="1"?(d.value=!0,_.value=!1):console.log("2")};return(e,o)=>{const k=u("a-menu-item"),L=u("a-menu"),C=u("a-button"),j=u("a-input"),F=u("a-modal");return r(),i(x,null,[t("div",X,[t("div",Y,[t("div",A,[a($(G))]),(r(!0),i(x,null,z(c.value,s=>(r(),i("div",{key:s.id,onClick:O=>g(s)},[t("div",K,[t("div",P,E(s.nombre),1),f(" / ")])],8,J))),128))])]),t("div",{class:"flex",onContextmenu:o[0]||(o[0]=M(s=>q(),["prevent"]))},[(r(!0),i(x,null,z(h.value,s=>(r(),i("div",{class:"carpetas-select",key:s.id,onDblclick:O=>g(s)},[R,t("div",null,E(s.nombre),1)],40,Q))),128))],32),t("div",{onContextmenu:M(D,["prevent"]),style:{height:"600px","background-color":"#eee",position:"relative"}},[W,_.value?(r(),i("div",{key:0,style:I([{position:"absolute"},{top:`${b.value-115}px`,left:`${y.value+10}px`}])},[a(L,{size:"small"},{default:l(()=>[a(k,{key:"1",class:"selec-menu",onClick:o[1]||(o[1]=s=>w("1"))},{default:l(()=>[Z]),_:1}),a(k,{key:"2",class:"selec-menu",onClick:o[2]||(o[2]=s=>w("2"))},{default:l(()=>[ee]),_:1})]),_:1})],4)):T("",!0)],32),a(F,{visible:d.value,"onUpdate:visible":o[6]||(o[6]=s=>d.value=s),closable:!1,style:{"max-width":"320px"},footer:!1},{default:l(()=>[t("div",te,[t("div",oe,[se,t("div",null,[t("span",null,[a(C,{onClick:o[3]||(o[3]=s=>B()),style:{background:"none",border:"none",color:"white","font-size":"1rem"}},{default:l(()=>[f("x")]),_:1})])])])]),t("div",ne,[t("div",ae,[a(j,{value:v.value,"onUpdate:value":o[4]||(o[4]=s=>v.value=s),style:{width:"100%"},placeholder:"Nombre carpeta"},{prefix:l(()=>[a($(U))]),_:1},8,["value"])])]),t("div",null,[t("div",le,[a(C,{onClick:o[5]||(o[5]=s=>H()),style:{background:"#476175",border:"none",color:"white",width:"100px","border-radius":"4px"}},{default:l(()=>[f(" Guardar ")]),_:1})])])]),_:1},8,["visible"])],64)}}};export{de as default};
