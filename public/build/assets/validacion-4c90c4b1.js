import{a as _,aX as X,r as T,e as V,o as k,E as M,w as x,y as B,d as w,u as O,f as S,c as N,t as L,b as H,F as G,n as J,I as Q,B as W,K as Z,_ as K,h as tt,i as et,O as nt,M as it}from"./app-56d1ec9a.js";import{A as ot}from"./LayoutDocente-62caf177.js";import{A as rt}from"./AntdIcon-4479f8c1.js";import{S as at}from"./SearchOutlined-d7402093.js";import{E as st}from"./EyeOutlined-0ac97cbc.js";import"./DropdownLink-70bd68ff.js";import"./logotiny-c4b525af.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TopMenu-5c6fcc4c.js";import"./DownOutlined-55181780.js";function U(m){for(var g=1;g<arguments.length;g++){var u=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),h.forEach(function(e){lt(m,e,u[e])})}return m}function lt(m,g,u){return g in m?Object.defineProperty(m,g,{value:u,enumerable:!0,configurable:!0,writable:!0}):m[g]=u,m}var D=function(g,u){var h=U({},g,u.attrs);return _(rt,U({},h,{icon:X}),null)};D.displayName="CopyOutlined";D.inheritAttrs=!1;const $=D;/*!
  * @soerenmartius/vue3-clipboard v0.1.2
  * (c) 2021 Soeren Martius
  * @license MIT
  */var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ct(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}function ft(m,g,u){return u={path:g,exports:{},require:function(h,e){return dt(h,e??u.path)}},m(u,u.exports),u.exports}function dt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var pt=ft(function(m,g){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(h,e){m.exports=e()})(ut,function(){return function(u){var h={};function e(t){if(h[t])return h[t].exports;var i=h[t]={i:t,l:!1,exports:{}};return u[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=u,e.c=h,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(i&1&&(t=e(t)),i&8||i&4&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),i&2&&typeof t!="string")for(var d in t)e.d(s,d,(function(c){return t[c]}).bind(null,d));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=6)}([function(u,h){function e(t){var i;if(t.nodeName==="SELECT")t.focus(),i=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var s=t.hasAttribute("readonly");s||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),s||t.removeAttribute("readonly"),i=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var d=window.getSelection(),c=document.createRange();c.selectNodeContents(t),d.removeAllRanges(),d.addRange(c),i=d.toString()}return i}u.exports=e},function(u,h){function e(){}e.prototype={on:function(t,i,s){var d=this.e||(this.e={});return(d[t]||(d[t]=[])).push({fn:i,ctx:s}),this},once:function(t,i,s){var d=this;function c(){d.off(t,c),i.apply(s,arguments)}return c._=i,this.on(t,c,s)},emit:function(t){var i=[].slice.call(arguments,1),s=((this.e||(this.e={}))[t]||[]).slice(),d=0,c=s.length;for(d;d<c;d++)s[d].fn.apply(s[d].ctx,i);return this},off:function(t,i){var s=this.e||(this.e={}),d=s[t],c=[];if(d&&i)for(var b=0,y=d.length;b<y;b++)d[b].fn!==i&&d[b].fn._!==i&&c.push(d[b]);return c.length?s[t]=c:delete s[t],this}},u.exports=e,u.exports.TinyEmitter=e},function(u,h,e){var t=e(3),i=e(4);function s(y,v,l){if(!y&&!v&&!l)throw new Error("Missing required arguments");if(!t.string(v))throw new TypeError("Second argument must be a String");if(!t.fn(l))throw new TypeError("Third argument must be a Function");if(t.node(y))return d(y,v,l);if(t.nodeList(y))return c(y,v,l);if(t.string(y))return b(y,v,l);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function d(y,v,l){return y.addEventListener(v,l),{destroy:function(){y.removeEventListener(v,l)}}}function c(y,v,l){return Array.prototype.forEach.call(y,function(f){f.addEventListener(v,l)}),{destroy:function(){Array.prototype.forEach.call(y,function(f){f.removeEventListener(v,l)})}}}function b(y,v,l){return i(document.body,y,v,l)}u.exports=s},function(u,h){h.node=function(e){return e!==void 0&&e instanceof HTMLElement&&e.nodeType===1},h.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==void 0&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in e&&(e.length===0||h.node(e[0]))},h.string=function(e){return typeof e=="string"||e instanceof String},h.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},function(u,h,e){var t=e(5);function i(c,b,y,v,l){var f=d.apply(this,arguments);return c.addEventListener(y,f,l),{destroy:function(){c.removeEventListener(y,f,l)}}}function s(c,b,y,v,l){return typeof c.addEventListener=="function"?i.apply(null,arguments):typeof y=="function"?i.bind(null,document).apply(null,arguments):(typeof c=="string"&&(c=document.querySelectorAll(c)),Array.prototype.map.call(c,function(f){return i(f,b,y,v,l)}))}function d(c,b,y,v){return function(l){l.delegateTarget=t(l.target,b),l.delegateTarget&&v.call(c,l)}}u.exports=s},function(u,h){var e=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function i(s,d){for(;s&&s.nodeType!==e;){if(typeof s.matches=="function"&&s.matches(d))return s;s=s.parentNode}}u.exports=i},function(u,h,e){e.r(h);var t=e(0),i=e.n(t),s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d=function(){function r(o,n){for(var a=0;a<n.length;a++){var p=n[a];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}}return function(o,n,a){return n&&r(o.prototype,n),a&&r(o,a),o}}();function c(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}var b=function(){function r(o){c(this,r),this.resolveOptions(o),this.initSelection()}return d(r,[{key:"resolveOptions",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=n.action,this.container=n.container,this.emitter=n.emitter,this.target=n.target,this.text=n.text,this.trigger=n.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var n=this,a=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return n.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[a?"right":"left"]="-9999px";var p=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=p+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var n=void 0;try{n=document.execCommand(this.action)}catch{n=!1}this.handleResult(n)}},{key:"handleResult",value:function(n){this.emitter.emit(n?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"copy";if(this._action=n,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(n){if(n!==void 0)if(n&&(typeof n>"u"?"undefined":s(n))==="object"&&n.nodeType===1){if(this.action==="copy"&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=n}else throw new Error('Invalid "target" value, use a valid Element')},get:function(){return this._target}}]),r}(),y=b,v=e(1),l=e.n(v),f=e(2),E=e.n(f),C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},P=function(){function r(o,n){for(var a=0;a<n.length;a++){var p=n[a];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}}return function(o,n,a){return n&&r(o.prototype,n),a&&r(o,a),o}}();function I(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function F(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function z(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var R=function(r){z(o,r);function o(n,a){I(this,o);var p=F(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return p.resolveOptions(a),p.listenClick(n),p}return P(o,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof a.action=="function"?a.action:this.defaultAction,this.target=typeof a.target=="function"?a.target:this.defaultTarget,this.text=typeof a.text=="function"?a.text:this.defaultText,this.container=C(a.container)==="object"?a.container:document.body}},{key:"listenClick",value:function(a){var p=this;this.listener=E()(a,"click",function(j){return p.onClick(j)})}},{key:"onClick",value:function(a){var p=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new y({action:this.action(p),target:this.target(p),text:this.text(p),container:this.container,trigger:p,emitter:this})}},{key:"defaultAction",value:function(a){return A("action",a)}},{key:"defaultTarget",value:function(a){var p=A("target",a);if(p)return document.querySelector(p)}},{key:"defaultText",value:function(a){return A("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],p=typeof a=="string"?[a]:a,j=!!document.queryCommandSupported;return p.forEach(function(q){j=j&&!!document.queryCommandSupported(q)}),j}}]),o}(l.a);function A(r,o){var n="data-clipboard-"+r;if(o.hasAttribute(n))return o.getAttribute(n)}h.default=R}]).default})}),ht=ct(pt);const Y=(m,g="copy")=>new Promise((u,h)=>{const e=document.createElement("button"),t=new ht(e,{text:()=>m,action:()=>g});t.on("success",i=>{t.destroy(),u(i)}),t.on("error",i=>{t.destroy(),h(i)}),document.body.appendChild(e),e.click(),document.body.removeChild(e)});const yt={style:{}},vt={class:"mb-2 flex justify-end"},mt={key:1,class:"flex justify-between"},gt={style:{"font-weight":"bold","font-size":"0.9rem","margin-right":"8px"}},bt={key:2,class:"flex justify-between"},_t={style:{"font-size":"0.9rem","margin-right":"8px"}},xt={key:3,class:"flex"},kt={style:{"text-transform":"uppercase","font-size":".9rem"}},Et={class:"flex justify-end"},wt=["src"],Nt={__name:"validacion",setup(m){const g=T([]),u=T(!1),h=T(""),e=T(""),t=T(0),i=T(1),s=T(10),d=l=>{console.log("http://admision-web.test/"+l.url),h.value="http://admision-web.test/"+l.url,u.value=!0},c=async()=>{let l=await B.post("get-certificados-revision?page="+i.value,{term:e.value,paginasize:s.value});g.value=l.data.datos.data,t.value=l.data.datos.total},b=async l=>{let f=0;l.verificado===0?f=1:f=0;let E=await B.post("cambiar-estado",{id:l.id,estado:f});y("success",E.data.titulo,E.data.mensaje),c()};V(e,(l,f)=>{c()}),V(i,(l,f)=>{c()}),V(s,(l,f)=>{c()});const y=(l,f,E)=>{J[l]({message:f,description:E})};c();const v=[{title:"ver",dataIndex:"ver",align:"center"},{title:"Codigo",dataIndex:"cod",key:"codigo",width:"100px"},{title:"Tipo",dataIndex:"tipo",key:"tipo",align:"center"},{title:"DNI",dataIndex:"dni",align:"left",width:"110px"},{title:"Postulante",dataIndex:"nombres",key:"nombres"},{title:"Estado",dataIndex:"verificado",key:"verificado",align:"center"},{title:"operation",dataIndex:"operation"}];return(l,f)=>{const E=Q,C=W,P=Z,I=K,F=tt,z=et,R=nt,A=it;return k(),M(ot,null,{default:x(()=>[w("div",yt,[_(R,{style:{background:"white"},class:"m-0 p-0"},{default:x(()=>[w("div",vt,[_(E,{placeholder:"Buscar",value:e.value,"onUpdate:value":f[0]||(f[0]=r=>e.value=r),style:{"max-width":"300px"}},{suffix:x(()=>[_(O(at))]),_:1},8,["value"])]),w("div",null,[_(F,{size:"small",dataSource:g.value,columns:v,pagination:!1},{bodyCell:x(({column:r,text:o,record:n})=>[r.dataIndex==="ver"?(k(),M(O(st),{key:0,onClick:a=>d(n),class:"custom-icon"},null,8,["onClick"])):S("",!0),r.dataIndex==="cod"?(k(),N("div",mt,[w("span",gt,L(n.cod),1),_(P,{title:"copiar"},{default:x(()=>[_(C,{onClick:a=>O(Y)(n.cod),style:{height:"22px",width:"20px"}},{icon:x(()=>[_(O($))]),_:2},1032,["onClick"])]),_:2},1024)])):S("",!0),r.dataIndex==="dni"?(k(),N("div",bt,[w("span",_t,L(n.dni),1),_(P,{title:"Copiar DNI"},{default:x(()=>[_(C,{onClick:a=>O(Y)(n.dni),style:{height:"22px",width:"20px"}},{icon:x(()=>[_(O($))]),_:2},1032,["onClick"])]),_:2},1024)])):S("",!0),r.dataIndex==="nombres"?(k(),N("div",xt,[w("span",kt,L(n.nombres)+" "+L(n.paterno)+" "+L(n.materno),1)])):S("",!0),r.dataIndex==="verificado"?(k(),N(G,{key:4},[n.verificado===0?(k(),M(I,{key:0,color:"error"},{default:x(()=>f[4]||(f[4]=[H("no verificado")])),_:1})):S("",!0),n.verificado===1?(k(),M(I,{key:1,color:"success"},{default:x(()=>f[5]||(f[5]=[H("verificado")])),_:1})):S("",!0)],64)):S("",!0),r.dataIndex==="operation"?(k(),M(C,{key:5,class:"custom-button",onClick:a=>b(n),type:"primary"},{default:x(()=>f[6]||(f[6]=[H("Validar")])),_:2},1032,["onClick"])):S("",!0)]),_:1},8,["dataSource"]),w("div",Et,[_(z,{current:i.value,"onUpdate:current":f[1]||(f[1]=r=>i.value=r),pageSize:s.value,"onUpdate:pageSize":f[2]||(f[2]=r=>s.value=r),total:t.value,"show-size-changer":"","show-less-items":""},null,8,["current","pageSize","total"])])])]),_:1})]),_(A,{width:"80%",height:"90%",visible:u.value,"onUpdate:visible":f[3]||(f[3]=r=>u.value=r),title:"Certificado",style:{"margin-top":"-70px"},onOk:l.handleOk},{default:x(()=>[w("iframe",{src:h.value,width:"100%",height:"450px"},null,8,wt)]),_:1},8,["visible","onOk"])]),_:1})}}};export{Nt as default};
